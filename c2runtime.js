// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ba,ca,da,ha,ia,ka,la,ma,oa,pa,qa,ra,sa,ta,x,ua,va,wa,ya,za,Aa,Ca,Da,Ea,Fa,Ga,M,Ia,Ka,La,Ma,Na,R,Oa,Pa,Qa,Ra,Sa,Ta,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,ac,bc,cc,dc,ec,fc,gc,hc,ic,jc,kc,lc,mc,nc={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(d){return d.__proto__}:function(d){return d.constructor.prototype});
(function(){function d(a,e,b,c){this.set(a,e,b,c)}function q(){this.Zb=this.Yb=this.ac=this.$b=this.mc=this.lc=this.Fb=this.Eb=0}function n(a,e,b,c){a<e?b<c?(H=a<b?a:b,F=e>c?e:c):(H=a<c?a:c,F=e>b?e:b):b<c?(H=e<b?e:b,F=a>c?a:c):(H=e<c?e:c,F=a>b?a:b)}function l(){this.items=this.fb=null;this.fj=0;y&&(this.fb=new Set);this.ki=[];this.Bf=!0}function p(a){v[V++]=a}function u(){this.ta=this.Gm=this.y=this.yn=0}function m(a){this.La=[];this.Dk=this.Fk=this.Gk=this.Ek=0;this.Xj(a)}function a(a,e){this.ub=
a;this.Gb=e;this.cells={}}function c(a,e){this.ub=a;this.Gb=e;this.cells={}}function f(a,e,b){var c;return W.length?(c=W.pop(),c.mo=a,c.x=e,c.y=b,c):new ba(a,e,b)}function e(a,e,b){this.mo=a;this.x=e;this.y=b;this.Nb=new ca}function b(a,e,b){var c;return J.length?(c=J.pop(),c.mo=a,c.x=e,c.y=b,c):new da(a,e,b)}function h(a,e,b){this.mo=a;this.x=e;this.y=b;this.Nb=[];this.Kh=!0;this.Ge=new ca;this.pi=!1}function g(a,e){return a.je-e.je}ha=function(a){window.console&&window.console.log&&window.console.log(a)};
ia=function(a){window.console&&window.console.error&&window.console.error(a)};aa=function(a){return a};ka=function(a){return"undefined"===typeof a};la=function(a){return"number"===typeof a};ma=function(a){return"string"===typeof a};oa=function(a){return 0<a&&0===(a-1&a)};pa=function(a){--a;for(var e=1;32>e;e<<=1)a=a|a>>e;return a+1};qa=function(a){return 0>a?-a:a};ra=function(a,e){return a>e?a:e};sa=function(a,e){return a<e?a:e};ta=Math.PI;x=function(a){return 0<=a?a|0:(a|0)-1};ua=function(a){var e=
a|0;return e===a?e:e+1};va=function(a,e,b,c,f,g,z,w){var h,k,r,t;a<b?(k=a,h=b):(k=b,h=a);f<z?(t=f,r=z):(t=z,r=f);if(h<t||k>r)return!1;e<c?(k=e,h=c):(k=c,h=e);g<w?(t=g,r=w):(t=w,r=g);if(h<t||k>r)return!1;h=f-a+z-b;k=g-e+w-c;a=b-a;e=c-e;f=z-f;g=w-g;w=qa(e*f-g*a);return qa(f*k-g*h)>w?!1:qa(a*k-e*h)<=w};d.prototype.set=function(a,e,b,c){this.left=a;this.top=e;this.right=b;this.bottom=c};d.prototype.qh=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};d.prototype.width=
function(){return this.right-this.left};d.prototype.height=function(){return this.bottom-this.top};d.prototype.offset=function(a,e){this.left+=a;this.top+=e;this.right+=a;this.bottom+=e;return this};d.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};d.prototype.zo=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};d.prototype.Ao=
function(a,e,b){return!(a.right+e<this.left||a.bottom+b<this.top||a.left+e>this.right||a.top+b>this.bottom)};d.prototype.Hb=function(a,e){return a>=this.left&&a<=this.right&&e>=this.top&&e<=this.bottom};d.prototype.Ai=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};wa=d;q.prototype.Je=function(a){this.Eb=a.left;this.Fb=a.top;this.lc=a.right;this.mc=a.top;this.$b=a.right;this.ac=a.bottom;this.Yb=a.left;this.Zb=a.bottom};q.prototype.eu=function(a,
e){if(0===e)this.Je(a);else{var b=Math.sin(e),c=Math.cos(e),f=a.left*b,g=a.top*b,z=a.right*b,b=a.bottom*b,w=a.left*c,h=a.top*c,k=a.right*c,c=a.bottom*c;this.Eb=w-g;this.Fb=h+f;this.lc=k-g;this.mc=h+z;this.$b=k-b;this.ac=c+z;this.Yb=w-b;this.Zb=c+f}};q.prototype.offset=function(a,e){this.Eb+=a;this.Fb+=e;this.lc+=a;this.mc+=e;this.$b+=a;this.ac+=e;this.Yb+=a;this.Zb+=e;return this};var H=0,F=0;q.prototype.ir=function(a){n(this.Eb,this.lc,this.$b,this.Yb);a.left=H;a.right=F;n(this.Fb,this.mc,this.ac,
this.Zb);a.top=H;a.bottom=F};q.prototype.Hb=function(a,e){var b=this.Eb,c=this.Fb,f=this.lc-b,g=this.mc-c,z=this.$b-b,w=this.ac-c,h=a-b,k=e-c,r=f*f+g*g,t=f*z+g*w,g=f*h+g*k,d=z*z+w*w,m=z*h+w*k,y=1/(r*d-t*t),f=(d*g-t*m)*y,r=(r*m-t*g)*y;if(0<=f&&0<r&&1>f+r)return!0;f=this.Yb-b;g=this.Zb-c;r=f*f+g*g;t=f*z+g*w;g=f*h+g*k;y=1/(r*d-t*t);f=(d*g-t*m)*y;r=(r*m-t*g)*y;return 0<=f&&0<r&&1>f+r};q.prototype.pd=function(a,e){if(e)switch(a){case 0:return this.Eb;case 1:return this.lc;case 2:return this.$b;case 3:return this.Yb;
case 4:return this.Eb;default:return this.Eb}else switch(a){case 0:return this.Fb;case 1:return this.mc;case 2:return this.ac;case 3:return this.Zb;case 4:return this.Fb;default:return this.Fb}};q.prototype.et=function(){return(this.Eb+this.lc+this.$b+this.Yb)/4};q.prototype.ft=function(){return(this.Fb+this.mc+this.ac+this.Zb)/4};q.prototype.Si=function(a,e,b,c){if(this.Hb(a,e)||this.Hb(b,c))return!0;var f,g,z,w,h;for(h=0;4>h;h++)if(f=this.pd(h,!0),g=this.pd(h,!1),z=this.pd(h+1,!0),w=this.pd(h+1,
!1),va(a,e,b,c,f,g,z,w))return!0;return!1};q.prototype.yo=function(a){var e=a.et(),b=a.ft();if(this.Hb(e,b))return!0;e=this.et();b=this.ft();if(a.Hb(e,b))return!0;var c,f,g,z,w,h,k,r;for(k=0;4>k;k++)for(r=0;4>r;r++)if(e=this.pd(k,!0),b=this.pd(k,!1),c=this.pd(k+1,!0),f=this.pd(k+1,!1),g=a.pd(r,!0),z=a.pd(r,!1),w=a.pd(r+1,!0),h=a.pd(r+1,!1),va(e,b,c,f,g,z,w,h))return!0;return!1};ya=q;za=function(a,e,b){return Math.max(Math.min(a,255),0)|Math.max(Math.min(e,255),0)<<8|Math.max(Math.min(b,255),0)<<16};
Aa=function(a){return a&255};Ca=function(a){return(a&65280)>>8};Da=function(a){return(a&16711680)>>16};Ea=function(a,e){for(var b in e)e.hasOwnProperty(b)&&(a[b]=e[b]);return a};Fa=function(a,e){var b,c;e=x(e);if(!(0>e||e>=a.length)){b=e;for(c=a.length-1;b<c;b++)a[b]=a[b+1];Ga(a,c)}};Ga=function(a,e){a.length=e};M=function(a){Ga(a,0)};Ia=function(a,e){M(a);var b,c;b=0;for(c=e.length;b<c;++b)a[b]=e[b]};Ka=function(a,e){a.push.apply(a,e)};La=function(a,e){var b,c;b=0;for(c=a.length;b<c;++b)if(a[b]===
e)return b;return-1};Ma=function(a,e){var b=La(a,e);-1!==b&&Fa(a,b)};Na=function(a,e,b){return a<e?e:a>b?b:a};R=function(a){return a/(180/ta)};Oa=function(a){return 180/ta*a};Pa=function(a){a%=360;0>a&&(a+=360);return a};Qa=function(a){a%=2*ta;0>a&&(a+=2*ta);return a};Ra=function(a){return Pa(Oa(a))};Sa=function(a){return Qa(R(a))};Ta=function(a,e,b,c){return Math.atan2(c-e,b-a)};Va=function(a,e){if(a===e)return 0;var b=Math.sin(a),c=Math.cos(a),f=Math.sin(e),g=Math.cos(e),b=b*f+c*g;return 1<=b?0:
-1>=b?ta:Math.acos(b)};Wa=function(a,e,b){var c=Math.sin(a),f=Math.cos(a),g=Math.sin(e),z=Math.cos(e);return Math.acos(c*g+f*z)>b?0<f*g-c*z?Qa(a+b):Qa(a-b):Qa(e)};Xa=function(a,e){var b=Math.sin(a),c=Math.cos(a),f=Math.sin(e),g=Math.cos(e);return 0>=c*f-b*g};Ya=function(a,e,b,c,f,g){if(0===b)return g?a:e;var z=Math.sin(b);b=Math.cos(b);a-=c;e-=f;var w=a*z;a=a*b-e*z;e=e*b+w;return g?a+c:e+f};Za=function(a,e,b,c){a=b-a;e=c-e;return Math.sqrt(a*a+e*e)};$a=function(a,e){return!a!==!e};ab=function(a,e,
b){return a===e?0:(b-a)/(e-a)};bb=function(a,e,b){var c=Va(a,e);return Xa(e,a)?a+c*b:a-c*b};cb=function(a){for(var e in a)if(a.hasOwnProperty(e))return!0;return!1};db=function(a){for(var e in a)a.hasOwnProperty(e)&&delete a[e]};var t=+new Date;ib=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-
t};var k=!1,r=k=!1,A=!1;"undefined"!==typeof window&&(k=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),k=!k&&/safari/i.test(navigator.userAgent),r=/(iphone|ipod|ipad)/i.test(navigator.userAgent),A=window.c2ejecta);var y=!k&&!A&&!r&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;l.prototype.contains=function(a){return this.Xe()?!1:y?this.fb.has(a):this.items&&this.items.hasOwnProperty(a)};l.prototype.add=function(a){if(y)this.fb.has(a)||(this.fb.add(a),
this.Bf=!1);else{var e=a.toString(),b=this.items;b?b.hasOwnProperty(e)||(b[e]=a,this.fj++,this.Bf=!1):(this.items={},this.items[e]=a,this.fj=1,this.Bf=!1)}};l.prototype.remove=function(a){if(!this.Xe())if(y)this.fb.has(a)&&(this.fb["delete"](a),this.Bf=!1);else if(this.items){a=a.toString();var e=this.items;e.hasOwnProperty(a)&&(delete e[a],this.fj--,this.Bf=!1)}};l.prototype.clear=function(){this.Xe()||(y?this.fb.clear():(this.items=null,this.fj=0),M(this.ki),this.Bf=!0)};l.prototype.Xe=function(){return 0===
this.count()};l.prototype.count=function(){return y?this.fb.size:this.fj};var v=null,V=0;l.prototype.WB=function(){if(!this.Bf){if(y)M(this.ki),v=this.ki,V=0,this.fb.forEach(p),v=null,V=0;else{var a=this.ki;M(a);var e,b=0,c=this.items;if(c)for(e in c)c.hasOwnProperty(e)&&(a[b++]=c[e])}this.Bf=!0}};l.prototype.md=function(){this.WB();return this.ki};ca=l;var B=new ca;jb=function(a){var e,b;e=0;for(b=a.length;e<b;++e)B.add(a[e]);Ia(a,B.md());B.clear()};kb=function(a,e){y?lb(a,e.fb):mb(a,e.md())};lb=
function(a,e){var b,c,f,g;c=b=0;for(f=a.length;b<f;++b)g=a[b],e.has(g)||(a[c++]=g);Ga(a,c)};mb=function(a,e){var b,c,g,f;c=b=0;for(g=a.length;b<g;++b)f=a[b],-1===La(e,f)&&(a[c++]=f);Ga(a,c)};u.prototype.add=function(a){this.y=a-this.yn;this.Gm=this.ta+this.y;this.yn=this.Gm-this.ta-this.y;this.ta=this.Gm};u.prototype.reset=function(){this.ta=this.Gm=this.y=this.yn=0};nb=u;ob=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};m.prototype.Xj=function(a){this.Mt=a;this.tc=a.length/2;this.La.length=
a.length;this.Jk=this.Kk=-1;this.lr=0};m.prototype.xe=function(){return!this.Mt.length};m.prototype.ba=function(){for(var a=this.La,e=a[0],b=e,c=a[1],f=c,g,z,w=1,h=this.tc;w<h;++w)z=2*w,g=a[z],z=a[z+1],g<e&&(e=g),g>b&&(b=g),z<c&&(c=z),z>f&&(f=z);this.Ek=e;this.Fk=b;this.Gk=c;this.Dk=f};m.prototype.Je=function(a,e,b){this.La.length=8;this.tc=4;var c=this.La;c[0]=a.left-e;c[1]=a.top-b;c[2]=a.right-e;c[3]=a.top-b;c[4]=a.right-e;c[5]=a.bottom-b;c[6]=a.left-e;c[7]=a.bottom-b;this.Kk=a.right-a.left;this.Jk=
a.bottom-a.top;this.ba()};m.prototype.kf=function(a,e,b,c,g){this.La.length=8;this.tc=4;var f=this.La;f[0]=a.Eb-e;f[1]=a.Fb-b;f[2]=a.lc-e;f[3]=a.mc-b;f[4]=a.$b-e;f[5]=a.ac-b;f[6]=a.Yb-e;f[7]=a.Zb-b;this.Kk=c;this.Jk=g;this.ba()};m.prototype.du=function(a){this.tc=a.tc;Ia(this.La,a.La);this.Ek=a.Ek;this.Gk-a.Gk;this.Fk=a.Fk;this.Dk=a.Dk};m.prototype.Pd=function(a,e,b){if(this.Kk!==a||this.Jk!==e||this.lr!==b){this.Kk=a;this.Jk=e;this.lr=b;var c,f,g,z,w,h=0,k=1,r=this.Mt,t=this.La;0!==b&&(h=Math.sin(b),
k=Math.cos(b));b=0;for(g=this.tc;b<g;b++)c=2*b,f=c+1,z=r[c]*a,w=r[f]*e,t[c]=z*k-w*h,t[f]=w*k+z*h;this.ba()}};m.prototype.Hb=function(a,e){var b=this.La;if(a===b[0]&&e===b[1])return!0;var c,f,g,z=this.tc,w=this.Ek-110,h=this.Gk-101,k=this.Fk+131,r=this.Dk+120,t,d,m=0,y=0;for(c=0;c<z;c++)f=2*c,g=(c+1)%z*2,t=b[f],f=b[f+1],d=b[g],g=b[g+1],va(w,h,a,e,t,f,d,g)&&m++,va(k,r,a,e,t,f,d,g)&&y++;return 1===m%2||1===y%2};m.prototype.Jg=function(a,e,b){var c=a.La,f=this.La;if(this.Hb(c[0]+e,c[1]+b)||a.Hb(f[0]-
e,f[1]-b))return!0;var g,z,w,h,k,r,t,d,m,y,H,v;g=0;for(h=this.tc;g<h;g++)for(z=2*g,w=(g+1)%h*2,d=f[z],z=f[z+1],m=f[w],y=f[w+1],w=0,t=a.tc;w<t;w++)if(k=2*w,r=(w+1)%t*2,H=c[k]+e,k=c[k+1]+b,v=c[r]+e,r=c[r+1]+b,va(d,z,m,y,H,k,v,r))return!0;return!1};m.prototype.Si=function(a,e,b,c,f,g){var z=this.La;if(this.Hb(b-a,c-e))return!0;var w,h,k,r,t,d;w=0;for(h=this.tc;w<h;w++)if(k=2*w,r=(w+1)%h*2,t=z[k]+a,k=z[k+1]+e,d=z[r]+a,r=z[r+1]+e,va(b,c,f,g,t,k,d,r))return!0;return!1};m.prototype.AA=function(a){var e,
b,c;e=0;for(b=this.tc;e<b;++e)c=2*e,this.La[c]=2*a-this.La[c]};m.prototype.jz=function(a){var e,b,c;e=0;for(b=this.tc;e<b;++e)c=2*e+1,this.La[c]=2*a-this.La[c]};m.prototype.Wx=function(){var a,e,b,c,f;a=0;for(e=this.tc;a<e;++a)b=2*a,c=b+1,f=this.La[b],this.La[b]=this.La[c],this.La[c]=f};pb=m;a.prototype.Kf=function(a,e,b){var c;c=this.cells[a];return c?(c=c[e])?c:b?(c=f(this,a,e),this.cells[a][e]=c):null:b?(c=f(this,a,e),this.cells[a]={},this.cells[a][e]=c):null};a.prototype.wc=function(a){return x(a/
this.ub)};a.prototype.xc=function(a){return x(a/this.Gb)};a.prototype.update=function(a,e,b){var c,f,g,z,w;if(e)for(c=e.left,f=e.right;c<=f;++c)for(g=e.top,z=e.bottom;g<=z;++g)if(!b||!b.Hb(c,g))if(w=this.Kf(c,g,!1))w.remove(a),w.Xe()&&(w.Nb.clear(),1E3>W.length&&W.push(w),this.cells[c][g]=null);if(b)for(c=b.left,f=b.right;c<=f;++c)for(g=b.top,z=b.bottom;g<=z;++g)e&&e.Hb(c,g)||this.Kf(c,g,!0).vo(a)};a.prototype.km=function(a,e){var b,c,f,g,z,w;b=this.wc(a.left);f=this.xc(a.top);c=this.wc(a.right);
for(z=this.xc(a.bottom);b<=c;++b)for(g=f;g<=z;++g)(w=this.Kf(b,g,!1))&&w.dump(e)};qb=a;c.prototype.Kf=function(a,e,c){var f;f=this.cells[a];return f?(f=f[e])?f:c?(f=b(this,a,e),this.cells[a][e]=f):null:c?(f=b(this,a,e),this.cells[a]={},this.cells[a][e]=f):null};c.prototype.wc=function(a){return x(a/this.ub)};c.prototype.xc=function(a){return x(a/this.Gb)};c.prototype.update=function(a,e,b){var c,f,g,z,w;if(e)for(c=e.left,f=e.right;c<=f;++c)for(g=e.top,z=e.bottom;g<=z;++g)if(!b||!b.Hb(c,g))if(w=this.Kf(c,
g,!1))w.remove(a),w.Xe()&&(w.reset(),1E3>J.length&&J.push(w),this.cells[c][g]=null);if(b)for(c=b.left,f=b.right;c<=f;++c)for(g=b.top,z=b.bottom;g<=z;++g)e&&e.Hb(c,g)||this.Kf(c,g,!0).vo(a)};c.prototype.km=function(a,e,b,c,f){var g,z;a=this.wc(a);e=this.xc(e);b=this.wc(b);for(g=this.xc(c);a<=b;++a)for(c=e;c<=g;++c)(z=this.Kf(a,c,!1))&&z.dump(f)};c.prototype.yA=function(a){var e,b,c,f,g;e=a.left;c=a.top;b=a.right;for(f=a.bottom;e<=b;++e)for(a=c;a<=f;++a)if(g=this.Kf(e,a,!1))g.Kh=!1};rb=c;var W=[];e.prototype.Xe=
function(){return this.Nb.Xe()};e.prototype.vo=function(a){this.Nb.add(a)};e.prototype.remove=function(a){this.Nb.remove(a)};e.prototype.dump=function(a){Ka(a,this.Nb.md())};ba=e;var J=[];h.prototype.Xe=function(){if(!this.Nb.length)return!0;if(this.Nb.length>this.Ge.count())return!1;this.Wn();return!0};h.prototype.vo=function(a){this.Ge.contains(a)?(this.Ge.remove(a),this.Ge.Xe()&&(this.pi=!1)):this.Nb.length?(this.Nb[this.Nb.length-1].we()>a.we()&&(this.Kh=!1),this.Nb.push(a)):(this.Nb.push(a),
this.Kh=!0)};h.prototype.remove=function(a){this.Ge.add(a);this.pi=!0;30<=this.Ge.count()&&this.Wn()};h.prototype.Wn=function(){this.pi&&(this.Ge.count()===this.Nb.length?this.reset():(kb(this.Nb,this.Ge),this.Ge.clear(),this.pi=!1))};h.prototype.By=function(){this.Kh||(this.Nb.sort(g),this.Kh=!0)};h.prototype.reset=function(){M(this.Nb);this.Kh=!0;this.Ge.clear();this.pi=!1};h.prototype.dump=function(a){this.Wn();this.By();this.Nb.length&&a.push(this.Nb)};da=h;var D="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");
sb=function(a){return 0>=a||11<=a?"source-over":D[a-1]};tb=function(a,e,b){if(b)switch(a.hc=b.ONE,a.cc=b.ONE_MINUS_SRC_ALPHA,e){case 1:a.hc=b.ONE;a.cc=b.ONE;break;case 3:a.hc=b.ONE;a.cc=b.ZERO;break;case 4:a.hc=b.ONE_MINUS_DST_ALPHA;a.cc=b.ONE;break;case 5:a.hc=b.DST_ALPHA;a.cc=b.ZERO;break;case 6:a.hc=b.ZERO;a.cc=b.SRC_ALPHA;break;case 7:a.hc=b.ONE_MINUS_DST_ALPHA;a.cc=b.ZERO;break;case 8:a.hc=b.ZERO;a.cc=b.ONE_MINUS_SRC_ALPHA;break;case 9:a.hc=b.DST_ALPHA;a.cc=b.ONE_MINUS_SRC_ALPHA;break;case 10:a.hc=
b.ONE_MINUS_DST_ALPHA,a.cc=b.SRC_ALPHA}};ub=function(a){return Math.round(1E6*a)/1E6};vb=function(a,e){return"string"!==typeof a||"string"!==typeof e||a.length!==e.length?!1:a===e?!0:a.toLowerCase()===e.toLowerCase()};wb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||vb(a.tagName,"canvas")?!0:!1}})();var oc="undefined"!==typeof Float32Array?Float32Array:Array;function pc(d){var q=new oc(3);d&&(q[0]=d[0],q[1]=d[1],q[2]=d[2]);return q}
function qc(d){var q=new oc(16);d&&(q[0]=d[0],q[1]=d[1],q[2]=d[2],q[3]=d[3],q[4]=d[4],q[5]=d[5],q[6]=d[6],q[7]=d[7],q[8]=d[8],q[9]=d[9],q[10]=d[10],q[11]=d[11],q[12]=d[12],q[13]=d[13],q[14]=d[14],q[15]=d[15]);return q}function rc(d,q){q[0]=d[0];q[1]=d[1];q[2]=d[2];q[3]=d[3];q[4]=d[4];q[5]=d[5];q[6]=d[6];q[7]=d[7];q[8]=d[8];q[9]=d[9];q[10]=d[10];q[11]=d[11];q[12]=d[12];q[13]=d[13];q[14]=d[14];q[15]=d[15]}
function sc(d,q){var n=q[0],l=q[1];q=q[2];d[0]*=n;d[1]*=n;d[2]*=n;d[3]*=n;d[4]*=l;d[5]*=l;d[6]*=l;d[7]*=l;d[8]*=q;d[9]*=q;d[10]*=q;d[11]*=q}
function tc(d,q,n,l){l||(l=qc());var p,u,m,a,c,f,e,b,h=d[0],g=d[1];d=d[2];u=n[0];m=n[1];p=n[2];n=q[1];f=q[2];h===q[0]&&g===n&&d===f?(d=l,d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=1,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=1,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1):(n=h-q[0],f=g-q[1],e=d-q[2],b=1/Math.sqrt(n*n+f*f+e*e),n*=b,f*=b,e*=b,q=m*e-p*f,p=p*n-u*e,u=u*f-m*n,(b=Math.sqrt(q*q+p*p+u*u))?(b=1/b,q*=b,p*=b,u*=b):u=p=q=0,m=f*u-e*p,a=e*q-n*u,c=n*p-f*q,(b=Math.sqrt(m*m+a*a+c*c))?(b=1/b,m*=b,a*=b,c*=b):c=a=m=0,
l[0]=q,l[1]=m,l[2]=n,l[3]=0,l[4]=p,l[5]=a,l[6]=f,l[7]=0,l[8]=u,l[9]=c,l[10]=e,l[11]=0,l[12]=-(q*h+p*g+u*d),l[13]=-(m*h+a*g+c*d),l[14]=-(n*h+f*g+e*d),l[15]=1)}
(function(){function d(a,c,f){this.Ye=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.Na=!!f;this.Bl=this.Wi=!1;this.Vk=0;this.cn=1;this.xq=1E3;this.bC=(this.xq-this.cn)/32768;this.An=pc([0,0,100]);this.Os=pc([0,0,0]);this.Gu=pc([0,1,0]);this.nk=pc([1,1,1]);this.Jr=!0;this.Wl=qc();this.dd=qc();this.Ko=qc();this.In=qc();this.K=a;this.version=0===this.K.getParameter(this.K.VERSION).indexOf("WebGL 2")?2:1;this.os()}function q(a,c,f){this.K=a;this.Yj=
c;this.name=f;this.vd=a.getAttribLocation(c,"aPos");this.Wf=a.getAttribLocation(c,"aTex");this.Ms=a.getUniformLocation(c,"matP");this.Rl=a.getUniformLocation(c,"matMV");this.Sh=a.getUniformLocation(c,"opacity");this.Wo=a.getUniformLocation(c,"colorFill");this.Ns=a.getUniformLocation(c,"samplerFront");this.uj=a.getUniformLocation(c,"samplerBack");this.Sg=a.getUniformLocation(c,"destStart");this.Rg=a.getUniformLocation(c,"destEnd");this.wj=a.getUniformLocation(c,"seconds");this.Yo=a.getUniformLocation(c,
"pixelWidth");this.Xo=a.getUniformLocation(c,"pixelHeight");this.tj=a.getUniformLocation(c,"layerScale");this.sj=a.getUniformLocation(c,"layerAngle");this.xj=a.getUniformLocation(c,"viewOrigin");this.vj=a.getUniformLocation(c,"scrollPos");this.Yz=!!(this.Yo||this.Xo||this.wj||this.uj||this.Sg||this.Rg||this.tj||this.sj||this.xj||this.vj);this.Ws=this.Xs=-999;this.Vl=1;this.Ss=this.Rs=0;this.Us=this.Qs=this.Ps=1;this.$s=this.Zs=this.Ys=this.ct=this.bt=this.Ts=0;this.Jo=[];this.Vs=qc();this.Sh&&a.uniform1f(this.Sh,
1);this.Wo&&a.uniform4f(this.Wo,1,1,1,1);this.Ns&&a.uniform1i(this.Ns,0);this.uj&&a.uniform1i(this.uj,1);this.Sg&&a.uniform2f(this.Sg,0,0);this.Rg&&a.uniform2f(this.Rg,1,1);this.tj&&a.uniform1f(this.tj,1);this.sj&&a.uniform1f(this.sj,0);this.xj&&a.uniform2f(this.xj,0,0);this.vj&&a.uniform2f(this.vj,0,0);this.wj&&a.uniform1f(this.wj,0);this.Gg=!1}function n(a,c){return a[0]===c[0]&&a[1]===c[1]&&a[2]===c[2]&&a[3]===c[3]&&a[4]===c[4]&&a[5]===c[5]&&a[6]===c[6]&&a[7]===c[7]&&a[8]===c[8]&&a[9]===c[9]&&
a[10]===c[10]&&a[11]===c[11]&&a[12]===c[12]&&a[13]===c[13]&&a[14]===c[14]&&a[15]===c[15]}function l(a,c){this.type=a;this.C=c;this.K=c.K;this.ad=this.ic=this.xt=0;this.qa=this.Fd=null;this.fu=[]}var p=qc();d.prototype.os=function(){var a=this.K,c;this.Gs=1;this.Og=this.Qf=null;this.Uk=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.Na?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):
a.disable(a.DEPTH_TEST);this.Hs=a.ONE;this.Ds=a.ONE_MINUS_SRC_ALPHA;this.mk=new Float32Array(8E3*(this.Na?3:2));this.dk=new Float32Array(16E3);this.It=new Float32Array(32E3);this.xp=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.xp);a.bufferData(a.ARRAY_BUFFER,this.It.byteLength,a.DYNAMIC_DRAW);this.lk=Array(4);this.ck=Array(4);for(c=0;4>c;c++)this.lk[c]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.lk[c]),a.bufferData(a.ARRAY_BUFFER,this.mk.byteLength,a.DYNAMIC_DRAW),this.ck[c]=a.createBuffer(),
a.bindBuffer(a.ARRAY_BUFFER,this.ck[c]),a.bufferData(a.ARRAY_BUFFER,this.dk.byteLength,a.DYNAMIC_DRAW);this.Pe=0;this.cA=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.cA);for(var f=new Uint16Array(12E3),e=c=0;12E3>c;)f[c++]=e,f[c++]=e+1,f[c++]=e+2,f[c++]=e,f[c++]=e+2,f[c++]=e+3,e+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,f,a.STATIC_DRAW);this.yp=this.ig=this.Hd=0;this.gb=[];c=this.Na?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";f=this.vi({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},c,"<default>");this.gb.push(f);f=this.vi({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.gb.push(f);f=this.vi({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},c,"<earlyz>");this.gb.push(f);f=this.vi({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
c,"<fill>");this.gb.push(f);for(var b in uc)uc.hasOwnProperty(b)&&this.gb.push(this.vi(uc[b],c,b));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.oe=[];this.Nd=0;this.Kb=!1;this.Ar=this.jj=-1;this.rh=null;this.Un=a.createFramebuffer();this.al=this.mm=null;this.gr=!1;this.Na&&(this.al=a.createRenderbuffer());this.kg=pc([0,0,0]);this.dt=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.dt&&(this.dt=2048);this.Jc(0)};q.prototype.rq=function(a){n(this.Vs,a)||(rc(a,this.Vs),this.K.uniformMatrix4fv(this.Rl,
!1,a))};d.prototype.vi=function(a,c,f){var e=this.K,b=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(b,a.src);e.compileShader(b);if(!e.getShaderParameter(b,e.COMPILE_STATUS))return e.deleteShader(b),null;var h=e.createShader(e.VERTEX_SHADER);e.shaderSource(h,c);e.compileShader(h);if(!e.getShaderParameter(h,e.COMPILE_STATUS))return e.deleteShader(b),e.deleteShader(h),null;c=e.createProgram();e.attachShader(c,b);e.attachShader(c,h);e.linkProgram(c);if(!e.getProgramParameter(c,e.LINK_STATUS))return e.deleteShader(b),
e.deleteShader(h),e.deleteProgram(c),null;e.useProgram(c);e.deleteShader(b);e.deleteShader(h);f=new q(e,c,f);f.Te=a.Te||0;f.Ue=a.Ue||0;f.Ff=!!a.Ff;f.fc=!!a.fc;f.zf=!!a.zf;f.Y=a.Y||[];a=0;for(b=f.Y.length;a<b;a++)f.Y[a][1]=e.getUniformLocation(c,f.Y[a][0]),f.Jo.push(0),e.uniform1f(f.Y[a][1],0);return f};d.prototype.jo=function(a){var c,f;c=0;for(f=this.gb.length;c<f;c++)if(this.gb[c].name===a)return c;return-1};d.prototype.Lt=function(a,c,f){var e=this.dd,b=this.Wl,h=[0,0,0,0,0,0,0,0];h[0]=e[0]*a+
e[4]*c+e[12];h[1]=e[1]*a+e[5]*c+e[13];h[2]=e[2]*a+e[6]*c+e[14];h[3]=e[3]*a+e[7]*c+e[15];h[4]=b[0]*h[0]+b[4]*h[1]+b[8]*h[2]+b[12]*h[3];h[5]=b[1]*h[0]+b[5]*h[1]+b[9]*h[2]+b[13]*h[3];h[6]=b[2]*h[0]+b[6]*h[1]+b[10]*h[2]+b[14]*h[3];h[7]=-h[2];0!==h[7]&&(h[7]=1/h[7],h[4]*=h[7],h[5]*=h[7],h[6]*=h[7],f[0]=(.5*h[4]+.5)*this.width,f[1]=(.5*h[5]+.5)*this.height)};d.prototype.Zg=function(a,c,f){if(this.width!==a||this.height!==c||f){this.Re();f=this.K;this.width=a;this.height=c;f.viewport(0,0,a,c);tc(this.An,
this.Os,this.Gu,this.dd);if(this.Na){var e=-a/2;a=a/2;var b=c/2;c=-c/2;var h=this.cn,g=this.xq,d=this.Wl;d||(d=qc());var m=a-e,t=c-b,k=g-h;d[0]=2/m;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=2/t;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[10]=-2/k;d[11]=0;d[12]=-(e+a)/m;d[13]=-(c+b)/t;d[14]=-(g+h)/k;d[15]=1;this.nk[0]=1;this.nk[1]=1}else c=a/c,e=this.cn,a=this.xq,d=this.Wl,g=e*Math.tan(45*Math.PI/360),c*=g,b=-c,h=-g,d||(d=qc()),m=c-b,t=g-h,k=a-e,d[0]=2*e/m,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=2*e/t,d[6]=0,d[7]=0,d[8]=(c+b)/
m,d[9]=(g+h)/t,d[10]=-(a+e)/k,d[11]=-1,d[12]=0,d[13]=0,d[14]=-(a*e*2)/k,d[15]=0,e=[0,0],a=[0,0],this.Lt(0,0,e),this.Lt(1,1,a),this.nk[0]=1/(a[0]-e[0]),this.nk[1]=-1/(a[1]-e[1]);e=0;for(a=this.gb.length;e<a;e++)b=this.gb[e],b.Gg=!1,b.Ms&&(f.useProgram(b.Yj),f.uniformMatrix4fv(b.Ms,!1,this.Wl));f.useProgram(this.gb[this.jj].Yj);f.bindTexture(f.TEXTURE_2D,null);f.activeTexture(f.TEXTURE1);f.bindTexture(f.TEXTURE_2D,null);f.activeTexture(f.TEXTURE0);this.Og=this.Qf=null;this.al&&(f.bindFramebuffer(f.FRAMEBUFFER,
this.Un),f.bindRenderbuffer(f.RENDERBUFFER,this.al),f.renderbufferStorage(f.RENDERBUFFER,f.DEPTH_COMPONENT16,this.width,this.height),this.gr||(f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,this.al),this.gr=!0),f.bindRenderbuffer(f.RENDERBUFFER,null),f.bindFramebuffer(f.FRAMEBUFFER,null),this.mm=null)}};d.prototype.Bd=function(){tc(this.An,this.Os,this.Gu,this.dd);sc(this.dd,this.nk)};d.prototype.translate=function(a,c){if(0!==a||0!==c){this.kg[0]=a;this.kg[1]=c;this.kg[2]=
0;var f=this.dd,e=this.kg,b=e[0],h=e[1],e=e[2];f[12]=f[0]*b+f[4]*h+f[8]*e+f[12];f[13]=f[1]*b+f[5]*h+f[9]*e+f[13];f[14]=f[2]*b+f[6]*h+f[10]*e+f[14];f[15]=f[3]*b+f[7]*h+f[11]*e+f[15]}};d.prototype.scale=function(a,c){if(1!==a||1!==c)this.kg[0]=a,this.kg[1]=c,this.kg[2]=1,sc(this.dd,this.kg)};d.prototype.pm=function(a){if(0!==a){var c=this.dd,f,e=Math.sin(a);a=Math.cos(a);var b=c[0],h=c[1],g=c[2],d=c[3],m=c[4],t=c[5],k=c[6],r=c[7];f?c!==f&&(f[8]=c[8],f[9]=c[9],f[10]=c[10],f[11]=c[11],f[12]=c[12],f[13]=
c[13],f[14]=c[14],f[15]=c[15]):f=c;f[0]=b*a+m*e;f[1]=h*a+t*e;f[2]=g*a+k*e;f[3]=d*a+r*e;f[4]=b*-e+m*a;f[5]=h*-e+t*a;f[6]=g*-e+k*a;f[7]=d*-e+r*a}};d.prototype.kd=function(){if(!n(this.Ko,this.dd)){var a=this.Gc();a.type=5;a.qa?rc(this.dd,a.qa):a.qa=qc(this.dd);rc(this.dd,this.Ko);this.Kb=!1}};d.prototype.wm=function(a){this.Na&&(32760<a&&(a=32760),this.Vk=this.An[2]-this.cn-a*this.bC)};l.prototype.hy=function(){var a=this.K,c=this.C;0!==this.ic?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),
a.bindFramebuffer(a.FRAMEBUFFER,c.Un),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),c.Bl=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),c.Bl=!1)};l.prototype.my=function(){this.K.bindTexture(this.K.TEXTURE_2D,this.Fd)};l.prototype.ny=function(){var a=this.K;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.Fd);a.activeTexture(a.TEXTURE0)};l.prototype.iy=function(){var a=this.xt,
c=this.C;c.Uk=a;c=c.rh;c.Sh&&c.Vl!==a&&(c.Vl=a,this.K.uniform1f(c.Sh,a))};l.prototype.by=function(){this.K.drawElements(this.K.TRIANGLES,this.ad,this.K.UNSIGNED_SHORT,this.ic)};l.prototype.ey=function(){this.K.blendFunc(this.ic,this.ad)};l.prototype.oy=function(){var a,c,f,e=this.C.gb,b=this.C.Ar;a=0;for(c=e.length;a<c;a++)f=e[a],a===b&&f.Rl?(f.rq(this.qa),f.Gg=!0):f.Gg=!1;rc(this.qa,this.C.In)};l.prototype.cy=function(){var a=this.K,c=this.C;this.Fd?(c.Og===this.Fd&&(a.activeTexture(a.TEXTURE1),
a.bindTexture(a.TEXTURE_2D,null),c.Og=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,c.Un),c.Bl||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Fd,0)):(c.Na||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};l.prototype.Zx=function(){var a=this.K,c=this.ic;0===c?(a.clearColor(this.qa[0],this.qa[1],this.qa[2],this.qa[3]),a.clear(a.COLOR_BUFFER_BIT)):1===c?(a.enable(a.SCISSOR_TEST),a.scissor(this.qa[0],
this.qa[1],this.qa[2],this.qa[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};l.prototype.gy=function(){var a=this.K;0!==this.ic?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};l.prototype.ay=function(){var a=this.K,c=this.C;c.Na&&a.disable(a.DEPTH_TEST);var f=c.gb[1];a.useProgram(f.Yj);!f.Gg&&f.Rl&&(f.rq(c.In),f.Gg=!0);a.enableVertexAttribArray(f.vd);a.bindBuffer(a.ARRAY_BUFFER,c.xp);a.vertexAttribPointer(f.vd,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,
this.ic/4,this.ad);f=c.rh;a.useProgram(f.Yj);0<=f.vd&&(a.enableVertexAttribArray(f.vd),a.bindBuffer(a.ARRAY_BUFFER,c.lk[c.Pe]),a.vertexAttribPointer(f.vd,c.Na?3:2,a.FLOAT,!1,0,0));0<=f.Wf&&(a.enableVertexAttribArray(f.Wf),a.bindBuffer(a.ARRAY_BUFFER,c.ck[c.Pe]),a.vertexAttribPointer(f.Wf,2,a.FLOAT,!1,0,0));c.Na&&a.enable(a.DEPTH_TEST)};l.prototype.jy=function(){var a=this.K,c=this.C,f=c.gb[this.ic];c.Ar=this.ic;c.rh=f;a.useProgram(f.Yj);!f.Gg&&f.Rl&&(f.rq(c.In),f.Gg=!0);f.Sh&&f.Vl!==c.Uk&&(f.Vl=c.Uk,
a.uniform1f(f.Sh,c.Uk));0<=f.vd&&(a.enableVertexAttribArray(f.vd),a.bindBuffer(a.ARRAY_BUFFER,c.lk[c.Pe]),a.vertexAttribPointer(f.vd,c.Na?3:2,a.FLOAT,!1,0,0));0<=f.Wf&&(a.enableVertexAttribArray(f.Wf),a.bindBuffer(a.ARRAY_BUFFER,c.ck[c.Pe]),a.vertexAttribPointer(f.Wf,2,a.FLOAT,!1,0,0))};l.prototype.fy=function(){var a=this.qa;this.K.uniform4f(this.C.rh.Wo,a[0],a[1],a[2],a[3])};l.prototype.ky=function(){var a,c,f=this.C.rh,e=this.K;a=this.qa;f.uj&&this.C.Og!==this.Fd&&(e.activeTexture(e.TEXTURE1),
e.bindTexture(e.TEXTURE_2D,this.Fd),this.C.Og=this.Fd,e.activeTexture(e.TEXTURE0));var b=a[0];f.Yo&&b!==f.Xs&&(f.Xs=b,e.uniform1f(f.Yo,b));b=a[1];f.Xo&&b!==f.Ws&&(f.Ws=b,e.uniform1f(f.Xo,b));b=a[2];c=a[3];!f.Sg||b===f.Rs&&c===f.Ss||(f.Rs=b,f.Ss=c,e.uniform2f(f.Sg,b,c));b=a[4];c=a[5];!f.Rg||b===f.Ps&&c===f.Qs||(f.Ps=b,f.Qs=c,e.uniform2f(f.Rg,b,c));b=a[6];f.tj&&b!==f.Us&&(f.Us=b,e.uniform1f(f.tj,b));b=a[7];f.sj&&b!==f.Ts&&(f.Ts=b,e.uniform1f(f.sj,b));b=a[8];c=a[9];!f.xj||b===f.bt&&c===f.ct||(f.bt=b,
f.ct=c,e.uniform2f(f.xj,b,c));b=a[10];c=a[11];!f.vj||b===f.Ys&&c===f.Zs||(f.Ys=b,f.Zs=c,e.uniform2f(f.vj,b,c));b=a[12];f.wj&&b!==f.$s&&(f.$s=b,e.uniform1f(f.wj,b));if(f.Y.length)for(a=0,c=f.Y.length;a<c;a++)b=this.fu[a],b!==f.Jo[a]&&(f.Jo[a]=b,e.uniform1f(f.Y[a][1],b))};d.prototype.Gc=function(){this.Nd===this.oe.length&&this.oe.push(new l(0,this));return this.oe[this.Nd++]};d.prototype.Re=function(){if(0!==this.Nd&&!this.K.isContextLost()){var a=this.K;0<this.yp&&(a.bindBuffer(a.ARRAY_BUFFER,this.xp),
a.bufferSubData(a.ARRAY_BUFFER,0,this.It.subarray(0,this.yp)),c&&0<=c.vd&&"<point>"===c.name&&a.vertexAttribPointer(c.vd,4,a.FLOAT,!1,0,0));if(0<this.Hd){var c=this.rh;a.bindBuffer(a.ARRAY_BUFFER,this.lk[this.Pe]);a.bufferSubData(a.ARRAY_BUFFER,0,this.mk.subarray(0,this.Hd));c&&0<=c.vd&&"<point>"!==c.name&&a.vertexAttribPointer(c.vd,this.Na?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.ck[this.Pe]);a.bufferSubData(a.ARRAY_BUFFER,0,this.dk.subarray(0,this.ig));c&&0<=c.Wf&&"<point>"!==c.name&&
a.vertexAttribPointer(c.Wf,2,a.FLOAT,!1,0,0)}for(var f,a=0,c=this.Nd;a<c;a++)switch(f=this.oe[a],f.type){case 1:f.by();break;case 2:f.my();break;case 3:f.iy();break;case 4:f.ey();break;case 5:f.oy();break;case 6:f.cy();break;case 7:f.Zx();break;case 8:f.ay();break;case 9:f.jy();break;case 10:f.ky();break;case 11:f.ny();break;case 12:f.fy();break;case 13:f.gy();break;case 14:f.hy()}this.yp=this.ig=this.Hd=this.Nd=0;this.Bl=this.Kb=!1;this.Pe++;4<=this.Pe&&(this.Pe=0)}};d.prototype.jf=function(a){if(a!==
this.Gs&&!this.Wi){var c=this.Gc();c.type=3;this.Gs=c.xt=a;this.Kb=!1}};d.prototype.qb=function(a){if(a!==this.Qf){var c=this.Gc();c.type=2;this.Qf=c.Fd=a;this.Kb=!1}};d.prototype.fg=function(a,c){if((a!==this.Hs||c!==this.Ds)&&!this.Wi){var f=this.Gc();f.type=4;f.ic=a;f.ad=c;this.Hs=a;this.Ds=c;this.Kb=!1}};d.prototype.Wt=function(){this.fg(this.K.ONE,this.K.ONE_MINUS_SRC_ALPHA)};d.prototype.Xg=function(a,c,f,e,b,h,g,d){15992<=this.Hd&&this.Re();var m=this.Hd,t=this.ig,k=this.mk,r=this.dk,A=this.Vk;
if(this.Kb)this.oe[this.Nd-1].ad+=6;else{var y=this.Gc();y.type=1;y.ic=this.Na?m:m/2*3;y.ad=6;this.Kb=!0}this.Na?(k[m++]=a,k[m++]=c,k[m++]=A,k[m++]=f,k[m++]=e,k[m++]=A,k[m++]=b,k[m++]=h,k[m++]=A,k[m++]=g,k[m++]=d,k[m++]=A):(k[m++]=a,k[m++]=c,k[m++]=f,k[m++]=e,k[m++]=b,k[m++]=h,k[m++]=g,k[m++]=d);r[t++]=0;r[t++]=0;r[t++]=1;r[t++]=0;r[t++]=1;r[t++]=1;r[t++]=0;r[t++]=1;this.Hd=m;this.ig=t};d.prototype.ae=function(a,c,f,e,b,h,g,d,m){15992<=this.Hd&&this.Re();var t=this.Hd,k=this.ig,r=this.mk,A=this.dk,
y=this.Vk;if(this.Kb)this.oe[this.Nd-1].ad+=6;else{var v=this.Gc();v.type=1;v.ic=this.Na?t:t/2*3;v.ad=6;this.Kb=!0}var v=m.left,q=m.top,p=m.right;m=m.bottom;this.Na?(r[t++]=a,r[t++]=c,r[t++]=y,r[t++]=f,r[t++]=e,r[t++]=y,r[t++]=b,r[t++]=h,r[t++]=y,r[t++]=g,r[t++]=d,r[t++]=y):(r[t++]=a,r[t++]=c,r[t++]=f,r[t++]=e,r[t++]=b,r[t++]=h,r[t++]=g,r[t++]=d);A[k++]=v;A[k++]=q;A[k++]=p;A[k++]=q;A[k++]=p;A[k++]=m;A[k++]=v;A[k++]=m;this.Hd=t;this.ig=k};d.prototype.Cp=function(a,c,f,e,b,h,g,d,m,t,k,r,A,y,v,q){15992<=
this.Hd&&this.Re();var p=this.Hd,n=this.ig,l=this.mk,u=this.dk,E=this.Vk;if(this.Kb)this.oe[this.Nd-1].ad+=6;else{var I=this.Gc();I.type=1;I.ic=this.Na?p:p/2*3;I.ad=6;this.Kb=!0}this.Na?(l[p++]=a,l[p++]=c,l[p++]=E,l[p++]=f,l[p++]=e,l[p++]=E,l[p++]=b,l[p++]=h,l[p++]=E,l[p++]=g,l[p++]=d,l[p++]=E):(l[p++]=a,l[p++]=c,l[p++]=f,l[p++]=e,l[p++]=b,l[p++]=h,l[p++]=g,l[p++]=d);u[n++]=m;u[n++]=t;u[n++]=k;u[n++]=r;u[n++]=A;u[n++]=y;u[n++]=v;u[n++]=q;this.Hd=p;this.ig=n};d.prototype.ur=function(a){var c=a.length/
2-2,f=c-1,e=a[0],b=a[1],h,g,d,m,t,k,r;for(h=0;h<c;h+=2)g=2*h,d=a[g+2],m=a[g+3],t=a[g+4],k=a[g+5],h===f?this.Xg(e,b,d,m,t,k,t,k):(r=a[g+6],g=a[g+7],this.Xg(e,b,d,m,t,k,r,g))};d.prototype.Jc=function(a){if(this.jj!==a){if(!this.gb[a]){if(0===this.jj)return;a=0}var c=this.Gc();c.type=9;this.jj=c.ic=a;this.Kb=!1}};d.prototype.Lj=function(a){a=this.gb[a];return!(!a.Sg&&!a.Rg)};d.prototype.Ap=function(a){a=this.gb[a];return!!(a.Sg||a.Rg||a.Ff)};d.prototype.zp=function(a){return this.gb[a].fc};d.prototype.iB=
function(a){a=this.gb[a];return 0!==a.Te||0!==a.Ue};d.prototype.Dz=function(a){return this.gb[a].Te};d.prototype.Ez=function(a){return this.gb[a].Ue};d.prototype.ds=function(a,c){return this.gb[a].Y[c][2]};d.prototype.hm=function(a){return this.gb[a].zf};d.prototype.gi=function(a,c,f,e,b,h,g,d,m,t,k,r,A,y,v){var q=this.gb[this.jj],p,l;if(q.Yz||v.length){p=this.Gc();p.type=10;p.qa?rc(this.dd,p.qa):p.qa=qc();l=p.qa;l[0]=c;l[1]=f;l[2]=e;l[3]=b;l[4]=h;l[5]=g;l[6]=d;l[7]=m;l[8]=t;l[9]=k;l[10]=r;l[11]=
A;l[12]=y;q.uj?p.Fd=a:p.Fd=null;if(v.length)for(f=p.fu,f.length=v.length,a=0,c=v.length;a<c;a++)f[a]=v[a];this.Kb=!1}};d.prototype.clear=function(a,c,f,e){var b=this.Gc();b.type=7;b.ic=0;b.qa||(b.qa=qc());b.qa[0]=a;b.qa[1]=c;b.qa[2]=f;b.qa[3]=e;this.Kb=!1};d.prototype.clearRect=function(a,c,f,e){if(!(0>f||0>e)){var b=this.Gc();b.type=7;b.ic=1;b.qa||(b.qa=qc());b.qa[0]=a;b.qa[1]=c;b.qa[2]=f;b.qa[3]=e;this.Kb=!1}};d.prototype.Zt=function(a){if(this.Na&&(a=!!a,this.Wi!==a)){var c=this.Gc();c.type=14;
c.ic=a?1:0;this.Kb=!1;this.Wi=a;this.mm=null;this.Wi?this.Jc(2):this.Jc(0)}};d.prototype.Yt=function(a){if(this.Na){var c=this.Gc();c.type=13;c.ic=a?1:0;this.Kb=!1}};d.prototype.Sr=function(){rc(this.Ko,p);this.Bd();this.kd();var a=this.width/2,c=this.height/2;this.Xg(-a,c,a,c,a,-c,-a,-c);rc(p,this.dd);this.kd()};d.prototype.Xt=function(a,c,f){this.Jc(3);var e=this.Gc();e.type=12;e.qa||(e.qa=qc());e.qa[0]=a;e.qa[1]=c;e.qa[2]=f;e.qa[3]=1;this.Kb=!1};d.prototype.HB=function(){this.Jc(0)};d.prototype.pB=
function(){this.Jc(2)};d.prototype.fB=function(){this.Re();this.K.flush()};var u=[],m={};d.prototype.Nx=function(){M(u);m={}};d.prototype.Ol=function(a,c,f,e){c=!!c;f=!!f;var b=a.src+","+c+","+f+(c?",undefined":""),h=null;if("undefined"!==typeof a.src&&m.hasOwnProperty(b))return h=m[b],h.Ik++,h;this.Re();var g=this.K,d=oa(a.width)&&oa(a.height),h=g.createTexture();g.bindTexture(g.TEXTURE_2D,h);g.pixelStorei(g.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var p=g.RGBA,t=g.RGBA,k=g.UNSIGNED_BYTE;if(e&&!this.Ye)switch(e){case 1:t=
p=g.RGB;break;case 2:k=g.UNSIGNED_SHORT_4_4_4_4;break;case 3:k=g.UNSIGNED_SHORT_5_5_5_1;break;case 4:t=p=g.RGB,k=g.UNSIGNED_SHORT_5_6_5}if(1===this.version&&!d&&c){e=document.createElement("canvas");e.width=pa(a.width);e.height=pa(a.height);var r=e.getContext("2d");"undefined"!==typeof r.imageSmoothingEnabled?r.imageSmoothingEnabled=f:(r.webkitImageSmoothingEnabled=f,r.mozImageSmoothingEnabled=f,r.msImageSmoothingEnabled=f);r.drawImage(a,0,0,a.width,a.height,0,0,e.width,e.height);g.texImage2D(g.TEXTURE_2D,
0,p,t,k,e)}else g.texImage2D(g.TEXTURE_2D,0,p,t,k,a);c?(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.REPEAT),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.REPEAT)):(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE));f?(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR),(d||2<=this.version)&&this.Jr?(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR_MIPMAP_LINEAR),g.generateMipmap(g.TEXTURE_2D)):g.texParameteri(g.TEXTURE_2D,
g.TEXTURE_MIN_FILTER,g.LINEAR)):(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.NEAREST),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.NEAREST));g.bindTexture(g.TEXTURE_2D,null);this.Qf=null;h.qg=a.width;h.pg=a.height;h.Ik=1;h.kr=b;u.push(h);return m[b]=h};d.prototype.pc=function(a,c,f,e,b){this.Re();var h=this.K;this.Ye&&(e=!1);var g=h.createTexture();h.bindTexture(h.TEXTURE_2D,g);h.texImage2D(h.TEXTURE_2D,0,h.RGBA,a,c,0,h.RGBA,e?h.UNSIGNED_SHORT_4_4_4_4:h.UNSIGNED_BYTE,null);b?(h.texParameteri(h.TEXTURE_2D,
h.TEXTURE_WRAP_S,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.REPEAT)):(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE));h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,f?h.LINEAR:h.NEAREST);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,f?h.LINEAR:h.NEAREST);h.bindTexture(h.TEXTURE_2D,null);this.Qf=null;g.qg=a;g.pg=c;u.push(g);return g};d.prototype.Wm=function(a,c,f){this.Re();var e=this.K;this.Ye&&(f=
!1);e.bindTexture(e.TEXTURE_2D,c);e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,f?e.UNSIGNED_SHORT_4_4_4_4:e.UNSIGNED_BYTE,a)}catch(b){console&&console.error&&console.error("Error updating WebGL texture: ",b)}e.bindTexture(e.TEXTURE_2D,null);this.Qf=null};d.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.Ik&&1<a.Ik?a.Ik--:(this.Re(),a===this.Qf&&(this.K.bindTexture(this.K.TEXTURE_2D,null),this.Qf=null),a===this.Og&&(this.K.activeTexture(this.K.TEXTURE1),
this.K.bindTexture(this.K.TEXTURE_2D,null),this.K.activeTexture(this.K.TEXTURE0),this.Og=null),Ma(u,a),"undefined"!==typeof a.kr&&delete m[a.kr],this.K.deleteTexture(a)))};d.prototype.Cd=function(a){if(a!==this.mm){var c=this.Gc();c.type=6;this.mm=c.Fd=a;this.Kb=!1}};xb=d})();
(function(){function d(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var e=this;this.We=(this.Cl=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.sc=!!a.dc;this.vs="undefined"!==typeof window.AppMobi||
this.sc;this.Vd=!!window.c2cocoonjs;this.Wd=!!window.c2ejecta;this.Vd&&(CocoonJS.App.onSuspended.addEventListener(function(){e.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){e.setSuspended(!1)}));this.Wd&&(document.addEventListener("pagehide",function(){e.setSuspended(!0)}),document.addEventListener("pageshow",function(){e.setSuspended(!1)}),document.addEventListener("resize",function(){e.setSize(window.innerWidth,window.innerHeight)}));this.na=this.sc||this.Vd||this.Wd;this.Yi=
/edge\//i.test(navigator.userAgent);this.Ye=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.Yi;this.ys=/tizen/i.test(navigator.userAgent);this.zl=/android/i.test(navigator.userAgent)&&!this.ys&&!this.Ye&&!this.Yi;this.Cs=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.Ye&&!this.Yi;this.rA=/ipad/i.test(navigator.userAgent);this.dj=this.Cs||this.rA||this.Wd;this.Vi=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.Ye&&!this.Yi;this.us=/amazonwebappplatform/i.test(navigator.userAgent);this.iA=/firefox/i.test(navigator.userAgent);this.mA=/safari/i.test(navigator.userAgent)&&!this.Vi&&!this.Ye&&!this.Yi;this.oA=/windows/i.test(navigator.userAgent);this.Kg="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.As=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);
this.pA=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.aj=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Go=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Fo=!!window.cr_windows10;this.zs=this.As||this.pA||this.Go||this.Fo;this.fA=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.Al=this.zl&&!this.Vi&&!this.Cl&&!this.iA&&!this.us&&!this.na;this.devicePixelRatio=
1;this.Nf=this.We||this.Cl||this.vs||this.Vd||this.zl||this.dj||this.aj||this.Go||this.fA||this.ys||this.Wd;this.Nf||(this.Nf=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.$i=!!(this.dj&&this.We&&window.webkit);this.po=null;this.aA="";this.$i&&(this.po=cordova&&cordova.plugins&&cordova.plugins.CorHttpd?cordova.plugins.CorHttpd:null);"undefined"===typeof cr_is_preview||this.Kg||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&
!/nwjs/i.test(navigator.userAgent)||(this.Kg=!0);this.canvas=a;this.oh=document.getElementById("c2canvasdiv");this.C=this.K=null;this.lo="(unavailable)";this.Na=!1;this.wg=0;this.Pa=null;this.Zn="";this.il=!1;this.tt=this.ut=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.sc&&(window.c2runtime=this);this.Kg&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=
function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.Al&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.X=this.width;this.W=this.height;this.Sk=this.width;this.xi=this.height;this.Oh=window.innerWidth;this.Nh=window.innerHeight;this.Ea=!0;this.Mg=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.H=[];this.Ya=[];this.Ro=
{};this.Yd=[];this.Tn={};this.Se=[];this.mi=[];this.Om=[];this.ux=[];this.vx=[];this.Vp=this.aq=null;this.ug={};this.Co=this.Lf=!1;this.cd=0;this.Bo=this.Eo=!1;this.Sd=[];this.Xi=!1;this.Ml=this.Np="";this.Cb=null;this.Ze="";this.ak=this.iu=!1;this.hl=[];this.If=this.vg=0;this.gt=30;this.Hn=this.yj=0;this.eh=1;this.Ab=new nb;this.rf=new nb;this.Yl=this.ml=this.zg=this.Xc=this.Qg=this.Xn=this.Hl=0;this.si=null;this.On=[];this.Sn=[];this.el=-1;this.Zo=[[]];this.nq=this.Sl=0;this.jm(null);this.bp=[];
this.Ul=-1;this.nt=this.Ej=0;this.Qo=!0;this.Ci=0;this.bk=[];this.kq=this.Dp=-1;this.ej=!0;this.Rh=0;this.Zi=!1;this.LB=0;this.mh=null;this.zb=this.hs=!1;this.mp=new ca;this.np=new ca;this.op=new ca;this.Qj=[];this.Kc=new pb([]);this.cq=new pb([]);this.lh=[];this.Ah={};this.Cf={};this.wf={};this.li={};this.hr={};this.Ks=this.Ll=this.nb=this.Bb=this.Js=this.Kl=this.pa=null;this.ji=this.Ho=!1;this.$n=[null,null];this.Ag=0;this.Vn="";this.ef={};this.$j=this.Uf=null;this.lu="";this.Xl=[];this.oB()}}function q(a,
e){return 128>=e?a[3]:256>=e?a[2]:512>=e?a[1]:a[0]}function n(){try{return!!window.indexedDB}catch(a){return!1}}function l(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function p(a,e,b,c){try{var f=indexedDB.open("_C2SaveStates");f.onupgradeneeded=l;f.onerror=c;f.onsuccess=function(f){f=f.target.result;f.onerror=c;f.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:e}).onsuccess=b}}catch(g){c(g)}}function u(a,e,b){try{var c=indexedDB.open("_C2SaveStates");
c.onupgradeneeded=l;c.onerror=b;c.onsuccess=function(c){c=c.target.result;c.onerror=b;var f=c.transaction(["saves"]).objectStore("saves").get(a);f.onsuccess=function(){f.result?e(f.result.data):e(null)}}}catch(f){b(f)}}function m(){ha("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function a(a){var e,b={};for(e in a)!a.hasOwnProperty(e)||a[e]instanceof
ca||a[e]&&"undefined"!==typeof a[e].MC||"spriteCreatedDestroyCallback"!==e&&(b[e]=a[e]);return b}var c=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;d.prototype.oB=function(){var a=this;if(this.$i){var e=function(){a.fz(function(e){a.rj(JSON.parse(e))},function(){alert("Error fetching data.js")})};this.po?this.po.startServer({port:0,localhost_only:!0},function(b){a.aA=b;e()},function(a){console.log("Error starting local server: "+
a+". Video playback will not work.");e()}):(console.log("Local server unavailable. Video playback will not work."),e())}else{var b;this.aj?b=new ActiveXObject("Microsoft.XMLHTTP"):b=new XMLHttpRequest;var c="data.js";if(this.As||this.aj||this.Go||this.Fo)c="data.json";b.open("GET",c,!0);var f=!1;if(!this.na&&"response"in b&&"responseType"in b)try{b.responseType="json",f="json"===b.responseType}catch(g){f=!1}if(!f&&"responseType"in b)try{b.responseType="text"}catch(h){}if("overrideMimeType"in b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(k){}this.aj?
b.onreadystatechange=function(){4===b.readyState&&a.rj(JSON.parse(b.responseText))}:(b.onload=function(){if(f)a.rj(b.response);else if(a.Wd){var e=b.responseText,e=e.substr(e.indexOf("{"));a.rj(JSON.parse(e))}else a.rj(JSON.parse(b.responseText))},b.onerror=function(a){ia("Error requesting "+c+":");ia(a)});b.send()}};d.prototype.dA=function(){var a=this,e,b,c,f,g,h,k,r,d;this.Lg=(!this.na||this.Wd||this.We)&&this.YB&&!this.Al;0===this.Ac&&this.dj&&(this.Lg=!1);this.devicePixelRatio=this.Lg?window.devicePixelRatio||
window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Wb();0<this.Ac&&this.setSize(window.innerWidth,window.innerHeight,!0);this.canvas.addEventListener("webglcontextlost",function(e){e.preventDefault();a.IA();ha("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.C.os();a.C.Zg(a.C.width,a.C.height,!0);a.Bb=null;a.nb=null;a.$n[0]=null;a.$n[1]=null;a.JA();a.Ea=!0;ha("[Construct 2] WebGL context restored");
window.cr_setSuspended(!1)},!1);try{this.zy&&(this.Vd||this.Wd||!this.na)&&(e={alpha:!0,depth:!1,antialias:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0},this.K=this.canvas.getContext("webgl2",e)||this.canvas.getContext("webgl",e)||this.canvas.getContext("experimental-webgl",e))}catch(t){}if(this.K){if(e=this.K.getExtension("WEBGL_debug_renderer_info"))this.lo=this.K.getParameter(e.UNMASKED_RENDERER_WEBGL)+" ["+this.K.getParameter(e.UNMASKED_VENDOR_WEBGL)+"]";this.Na&&(this.lo+=
" [front-to-back enabled]");this.na||(this.Tb=document.createElement("canvas"),jQuery(this.Tb).appendTo(this.canvas.parentNode),this.Tb.oncontextmenu=function(){return!1},this.Tb.onselectstart=function(){return!1},this.Tb.width=Math.round(this.Sk*this.devicePixelRatio),this.Tb.height=Math.round(this.xi*this.devicePixelRatio),jQuery(this.Tb).css({width:this.Sk+"px",height:this.xi+"px"}),this.Kt(),this.wp=this.Tb.getContext("2d"));this.C=new xb(this.K,this.Nf,this.Na);this.C.Zg(this.canvas.width,this.canvas.height);
this.C.Jr=0!==this.qy;this.Pa=null;e=0;for(b=this.H.length;e<b;e++)for(g=this.H[e],c=0,f=g.fa.length;c<f;c++)k=g.fa[c],k.kb=this.C.jo(k.id),k.fc=this.C.zp(k.kb),this.ji=this.ji||this.C.Lj(k.kb);e=0;for(b=this.Yd.length;e<b;e++){r=this.Yd[e];c=0;for(f=r.fa.length;c<f;c++)k=r.fa[c],k.kb=this.C.jo(k.id),k.fc=this.C.zp(k.kb);r.ie();c=0;for(f=r.ja.length;c<f;c++){d=r.ja[c];g=0;for(h=d.fa.length;g<h;g++)k=d.fa[g],k.kb=this.C.jo(k.id),k.fc=this.C.zp(k.kb),this.ji=this.ji||this.C.Lj(k.kb);d.ie()}}}else{if(0<
this.Ac&&this.sc){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.Pa=AppMobi.canvas.getContext("2d");try{this.Pa.samplingMode=this.Ra?"smooth":"sharp",this.Pa.globalScale=1,this.Pa.HTML5CompatibilityMode=!0,this.Pa.imageSmoothingEnabled=this.Ra}catch(m){}0!==this.width&&0!==this.height&&(this.Pa.width=this.width,this.Pa.height=this.height)}this.Pa||(this.Vd?(e={antialias:!!this.Ra,alpha:!0},this.Pa=this.canvas.getContext("2d",e)):(e={alpha:!0},
this.Pa=this.canvas.getContext("2d",e)),this.vm(this.Pa,this.Ra));this.wp=this.Tb=null}this.uu=function(e){a.Ma(!1,e)};window==window.top||this.na||this.zs||this.aj||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Vd&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(ha("Reloading for continuous preview"),
this.Ml="__c2_continuouspreview",this.ak=!0),this.YA&&!this.Nf&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var e=window.parent;e&&e.document.hasFocus()||a.setSuspended(!0)})));window.addEventListener("blur",function(){a.$f()});this.na||(e=function(a){if(wb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(e){}},"undefined"!==typeof PointerEvent?
document.addEventListener("pointerdown",e):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",e):document.addEventListener("touchstart",e),document.addEventListener("mousedown",e));0===this.Ac&&this.Lg&&1<this.devicePixelRatio&&this.setSize(this.Ta,this.Sa,!0);this.Du();this.Uz();this.go();this.F={}};d.prototype.setSize=function(a,e,b){var c=0,f=0,g=0,h=0,h=0;if(this.Oh!==a||this.Nh!==e||b){this.Oh=a;this.Nh=e;var k=this.Ac,r=(document.mozFullScreen||document.webkitIsFullScreen||
!!document.msFullscreenElement||document.fullScreen||this.Zi)&&!this.We;if(r||0!==this.Ac||b)r&&0<this.Ag&&(k=this.Ag),b=this.devicePixelRatio,4<=k?(g=this.Ta/this.Sa,a/e>g?(g*=e,5===k?(h=g*b/this.Ta,1<h?h=Math.floor(h):1>h&&(h=1/Math.ceil(1/h)),g=this.Ta*h/b,h=this.Sa*h/b,c=(a-g)/2,f=(e-h)/2,a=g,e=h):(c=(a-g)/2,a=g)):(h=a/g,5===k?(h=h*b/this.Sa,1<h?h=Math.floor(h):1>h&&(h=1/Math.ceil(1/h)),g=this.Ta*h/b,h=this.Sa*h/b,c=(a-g)/2,f=(e-h)/2,a=g):f=(e-h)/2,e=h),r&&!this.Kg&&(f=c=0)):this.Kg&&this.Zi&&
0===this.Tr&&(c=Math.floor((a-this.Ta)/2),f=Math.floor((e-this.Sa)/2),a=this.Ta,e=this.Sa),2>k&&(this.ri=b),this.Sk=Math.round(a),this.xi=Math.round(e),this.width=Math.round(a*b),this.height=Math.round(e*b),this.Ea=!0,this.Ou?(this.X=this.width,this.W=this.height,this.Zc=!0):this.width<this.Ta&&this.height<this.Sa||1===k?(this.X=this.width,this.W=this.height,this.Zc=!0):(this.X=this.Ta,this.W=this.Sa,this.Zc=!1,2===k?(g=this.Ta/this.Sa,k=this.Oh/this.Nh,k<g?this.X=this.W*k:k>g&&(this.W=this.X/k)):
3===k&&(g=this.Ta/this.Sa,k=this.Oh/this.Nh,k>g?this.X=this.W*k:k<g&&(this.W=this.X/k))),this.oh&&!this.na&&(jQuery(this.oh).css({width:Math.round(a)+"px",height:Math.round(e)+"px","margin-left":Math.floor(c)+"px","margin-top":Math.floor(f)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(e)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*b),this.canvas.height=Math.round(e*b),this.Wd?(this.canvas.style.left=Math.floor(c)+"px",this.canvas.style.top=
Math.floor(f)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(e)+"px"):this.Lg&&!this.na&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(e)+"px")),this.Tb&&(this.Tb.width=Math.round(a*b),this.Tb.height=Math.round(e*b),this.Tb.style.width=this.Sk+"px",this.Tb.style.height=this.xi+"px"),this.C&&this.C.Zg(Math.round(a*b),Math.round(e*b)),this.sc&&this.Pa&&(this.Pa.width=Math.round(a),this.Pa.height=Math.round(e)),this.Pa&&this.vm(this.Pa,
this.Ra),this.Du(),this.Cs&&!this.We&&window.scrollTo(0,0)}};d.prototype.Du=function(){if(this.Ax&&0!==this.up){var a="portrait";2===this.up&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(e){console&&console.warn&&
console.warn("Failed to lock orientation: ",e)}}};d.prototype.IA=function(){this.C.Nx();this.Ho=!0;var a,e,b;a=0;for(e=this.H.length;a<e;a++)b=this.H[a],b.Zh&&b.Zh()};d.prototype.JA=function(){this.Ho=!1;var a,e,b;a=0;for(e=this.H.length;a<e;a++)b=this.H[a],b.Gj&&b.Gj()};d.prototype.Kt=function(){if(!this.na){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Zi)&&!this.We?jQuery(this.canvas).offset():jQuery(this.canvas).position();
a.position="absolute";jQuery(this.Tb).css(a)}};var f=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;d.prototype.setSuspended=function(a){var e;if(a&&!this.Mg)for(ha("[Construct 2] Suspending"),this.Mg=!0,-1!==this.Dp&&f&&f(this.Dp),-1!==this.kq&&clearTimeout(this.kq),a=0,e=this.bk.length;a<e;a++)this.bk[a](!0);else if(!a&&this.Mg){ha("[Construct 2] Resuming");this.Mg=!1;this.Hl=ib();this.Qg=
ib();a=this.yj=this.ml=0;for(e=this.bk.length;a<e;a++)this.bk[a](!1);this.Ma(!1)}};d.prototype.rn=function(a){this.bk.push(a)};d.prototype.tf=function(a){return this.Xl[a]};d.prototype.rj=function(a){a&&a.project||ia("Project model unavailable");a=a.project;this.name=a[0];this.Rr=a[1];this.Ac=a[12];this.Tr=a[12];this.Ta=a[10];this.Sa=a[11];this.Et=this.Ta/2;this.Ft=this.Sa/2;this.na&&!this.Wd&&(4<=a[12]||0===a[12])&&(ha("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),
this.Tr=this.Ac=3);this.tq=a[18];this.Vf=a[19];if(0===this.Vf){var e=new Image;e.crossOrigin="anonymous";this.$t(e,"loading-logo.png");this.Uf={Tl:e}}else if(4===this.Vf){e=new Image;e.src="";var b=new Image;b.src="";var c=new Image;c.src="";var f=new Image;f.src="";var g=new Image;g.src="";var h=new Image;h.src="";var k=new Image;k.src="";var r=new Image;r.src="";var d=new Image;d.src="";var t=new Image;t.src="";var m=new Image;m.src="";var y=new Image;y.src="";this.Uf={Tl:[e,b,c,f],cB:[g,h,k,r],
aC:[d,t,m,y]}}this.Ej=a[21];this.Xl=vc();this.Ke=new T(this);e=0;for(b=a[2].length;e<b;e++)k=a[2][e],c=this.tf(k[0]),yb(k,c.prototype),r=new c(this),r.Em=k[1],r.Of=k[2],r.qA=k[5],r.kt=k[9],r.I&&r.I(),this.plugins.push(r);this.Xl=vc();e=0;for(b=a[3].length;e<b;e++){k=a[3][e];g=this.tf(k[1]);r=null;c=0;for(f=this.plugins.length;c<f;c++)if(this.plugins[c]instanceof g){r=this.plugins[c];break}d=new r.R(r);d.name=k[0];d.P=k[2];d.xo=k[3].slice(0);d.ZB=k[3].length;d.Bx=k[4];d.lz=k[5];d.ka=k[11];d.P?(d.Ae=
[],d.te=this.Ci++,d.Xa=null):(d.Ae=null,d.te=-1,d.Xa=[]);d.Di=null;d.xh=null;d.Kr=null;d.Rb=!1;d.Oc=null;k[6]?(d.Hm=k[6][0],d.Im=k[6][1],d.fq=k[6][2]):(d.Hm=null,d.Im=0,d.fq=0);k[7]?d.Nc=k[7]:d.Nc=null;d.index=e;d.j=[];d.Xk=[];d.nf=[new Ab(d)];d.pe=0;d.sd=null;d.Cr=0;d.ii=!0;d.Rm=Bb;d.co=Cb;d.Az=Db;d.aa=Eb;d.Nj=Fb;d.ai=Gb;d.gf=Hb;d.pl=Ib;d.ao=Jb;d.bo=Kb;d.Ld=Lb;d.eo=Mb;d.Nk=new qb(this.Ta,this.Sa);d.zk=!0;d.Ak=!1;d.F={};d.toString=Nb;d.Ya=[];c=0;for(f=k[8].length;c<f;c++){t=k[8][c];m=this.tf(t[1]);
y=null;g=0;for(h=this.Ya.length;g<h;g++)if(this.Ya[g]instanceof m){y=this.Ya[g];break}y||(y=new m(this),y.jp=[],y.Cj=new ca,y.I&&y.I(),this.Ya.push(y),wc&&y instanceof wc&&(this.aq=y),xc&&y instanceof xc&&(this.Vp=y));-1===y.jp.indexOf(d)&&y.jp.push(d);g=new y.R(y,d);g.name=t[0];g.ka=t[2];g.I();d.Ya.push(g)}d.global=k[9];d.Do=k[10];d.fa=[];c=0;for(f=k[12].length;c<f;c++)d.fa.push({id:k[12][c][0],name:k[12][c][1],kb:-1,fc:!1,Mc:!0,index:c});d.Km=k[13];this.tq&&!d.P&&!d.Do&&r.Of||d.I();d.name&&(this.types[d.name]=
d);this.H.push(d);r.Em&&(c=new r.L(d),c.uid=this.Ej++,c.Nt=this.nt++,c.Ig=0,c.Li=Ob,c.toString=Pb,c.q=k[14],c.I(),d.j.push(c),this.ef[c.uid.toString()]=c)}e=0;for(b=a[4].length;e<b;e++)for(g=a[4][e],h=this.H[g[0]],c=1,f=g.length;c<f;c++)k=this.H[g[c]],k.Xa.push(h),h.Ae.push(k);e=0;for(b=a[28].length;e<b;e++){g=a[28][e];h=[];c=0;for(f=g.length;c<f;c++)h.push(this.H[g[c]]);c=0;for(f=h.length;c<f;c++)h[c].Rb=!0,h[c].Oc=h}if(0<this.Ci)for(e=0,b=this.H.length;e<b;e++)if(k=this.H[e],!k.P&&k.Xa.length){k.Di=
Array(this.Ci);k.xh=Array(this.Ci);k.Kr=Array(this.Ci);d=[];c=y=m=t=0;for(f=k.Xa.length;c<f;c++)for(r=k.Xa[c],k.Di[r.te]=t,t+=r.ZB,k.xh[r.te]=m,m+=r.Bx,k.Kr[r.te]=y,y+=r.lz,g=0,h=r.fa.length;g<h;g++)d.push(Ea({},r.fa[g]));k.fa=d.concat(k.fa);c=0;for(f=k.fa.length;c<f;c++)k.fa[c].index=c}e=0;for(b=a[5].length;e<b;e++)k=a[5][e],c=new Qb(this,k),this.Ro[c.name]=c,this.Yd.push(c);e=0;for(b=a[6].length;e<b;e++)k=a[6][e],c=new Rb(this,k),this.Tn[c.name]=c,this.Se.push(c);e=0;for(b=this.Se.length;e<b;e++)this.Se[e].jb();
e=0;for(b=this.Se.length;e<b;e++)this.Se[e].qq();e=0;for(b=this.Om.length;e<b;e++)this.Om[e].jb();M(this.Om);this.zx=a[7];this.Vn=a[8];this.hd=a[9];this.ri=1;this.zy=a[13];this.Ra=a[14];this.rr=a[15];this.YB=a[17];this.up=a[20];this.Ax=0<this.up;this.YA=a[22];this.Zc=this.Ou=a[23];this.qy=a[24];this.dB=a[25];this.Na=a[27]&&!this.Ye;this.Fm=Date.now();M(this.Xl);this.dA()};var e=!1;d.prototype.Xm=function(a,b){a.cocoonLazyLoad=!0;a.onerror=function(b){e=a.jr=!0;console&&console.error&&console.error("Error loading image '"+
a.src+"': ",b)};this.Wd?a.src=b:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(e){a.src=e},function(c){e=a.jr=!0;console&&console.error&&console.error("Error extracting image '"+b+"' from expansion file: ",c)}):(a.crossOrigin="anonymous",this.$t(a,b)));this.mi.push(a)};d.prototype.iz=function(a){var e,b;e=0;for(b=this.mi.length;e<b;e++)if(this.mi[e].Qx===a)return this.mi[e];return null};var b=0,h=!1;d.prototype.Uz=function(){this.mh&&(b=this.mh.DB(this.zx))};d.prototype.er=function(){var a=
b,e=0,c=0,g=!0,f,k,c=0;for(f=this.mi.length;c<f;c++){k=this.mi[c];var r=k.Qk;if(!r||0>=r)r=5E4;a+=r;k.src&&(k.complete||k.loaded)&&!k.jr?e+=r:g=!1}g&&this.dB&&this.mh&&(h||(this.mh.MB(),h=!0),c=this.mh.Cz(),e+=c,c<b&&(g=!1));this.$d=0==a?1:e/a;return g};var g=!1;d.prototype.go=function(){if(this.Pa||this.C){var a=this.Pa||this.wp;this.Tb&&this.Kt();var b=window.innerWidth,f=window.innerHeight;this.Oh===b&&this.Nh===f||this.setSize(b,f);this.$d=0;this.Is=-1;var k=this;if(this.er()&&(4!==this.Vf||g))this.Vz();
else{f=Date.now()-this.Fm;if(a){var h=this.width,r=this.height,b=this.devicePixelRatio;if(3>this.Vf&&(this.Vd||500<=f&&this.Is!=this.$d)){a.clearRect(0,0,h,r);var f=h/2,r=r/2,h=0===this.Vf&&this.Uf.Tl.complete,d=40*b,t=0,m=80*b,y;if(h){var v=this.Uf.Tl,m=v.width*b;y=v.height*b;d=m/2;t=y/2;a.drawImage(v,x(f-d),x(r-t),m,y)}1>=this.Vf?(f=x(f-d)+.5,r=x(r+(t+(h?12*b:0)))+.5,a.fillStyle=e?"red":"DodgerBlue",a.fillRect(f,r,Math.floor(m*this.$d),6*b),a.strokeStyle="black",a.strokeRect(f,r,m,6*b),a.strokeStyle=
"white",a.strokeRect(f-1*b,r-1*b,m+2*b,8*b)):2===this.Vf&&(a.font=this.Wd?"12pt ArialMT":"12pt Arial",a.fillStyle=e?"#f00":"#999",a.RC="middle",b=Math.round(100*this.$d)+"%",h=a.measureText?a.measureText(b):null,a.fillText(b,f-(h?h.width:0)/2,r));this.Is=this.$d}else if(4===this.Vf){this.xy(a);c?c(function(){k.go()}):setTimeout(function(){k.go()},16);return}}setTimeout(function(){k.go()},this.Vd?10:100)}}};var H=-1,F="undefined"===typeof cr_is_preview?200:0,t=!0,k=!1,r=0,A=0,y="undefined"===typeof cr_is_preview?
3E3:0,v=null,V=null,B=0;d.prototype.xy=function(a){if(!g){for(var b=Math.ceil(this.width),c=Math.ceil(this.height),f=this.Uf.Tl,h=this.Uf.cB,d=this.Uf.aC,m=0;4>m;++m)if(!f[m].complete||!h[m].complete||!d[m].complete)return;0===B&&(H=Date.now());var m=Date.now(),p=!1,l=a,n,u;t||k?(a.clearRect(0,0,b,c),v&&v.width===b&&v.height===c||(v=document.createElement("canvas"),v.width=b,v.height=c,V=v.getContext("2d")),l=V,p=!0,t&&1===B&&(H=Date.now())):a.globalAlpha=1;l.fillStyle="#333333";l.fillRect(0,0,b,
c);256<this.xi?(n=Na(.22*c,105,.6*b),u=.25*n,l.drawImage(q(h,n),.5*b-n/2,.2*c-u/2,n,u),u=n=Math.min(.395*c,.95*b),l.drawImage(q(f,n),.5*b-n/2,.485*c-u/2,n,u),n=Na(.22*c,105,.6*b),u=.25*n,l.drawImage(q(d,n),.5*b-n/2,.868*c-u/2,n,u),l.fillStyle="#3C3C3C",n=b,u=Math.max(.005*c,2),l.fillRect(0,.8*c-u/2,n,u),l.fillStyle=e?"red":"#E0FF65",n=b*this.$d,l.fillRect(.5*b-n/2,.8*c-u/2,n,u)):(u=n=.55*c,l.drawImage(q(f,n),.5*b-n/2,.45*c-u/2,n,u),l.fillStyle="#3C3C3C",n=b,u=Math.max(.005*c,2),l.fillRect(0,.85*c-
u/2,n,u),l.fillStyle=e?"red":"#E0FF65",n=b*this.$d,l.fillRect(.5*b-n/2,.85*c-u/2,n,u));p&&(t?a.globalAlpha=0===B?0:Math.min((m-H)/300,1):k&&(a.globalAlpha=Math.max(1-(m-A)/300,0)),a.drawImage(v,0,0,b,c));t&&300<=m-H&&2<=B&&(t=!1,r=m);!t&&m-r>=y&&!k&&1<=this.$d&&(k=!0,A=m);if(k&&m-A>=300+F||"undefined"!==typeof cr_is_preview&&1<=this.$d&&500>Date.now()-H)g=!0,k=t=!1,this.Uf=V=v=null;++B}};d.prototype.Vz=function(){this.Tb&&(this.canvas.parentNode.removeChild(this.Tb),this.Tb=this.wp=null);this.Fm=
Date.now();this.Qg=ib();var a,e,b;if(this.tq)for(a=0,e=this.H.length;a<e;a++)b=this.H[a],b.P||b.Do||!b.wa.Of||b.I();else this.ej=!1;a=0;for(e=this.Yd.length;a<e;a++)this.Yd[a].Sx();2<=this.Ac&&(a=this.Ta/this.Sa,e=this.width/this.height,this.ri=2!==this.Ac&&e>a||2===this.Ac&&e<a?this.height/this.Sa:this.width/this.Ta);this.Rr?this.Ro[this.Rr].bq():this.Yd[0].bq();this.tq||(this.Rh=1,this.trigger(T.prototype.k.Kq,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&
navigator.splashscreen.hide();a=0;for(e=this.H.length;a<e;a++)b=this.H[a],b.wt&&b.wt();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Ma(!1);this.sc&&AppMobi.webview.execute("onGameReady();")};d.prototype.Ma=function(a,e,b){if(this.pa){var f=ib();if(b||!this.Mg||a){a||(c?this.Dp=c(this.uu):this.kq=setTimeout(this.uu,this.Nf?1:16));e=e||f;var g=this.Ac;((b=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&
!this.We)||this.Zi)&&0<this.Ag&&(g=this.Ag);if(0<g){var g=window.innerWidth,k=window.innerHeight;this.Oh===g&&this.Nh===k||this.setSize(g,k)}this.na||(b?(this.il||(this.Zn=jQuery(this.canvas).css("margin")||"0",this.il=!0),this.Vi||this.Kg||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.il?(this.Vi||this.Kg||jQuery(this.canvas).css("margin",this.Zn),
this.Zn="",this.il=!1,0===this.Ac&&this.setSize(Math.round(this.ut/this.devicePixelRatio),Math.round(this.tt/this.devicePixelRatio),!0)):(this.ut=this.width,this.tt=this.height));this.ej&&(b=this.er(),this.Rh=this.$d,b&&(this.ej=!1,this.$d=1,this.trigger(T.prototype.k.Kq,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.xA(e);!this.Ea&&!this.Vd||this.Ho||this.ak||a||(this.Ea=!1,this.C?this.Jb():this.Qc(),this.$j&&(this.canvas&&this.canvas.toDataURL&&(this.lu=this.canvas.toDataURL(this.$j[0],
this.$j[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.lu),this.trigger(T.prototype.k.Rv,null)),this.$j=null));this.OC||(this.Xc++,this.zg++,this.ml++);this.yj+=ib()-f}}};d.prototype.xA=function(a){var e,b,c,f,g,k,h,r;1E3<=a-this.Qg&&(this.Qg+=1E3,1E3<=a-this.Qg&&(this.Qg=a),this.Xn=this.ml,this.ml=0,this.Hn=this.yj,this.yj=0);e=0;0!==this.Hl&&(e=a-this.Hl,0>e&&(e=0),this.If=e/=1E3,.5<this.If?this.If=0:this.If>1/this.gt&&(this.If=1/this.gt));this.Hl=a;this.vg=this.If*this.eh;this.Ab.add(this.vg);
this.rf.add(e);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Zi)&&!this.We;2<=this.Ac||a&&0<this.Ag?(e=this.Ta/this.Sa,b=this.width/this.height,c=this.Ac,a&&0<this.Ag&&(c=this.Ag),this.ri=2!==c&&b>e||2===c&&b<e?this.height/this.Sa:this.width/this.Ta,this.pa&&(this.pa.Op(this.pa.scrollX),this.pa.Pp(this.pa.scrollY))):this.ri=this.Lg?this.devicePixelRatio:1;this.Wb();this.cd++;this.Ke.uB();this.cd--;this.Wb();this.cd++;b=this.mp.md();
a=0;for(e=b.length;a<e;a++)b[a].gB();a=0;for(e=this.H.length;a<e;a++)if(k=this.H[a],!k.P&&(k.Ya.length||k.Xa.length))for(b=0,c=k.j.length;b<c;b++)for(h=k.j[b],f=0,g=h.V.length;f<g;f++)h.V[f].Ma();a=0;for(e=this.H.length;a<e;a++)if(k=this.H[a],!k.P&&(k.Ya.length||k.Xa.length))for(b=0,c=k.j.length;b<c;b++)for(h=k.j[b],f=0,g=h.V.length;f<g;f++)r=h.V[f],r.bB&&r.bB();b=this.np.md();a=0;for(e=b.length;a<e;a++)b[a].Ma();this.cd--;this.Xz();for(a=0;this.si&&10>a++;)this.Fr(this.si);a=0;for(e=this.Se.length;a<
e;a++)this.Se[a].oo=!1;this.pa.xg&&this.pa.xg.pb();M(this.Qj);this.Qo=!1;this.cd++;a=0;for(e=this.H.length;a<e;a++)if(k=this.H[a],!k.P&&(k.Ya.length||k.Xa.length))for(b=0,c=k.j.length;b<c;b++)for(h=k.j[b],f=0,g=h.V.length;f<g;f++)r=h.V[f],r.dh&&r.dh();b=this.op.md();a=0;for(e=b.length;a<e;a++)b[a].dh();this.cd--};d.prototype.$f=function(){var a,e,b,c,f,g,k,h,r;a=0;for(e=this.H.length;a<e;a++)if(k=this.H[a],!k.P)for(b=0,c=k.j.length;b<c;b++)if(h=k.j[b],h.$f&&h.$f(),h.V)for(f=0,g=h.V.length;f<g;f++)r=
h.V[f],r.$f&&r.$f()};d.prototype.Fr=function(a){var e=this.pa;this.pa.NB();var b,c,f;if(this.C)for(b=0,c=this.H.length;b<c;b++)f=this.H[b],f.P||!f.Qm||f.global&&0!==f.j.length||-1!==a.Qi.indexOf(f)||f.Qm();e==a&&M(this.Ke.Lc);M(this.Qj);this.Ut(!0);a.bq();this.Ut(!1);this.Qo=this.Ea=!0;this.Wb()};d.prototype.Ut=function(a){var e,b,c,f,g,k,h,r,d;e=0;for(b=this.Ya.length;e<b;e++)c=this.Ya[e],a?c.Yh&&c.Yh():c.Fj&&c.Fj();e=0;for(b=this.H.length;e<b;e++)if(c=this.H[e],c.global||c.wa.Em)for(f=0,g=c.j.length;f<
g;f++)if(k=c.j[f],a?k.Yh&&k.Yh():k.Fj&&k.Fj(),k.V)for(h=0,r=k.V.length;h<r;h++)d=k.V[h],a?d.Yh&&d.Yh():d.Fj&&d.Fj()};d.prototype.hB=function(a){this.mp.add(a)};d.prototype.jg=function(a){this.np.add(a)};d.prototype.RB=function(a){this.op.add(a)};d.prototype.zh=function(a){return a&&-1!==a.Dj?this.If*a.Dj:this.vg};d.prototype.Qc=function(){this.pa.Qc(this.Pa);this.sc&&this.Pa.present()};d.prototype.Jb=function(){this.Na&&(this.wg=1,this.pa.Hf(this.C));this.pa.Jb(this.C);this.C.fB()};d.prototype.qn=
function(a){a&&this.On.push(a)};d.prototype.Ii=function(a){a=a.toString();return this.ef.hasOwnProperty(a)?this.ef[a]:null};var W=[];d.prototype.Id=function(a){var e,b;e=a.type.name;var c=null;if(this.ug.hasOwnProperty(e)){if(c=this.ug[e],c.contains(a))return}else c=W.length?W.pop():new ca,this.ug[e]=c;c.add(a);this.Lf=!0;if(a.Rb)for(e=0,b=a.siblings.length;e<b;e++)this.Id(a.siblings[e]);this.Co&&c.ki.push(a);this.Bo||(this.cd++,this.trigger(Object.getPrototypeOf(a.type.wa).k.Tv,a),this.cd--)};d.prototype.Wb=
function(){if(this.Lf){var a,e,b,c,f,g;this.Co=!0;b=0;for(f=this.Sd.length;b<f;++b)for(a=this.Sd[b],e=a.type,e.j.push(a),c=0,g=e.Xa.length;c<g;++c)e.Xa[c].j.push(a),e.Xa[c].ii=!0;M(this.Sd);this.Gv();db(this.ug);this.Lf=this.Co=!1}};d.prototype.Gv=function(){for(var a in this.ug)this.ug.hasOwnProperty(a)&&this.bv(this.ug[a])};d.prototype.bv=function(a){var e=a.md(),b=e[0].type,c,f,g,k,h,r;kb(b.j,a);b.ii=!0;0===b.j.length&&(b.Ak=!1);c=0;for(f=b.Xa.length;c<f;++c)r=b.Xa[c],kb(r.j,a),r.ii=!0;c=0;for(f=
this.Ke.Lc.length;c<f;++c)if(h=this.Ke.Lc[c],h.uc.hasOwnProperty(b.index)&&kb(h.uc[b.index].Ve,a),!b.P)for(g=0,k=b.Xa.length;g<k;++g)r=b.Xa[g],h.uc.hasOwnProperty(r.index)&&kb(h.uc[r.index].Ve,a);if(h=e[0].p){if(h.ld)for(g=h.j,c=0,f=g.length;c<f;++c)k=g[c],a.contains(k)&&(k.ba(),h.Vb.update(k,k.Hc,null),k.Hc.set(0,0,-1,-1));kb(h.j,a);h.Wj(0)}for(c=0;c<e.length;++c)this.$u(e[c],b);a.clear();W.push(a);this.Ea=!0};d.prototype.$u=function(a,e){var b,c,f;b=0;for(c=this.On.length;b<c;++b)this.On[b](a);
a.Df&&e.Nk.update(a,a.Df,null);(b=a.p)&&b.di(a,!0);if(a.V)for(b=0,c=a.V.length;b<c;++b)f=a.V[b],f.xd&&f.xd(),f.behavior.Cj.remove(a);this.mp.remove(a);this.np.remove(a);this.op.remove(a);a.xd&&a.xd();this.ef.hasOwnProperty(a.uid.toString())&&delete this.ef[a.uid.toString()];this.Yl--;100>e.Xk.length&&e.Xk.push(a)};d.prototype.Rk=function(a,e,b,c){if(a.P){var f=x(Math.random()*a.Ae.length);return this.Rk(a.Ae[f],e,b,c)}return a.sd?this.Ef(a.sd,e,!1,b,c,!1):null};var J=[];d.prototype.Ef=function(a,
e,b,c,f,g){var k,h,r,d;if(!a)return null;var t=this.H[a[1]],m=t.wa.Of;if(this.ej&&m&&!t.Do||m&&!this.C&&11===a[0][11])return null;var y=e;m||(e=null);var v;t.Xk.length?(v=t.Xk.pop(),v.gc=!0,t.wa.L.call(v,t)):(v=new t.wa.L(t),v.gc=!1);!b||g||this.ef.hasOwnProperty(a[2].toString())?v.uid=this.Ej++:v.uid=a[2];this.ef[v.uid.toString()]=v;v.Nt=this.nt++;v.Ig=t.j.length;k=0;for(h=this.Sd.length;k<h;++k)this.Sd[k].type===t&&v.Ig++;v.Li=Ob;v.toString=Pb;r=a[3];if(v.gc)db(v.F);else{v.F={};if("undefined"!==
typeof cr_is_preview)for(v.ts=[],v.ts.length=r.length,k=0,h=r.length;k<h;k++)v.ts[k]=r[k][1];v.Oa=[];v.Oa.length=r.length}k=0;for(h=r.length;k<h;k++)v.Oa[k]=r[k][0];if(m){var p=a[0];v.x=ka(c)?p[0]:c;v.y=ka(f)?p[1]:f;v.z=p[2];v.width=p[3];v.height=p[4];v.depth=p[5];v.n=p[6];v.opacity=p[7];v.Bc=p[8];v.Cc=p[9];v.Xb=p[10];k=p[11];!this.C&&t.fa.length&&(v.Xb=k);v.ti=sb(v.Xb);this.K&&tb(v,v.Xb,this.K);if(v.gc){k=0;for(h=p[12].length;k<h;k++)for(r=0,d=p[12][k].length;r<d;r++)v.Wa[k][r]=p[12][k][r];v.U.set(0,
0,0,0);v.Df.set(0,0,-1,-1);v.Hc.set(0,0,-1,-1);v.tb.Je(v.U);M(v.xn)}else{v.Wa=p[12].slice(0);k=0;for(h=v.Wa.length;k<h;k++)v.Wa[k]=p[12][k].slice(0);v.Ha=[];v.vf=[];v.vf.length=t.fa.length;v.U=new wa(0,0,0,0);v.Df=new wa(0,0,-1,-1);v.Hc=new wa(0,0,-1,-1);v.tb=new ya;v.xn=[];v.G=Sb;v.LC=Tb;v.Hb=Ub;v.ba=Vb;v.XB=Wb;v.Ku=Xb;v.we=Yb}v.of=!1;v.yu=0;v.xu=0;v.wu=null;14===p.length&&(v.of=!0,v.yu=p[13][0],v.xu=p[13][1],v.wu=p[13][2]);k=0;for(h=t.fa.length;k<h;k++)v.vf[k]=!0;v.lf=!0;v.ie=Zb;v.ie();v.Mu=!!v.Ha.length;
v.wn=!0;v.Dn=!0;t.zk=!0;v.visible=!0;v.Dj=-1;v.p=e;v.je=e.j.length;v.wg=0;"undefined"===typeof v.T&&(v.T=null);this.Ea=v.Rd=!0}var l;M(J);k=0;for(h=t.Xa.length;k<h;k++)J.push.apply(J,t.Xa[k].Ya);J.push.apply(J,t.Ya);if(v.gc)for(k=0,h=J.length;k<h;k++){var A=J[k];l=v.V[k];l.gc=!0;A.behavior.L.call(l,A,v);p=a[4][k];r=0;for(d=p.length;r<d;r++)l.q[r]=p[r];l.I();A.behavior.Cj.add(v)}else for(v.V=[],k=0,h=J.length;k<h;k++)A=J[k],l=new A.behavior.L(A,v),l.gc=!1,l.q=a[4][k].slice(0),l.I(),v.V.push(l),A.behavior.Cj.add(v);
p=a[5];if(v.gc)for(k=0,h=p.length;k<h;k++)v.q[k]=p[k];else v.q=p.slice(0);this.Sd.push(v);this.Lf=!0;e&&(e.qi(v,!0),1!==e.zd||1!==e.Ad)&&(t.Ak=!0);this.Yl++;if(t.Rb){if(v.Rb=!0,v.gc?M(v.siblings):v.siblings=[],!b&&!g){k=0;for(h=t.Oc.length;k<h;k++)if(t.Oc[k]!==t){if(!t.Oc[k].sd)return null;v.siblings.push(this.Ef(t.Oc[k].sd,y,!1,m?v.x:c,m?v.y:f,!0))}k=0;for(h=v.siblings.length;k<h;k++)for(v.siblings[k].siblings.push(v),r=0;r<h;r++)k!==r&&v.siblings[k].siblings.push(v.siblings[r])}}else v.Rb=!1,v.siblings=
null;v.I();k=0;for(h=v.V.length;k<h;k++)v.V[k].aB&&v.V[k].aB();return v};d.prototype.fo=function(a){var e,b;e=0;for(b=this.pa.ja.length;e<b;e++){var c=this.pa.ja[e];if(vb(c.name,a))return c}return null};d.prototype.Hi=function(a){a=x(a);0>a&&(a=0);a>=this.pa.ja.length&&(a=this.pa.ja.length-1);return this.pa.ja[a]};d.prototype.En=function(a){var e,b;e=0;for(b=a.length;e<b;e++)a[e].aa().da=!0};d.prototype.Nj=function(a){var e,b;e=0;for(b=a.length;e<b;e++)a[e].Nj()};d.prototype.ai=function(a){var e,
b;e=0;for(b=a.length;e<b;e++)a[e].ai()};d.prototype.gf=function(a){var e,b;e=0;for(b=a.length;e<b;e++)a[e].gf()};d.prototype.Iu=function(a){if(a.zk){var e,b,c=a.j;e=0;for(b=c.length;e<b;++e)c[e].Ku();c=this.Sd;e=0;for(b=c.length;e<b;++e)c[e].type===a&&c[e].Ku();a.zk=!1}};d.prototype.ql=function(a,e,b,c){var f,g,k=a?1!==a.zd||1!==a.Ad:!1;if(e.P)for(a=0,f=e.Ae.length;a<f;++a)g=e.Ae[a],k||g.Ak?Ka(c,g.j):(this.Iu(g),g.Nk.km(b,c));else k||e.Ak?Ka(c,e.j):(this.Iu(e),e.Nk.km(b,c))};d.prototype.tl=function(a,
e,b,c){var f,g;f=0;for(g=e.length;f<g;++f)this.ql(a,e[f],b,c)};d.prototype.ko=function(a,e,b){var c=this.aq;c&&this.tl(a,c.jp,e,b)};d.prototype.PB=function(a,e,b){var c=a.aa(),f,g,k,h,r=this.$a().hb.gd,d,t,m;if(c.da)for(c.da=!1,M(c.j),f=0,h=a.j.length;f<h;f++)k=a.j[f],k.ba(),d=k.p.nc(e,b,!0),t=k.p.nc(e,b,!1),k.Hb(d,t)?c.j.push(k):r&&c.ga.push(k);else{g=0;m=r?c.ga:c.j;f=0;for(h=m.length;f<h;f++)k=m[f],k.ba(),d=k.p.nc(e,b,!0),t=k.p.nc(e,b,!1),k.Hb(d,t)&&(r?c.j.push(k):(c.j[g]=c.j[f],g++));m.length=
g}a.Ld();return c.xl()};d.prototype.hg=function(a,e){if(!(a&&e&&a!==e&&a.Rd&&e.Rd))return!1;a.ba();e.ba();var b=a.p,c=e.p,f,g,k,h,r,d,t,m;if(b===c||b.zd===c.zd&&c.Ad===c.Ad&&b.scale===c.scale&&b.n===c.n&&b.ke===c.ke){if(!a.U.zo(e.U)||!a.tb.yo(e.tb)||a.of&&e.of)return!1;if(a.of)return this.qu(a,e);if(e.of)return this.qu(e,a);t=a.T&&!a.T.xe();f=e.T&&!e.T.xe();if(!t&&!f)return!0;t?(a.T.Pd(a.width,a.height,a.n),t=a.T):(this.Kc.kf(a.tb,a.x,a.y,a.width,a.height),t=this.Kc);f?(e.T.Pd(e.width,e.height,e.n),
m=e.T):(this.Kc.kf(e.tb,e.x,e.y,e.width,e.height),m=this.Kc);return t.Jg(m,e.x-a.x,e.y-a.y)}t=a.T&&!a.T.xe();f=e.T&&!e.T.xe();t?(a.T.Pd(a.width,a.height,a.n),this.Kc.du(a.T)):this.Kc.kf(a.tb,a.x,a.y,a.width,a.height);t=this.Kc;f?(e.T.Pd(e.width,e.height,e.n),this.cq.du(e.T)):this.cq.kf(e.tb,e.x,e.y,e.width,e.height);m=this.cq;f=0;for(g=t.tc;f<g;f++)k=2*f,h=k+1,r=t.La[k],d=t.La[h],t.La[k]=b.Ja(r+a.x,d+a.y,!0),t.La[h]=b.Ja(r+a.x,d+a.y,!1);t.ba();f=0;for(g=m.tc;f<g;f++)k=2*f,h=k+1,r=m.La[k],d=m.La[h],
m.La[k]=c.Ja(r+e.x,d+e.y,!0),m.La[h]=c.Ja(r+e.x,d+e.y,!1);m.ba();return t.Jg(m,0,0)};var D=new ya,E=new wa(0,0,0,0),I=[];d.prototype.qu=function(a,e){var b,c,f,k,g=e.U,h=a.x,r=a.y;a.Fi(g,I);var d=e.T&&!e.T.xe();b=0;for(c=I.length;b<c;++b)if(f=I[b],k=f.za,g.Ao(k,h,r)&&(D.Je(k),D.offset(h,r),D.yo(e.tb)))if(d)if(e.T.Pd(e.width,e.height,e.n),f.ec){if(f.ec.Jg(e.T,e.x-(h+k.left),e.y-(r+k.top)))return M(I),!0}else{if(this.Kc.kf(D,0,0,k.right-k.left,k.bottom-k.top),this.Kc.Jg(e.T,e.x,e.y))return M(I),!0}else if(f.ec){if(this.Kc.kf(e.tb,
0,0,e.width,e.height),f.ec.Jg(this.Kc,-(h+k.left),-(r+k.top)))return M(I),!0}else return M(I),!0;M(I);return!1};d.prototype.dq=function(a,e){if(!e||!e.Rd)return!1;e.ba();if(!e.U.zo(a))return!1;if(e.of){e.Fi(a,I);var b,c,f,k,g=e.x,h=e.y;b=0;for(c=I.length;b<c;++b)if(f=I[b],k=f.za,a.Ao(k,g,h))if(f.ec){if(this.Kc.Je(a,0,0),f.ec.Jg(this.Kc,-(g+k.left),-(h+k.top)))return M(I),!0}else return M(I),!0;M(I);return!1}D.Je(a);if(!e.tb.yo(D))return!1;if(!e.T||e.T.xe())return!0;e.T.Pd(e.width,e.height,e.n);D.offset(-a.left,
-a.top);this.Kc.kf(D,0,0,1,1);return e.T.Jg(this.Kc,a.left-e.x,a.top-e.y)};d.prototype.pu=function(a,e,b,c,f){if(!f||!f.Rd)return!1;f.ba();E.set(sa(a,b),sa(e,c),ra(a,b),ra(e,c));if(!f.U.zo(E))return!1;if(f.of){f.Fi(E,I);var k,g,h,r=f.x,d=f.y;f=0;for(k=I.length;f<k;++f)if(g=I[f],h=g.za,E.Ao(h,r,d)&&(D.Je(h),D.offset(r,d),D.Si(a,e,b,c)))if(g.ec){if(g.ec.Si(r+h.left,d+h.top,a,e,b,c))return M(I),!0}else return M(I),!0;M(I);return!1}if(!f.tb.Si(a,e,b,c))return!1;if(!f.T||f.T.xe())return!0;f.T.Pd(f.width,
f.height,f.n);return f.T.Si(f.x,f.y,a,e,b,c)};d.prototype.Eu=function(a,e){if(!e)return!1;var b,c,f,k,g;b=0;for(c=a.Ya.length;b<c;b++)if(a.Ya[b].behavior instanceof e)return!0;if(!a.P)for(b=0,c=a.Xa.length;b<c;b++)for(g=a.Xa[b],f=0,k=g.Ya.length;f<k;f++)if(g.Ya[f].behavior instanceof e)return!0;return!1};d.prototype.oq=function(a){return this.Eu(a,nc.vC)};d.prototype.pq=function(a){return this.Eu(a,nc.wC)};var U=[];d.prototype.Ed=function(a){var e,b,c;a.ba();this.ko(a.p,a.U,U);e=0;for(b=U.length;e<
b;++e)if(c=U[e],c.F.solidEnabled&&this.hg(a,c))return M(U),c;M(U);return null};d.prototype.QB=function(a){var e,b,c;this.ko(null,a,U);e=0;for(b=U.length;e<b;++e)if(c=U[e],c.F.solidEnabled&&this.dq(a,c))return M(U),c;M(U);return null};d.prototype.Pt=function(a,e,b,c){c=c||50;var f=a.x,k=a.y,g,h=null,r=null;for(g=0;g<c;g++)if(a.x=f+e*g,a.y=k+b*g,a.G(),!this.hg(a,h)&&((h=this.Ed(a))&&(r=h),!h&&!h))return r&&this.jB(a,e,b,r),!0;a.x=f;a.y=k;a.G();return!1};d.prototype.jB=function(a,e,b,c){var f=2,k,g=
!1;k=!1;for(var h=a.x,r=a.y;16>=f;)k=1/f,f*=2,a.x+=e*k*(g?1:-1),a.y+=b*k*(g?1:-1),a.G(),this.hg(a,c)?k=g=!0:(k=g=!1,h=a.x,r=a.y);k&&(a.x=h,a.y=r,a.G())};d.prototype.Qt=function(a,e){var b=ka(e)?100:e,c=0,f=a.x,k=a.y,g=0,h=0,r=0,d=this.Ed(a);if(!d)return!0;for(;c<=b;){switch(g){case 0:h=0;r=-1;c++;break;case 1:h=1;r=-1;break;case 2:h=1;r=0;break;case 3:r=h=1;break;case 4:h=0;r=1;break;case 5:h=-1;r=1;break;case 6:h=-1;r=0;break;case 7:r=h=-1}g=(g+1)%8;a.x=x(f+h*c);a.y=x(k+r*c);a.G();if(!this.hg(a,
d)&&(d=this.Ed(a),!d))return!0}a.x=f;a.y=k;a.G();return!1};d.prototype.ci=function(a,e){a.Rd&&e.Rd&&this.Qj.push([a,e])};d.prototype.Kx=function(a,e){var b,c,f;b=0;for(c=this.Qj.length;b<c;b++)if(f=this.Qj[b],f[0]==a&&f[1]==e||f[0]==e&&f[1]==a)return!0;return!1};d.prototype.Ix=function(a,e,b){var c=a.x,f=a.y,k=ra(10,Za(e,b,c,f)),g=Ta(e,b,c,f),h=this.Ed(a);if(!h)return Qa(g+ta);var r=h,d,t,m,v,y=R(5);for(d=1;36>d;d++)if(t=g-d*y,a.x=e+Math.cos(t)*k,a.y=b+Math.sin(t)*k,a.G(),!this.hg(a,r)&&(r=this.Ed(a),
!r)){m=t;break}36===d&&(m=Qa(g+ta));r=h;for(d=1;36>d;d++)if(t=g+d*y,a.x=e+Math.cos(t)*k,a.y=b+Math.sin(t)*k,a.G(),!this.hg(a,r)&&(r=this.Ed(a),!r)){v=t;break}36===d&&(v=Qa(g+ta));a.x=c;a.y=f;a.G();if(v===m)return v;a=Va(v,m)/2;a=Xa(v,m)?Qa(m+a+ta):Qa(v+a);m=Math.cos(g);g=Math.sin(g);v=Math.cos(a);a=Math.sin(a);e=m*v+g*a;return Ta(0,0,m-2*e*v,g-2*e*a)};var P=-1;d.prototype.trigger=function(a,e,b){if(!this.pa)return!1;var c=this.pa.xg;if(!c)return!1;var f=!1,k,g,h;P++;var r=c.Mn;g=0;for(h=r.length;g<
h;++g)k=this.Bu(a,e,r[g],b),f=f||k;k=this.Bu(a,e,c,b);P--;return f||k};d.prototype.Bu=function(a,e,b,c){var f=!1,k,g,h,r;if(e)for(h=this.mq(a,e,e.type.name,b,c),f=f||h,r=e.type.Xa,k=0,g=r.length;k<g;++k)h=this.mq(a,e,r[k].name,b,c),f=f||h;else h=this.mq(a,e,"system",b,c),f=f||h;return f};d.prototype.mq=function(a,e,b,c,f){var k,g=!1,h=!1,h="undefined"!==typeof f,r=(h?c.Mr:c.Cu)[b];if(!r)return g;var d=null;c=0;for(k=r.length;c<k;++c)if(r[c].method==a){d=r[c].Bi;break}if(!d)return g;var t;h?t=d[f]:
t=d;if(!t)return null;c=0;for(k=t.length;c<k;c++)a=t[c][0],f=t[c][1],h=this.ez(e,b,a,f),g=g||h;return g};d.prototype.ez=function(a,e,b,c){var f,k,g=!1;this.nq++;var h=this.$a().hb;h&&this.Nj(h.gg);var r=1<this.nq;this.Nj(b.gg);r&&this.kB();var d=this.jm(b);d.hb=b;a&&(f=this.types[e].aa(),f.da=!1,M(f.j),f.j[0]=a,this.types[e].Ld());a=!0;if(b.parent){e=d.ou;for(f=b.parent;f;)e.push(f),f=f.parent;e.reverse();f=0;for(k=e.length;f<k;f++)if(!e[f].wB()){a=!1;break}}a&&(this.zg++,b.gd?b.vB(c):b.pb(),g=g||
d.Pg);this.dm();r&&this.$A();this.gf(b.gg);h&&this.gf(h.gg);this.Lf&&0===this.cd&&0===P&&!this.Eo&&this.Wb();this.nq--;return g};d.prototype.Bg=function(){var a=this.$a();return a.hb.wb[a.lb]};d.prototype.sz=function(){return this.Bg().type};d.prototype.hA=function(){return 0===this.$a().lb};d.prototype.rz=function(){var a=this.$a();return a.hb.od[a.yc]};d.prototype.kB=function(){this.Sl++;this.Sl>=this.Zo.length&&this.Zo.push([])};d.prototype.$A=function(){this.Sl--};d.prototype.Xr=function(){return this.Zo[this.Sl]};
d.prototype.jm=function(a){this.el++;this.el>=this.Sn.length&&this.Sn.push(new $b);var e=this.$a();e.reset(a);return e};d.prototype.dm=function(){this.el--};d.prototype.$a=function(){return this.Sn[this.el]};d.prototype.Ot=function(){this.Ul++;this.Ul>=this.bp.length&&this.bp.push(aa({name:void 0,index:0,sb:!1}));var a=this.uz();a.name=void 0;a.index=0;a.sb=!1;return a};d.prototype.Jt=function(){this.Ul--};d.prototype.uz=function(){return this.bp[this.Ul]};d.prototype.Yr=function(a,e){for(var b,c,
f,k,g,h;e;){b=0;for(c=e.Dd.length;b<c;b++)if(h=e.Dd[b],h instanceof ac&&vb(a,h.name))return h;e=e.parent}b=0;for(c=this.Se.length;b<c;b++)for(g=this.Se[b],f=0,k=g.Jf.length;f<k;f++)if(h=g.Jf[f],h instanceof ac&&vb(a,h.name))return h;return null};d.prototype.as=function(a){var e,b;e=0;for(b=this.Yd.length;e<b;e++)if(this.Yd[e].ka===a)return this.Yd[e];return null};d.prototype.Eg=function(a){var e,b;e=0;for(b=this.H.length;e<b;e++)if(this.H[e].ka===a)return this.H[e];return null};d.prototype.vz=function(a){var e,
b;e=0;for(b=this.lh.length;e<b;e++)if(this.lh[e].ka===a)return this.lh[e];return null};d.prototype.Yx=function(a,e){this.$j=[a,e];this.Ea=!0};d.prototype.Xz=function(){var a=this,e=this.Np,b=this.Ze,c=this.Ml,f=!1;this.iu&&(f=!0,e="__c2_continuouspreview",this.iu=!1);if(e.length){this.Wb();b=this.AB();if(n()&&!this.Vd)p(e,b,function(){ha("Saved state to IndexedDB storage ("+b.length+" bytes)");a.Ze=b;a.trigger(T.prototype.k.gn,null);a.Ze="";f&&m()},function(c){try{localStorage.setItem("__c2save_"+
e,b),ha("Saved state to WebStorage ("+b.length+" bytes)"),a.Ze=b,a.trigger(T.prototype.k.gn,null),a.Ze="",f&&m()}catch(k){ha("Failed to save game state: "+c+"; "+k),a.trigger(T.prototype.k.Qq,null)}});else try{localStorage.setItem("__c2save_"+e,b),ha("Saved state to WebStorage ("+b.length+" bytes)"),a.Ze=b,this.trigger(T.prototype.k.gn,null),a.Ze="",f&&m()}catch(k){ha("Error saving to WebStorage: "+k),a.trigger(T.prototype.k.Qq,null)}this.Ml=this.Np="";this.Cb=null}if(c.length){if(n()&&!this.Vd)u(c,
function(e){e?(a.Cb=e,ha("Loaded state from IndexedDB storage ("+a.Cb.length+" bytes)")):(a.Cb=localStorage.getItem("__c2save_"+c)||"",ha("Loaded state from WebStorage ("+a.Cb.length+" bytes)"));a.ak=!1;a.Cb||(a.Cb=null,a.trigger(T.prototype.k.tk,null))},function(){a.Cb=localStorage.getItem("__c2save_"+c)||"";ha("Loaded state from WebStorage ("+a.Cb.length+" bytes)");a.ak=!1;a.Cb||(a.Cb=null,a.trigger(T.prototype.k.tk,null))});else{try{this.Cb=localStorage.getItem("__c2save_"+c)||"",ha("Loaded state from WebStorage ("+
this.Cb.length+" bytes)")}catch(g){this.Cb=null}this.ak=!1;a.Cb||(a.Cb=null,a.trigger(T.prototype.k.tk,null))}this.Np=this.Ml=""}null!==this.Cb&&(this.Wb(),this.wA(this.Cb)?(this.Ze=this.Cb,this.trigger(T.prototype.k.$v,null),this.Ze=""):a.trigger(T.prototype.k.tk,null),this.Cb=null)};d.prototype.AB=function(){var e,b,c,f,k,g,h,r={c2save:!0,version:1,rt:{time:this.Ab.ta,walltime:this.rf.ta,timescale:this.eh,tickcount:this.Xc,execcount:this.zg,next_uid:this.Ej,running_layout:this.pa.ka,start_time_offset:Date.now()-
this.Fm},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};e=0;for(b=this.H.length;e<b;e++)if(k=this.H[e],!k.P&&!this.oq(k)){g={instances:[]};cb(k.F)&&(g.ex=a(k.F));c=0;for(f=k.j.length;c<f;c++)g.instances.push(this.Mp(k.j[c]));r.types[k.ka.toString()]=g}e=0;for(b=this.Yd.length;e<b;e++)c=this.Yd[e],r.layouts[c.ka.toString()]=c.Ua();f=r.events.groups;e=0;for(b=this.lh.length;e<b;e++)c=this.lh[e],f[c.ka.toString()]=this.Ah[c.Mi].Fg;b=r.events.cnds;for(h in this.Cf)this.Cf.hasOwnProperty(h)&&
(e=this.Cf[h],cb(e.F)&&(b[h]={ex:a(e.F)}));b=r.events.acts;for(h in this.wf)this.wf.hasOwnProperty(h)&&(e=this.wf[h],cb(e.F)&&(b[h]={ex:a(e.F)}));b=r.events.vars;for(h in this.li)this.li.hasOwnProperty(h)&&(e=this.li[h],e.Dl||e.parent&&!e.cj||(b[h]=e.data));r.system=this.Ke.Ua();return JSON.stringify(r)};d.prototype.St=function(){var a,e,b,c,f,k;this.ef={};a=0;for(e=this.H.length;a<e;a++)if(b=this.H[a],!b.P)for(c=0,f=b.j.length;c<f;c++)k=b.j[c],this.ef[k.uid.toString()]=k};d.prototype.wA=function(a){var e;
try{e=JSON.parse(a)}catch(b){return!1}if(!e.c2save||1<e.version)return!1;this.Xi=!0;a=e.rt;this.Ab.reset();this.Ab.ta=a.time;this.rf.reset();this.rf.ta=a.walltime||0;this.eh=a.timescale;this.Xc=a.tickcount;this.zg=a.execcount;this.Fm=Date.now()-a.start_time_offset;var c=a.running_layout;if(c!==this.pa.ka)if(c=this.as(c))this.Fr(c);else return;var f,k,g,h,r,d,t;d=e.types;for(k in d)if(d.hasOwnProperty(k)&&(h=this.Eg(parseInt(k,10)))&&!h.P&&!this.oq(h)){d[k].ex?h.F=d[k].ex:db(h.F);r=h.j;g=d[k].instances;
c=0;for(f=sa(r.length,g.length);c<f;c++)this.Nl(r[c],g[c]);c=g.length;for(f=r.length;c<f;c++)this.Id(r[c]);c=r.length;for(f=g.length;c<f;c++){r=null;if(h.wa.Of&&(r=this.pa.sl(g[c].w.l),!r))continue;r=this.Ef(h.sd,r,!1,0,0,!0);this.Nl(r,g[c])}h.ii=!0}this.Wb();this.St();f=e.layouts;for(k in f)f.hasOwnProperty(k)&&(c=this.as(parseInt(k,10)))&&c.ab(f[k]);f=e.events.groups;for(k in f)f.hasOwnProperty(k)&&(c=this.vz(parseInt(k,10)))&&this.Ah[c.Mi]&&this.Ah[c.Mi].xm(f[k]);c=e.events.cnds;for(k in this.Cf)this.Cf.hasOwnProperty(k)&&
(c.hasOwnProperty(k)?this.Cf[k].F=c[k].ex:this.Cf[k].F={});c=e.events.acts;for(k in this.wf)this.wf.hasOwnProperty(k)&&(c.hasOwnProperty(k)?this.wf[k].F=c[k].ex:this.wf[k].F={});c=e.events.vars;for(k in c)c.hasOwnProperty(k)&&this.li.hasOwnProperty(k)&&(this.li[k].data=c[k]);this.Ej=a.next_uid;this.Xi=!1;c=0;for(f=this.hl.length;c<f;++c)r=this.hl[c],this.trigger(Object.getPrototypeOf(r.type.wa).k.uf,r);M(this.hl);this.Ke.ab(e.system);c=0;for(f=this.H.length;c<f;c++)if(h=this.H[c],!h.P&&!this.oq(h))for(e=
0,k=h.j.length;e<k;e++){r=h.j[e];if(h.Rb)for(d=r.Li(),M(r.siblings),a=0,g=h.Oc.length;a<g;a++)t=h.Oc[a],h!==t&&r.siblings.push(t.j[d]);r.ne&&r.ne();if(r.V)for(a=0,g=r.V.length;a<g;a++)d=r.V[a],d.ne&&d.ne()}return this.Ea=!0};d.prototype.Mp=function(e,b){var c,f,k,g,h;g=e.type;k=g.wa;var r={};b?r.c2=!0:r.uid=e.uid;cb(e.F)&&(r.ex=a(e.F));if(e.Oa&&e.Oa.length)for(r.ivs={},c=0,f=e.Oa.length;c<f;c++)r.ivs[e.type.xo[c].toString()]=e.Oa[c];if(k.Of){k={x:e.x,y:e.y,w:e.width,h:e.height,l:e.p.ka,zi:e.we()};
0!==e.n&&(k.a=e.n);1!==e.opacity&&(k.o=e.opacity);.5!==e.Bc&&(k.hX=e.Bc);.5!==e.Cc&&(k.hY=e.Cc);0!==e.Xb&&(k.bm=e.Xb);e.visible||(k.v=e.visible);e.Rd||(k.ce=e.Rd);-1!==e.Dj&&(k.mts=e.Dj);if(g.fa.length)for(k.fx=[],c=0,f=g.fa.length;c<f;c++)h=g.fa[c],k.fx.push({name:h.name,active:e.vf[h.index],params:e.Wa[h.index]});r.w=k}if(e.V&&e.V.length)for(r.behs={},c=0,f=e.V.length;c<f;c++)g=e.V[c],g.Ua&&(r.behs[g.type.ka.toString()]=g.Ua());e.Ua&&(r.data=e.Ua());return r};d.prototype.xz=function(a,e){var b,
c;b=0;for(c=a.xo.length;b<c;b++)if(a.xo[b]===e)return b;return-1};d.prototype.qz=function(a,e){var b,c;b=0;for(c=a.V.length;b<c;b++)if(a.V[b].type.ka===e)return b;return-1};d.prototype.Nl=function(a,e,b){var c,f,k,g,h;h=a.type;g=h.wa;if(b){if(!e.c2)return}else a.uid=e.uid;e.ex?a.F=e.ex:db(a.F);if(f=e.ivs)for(c in f)f.hasOwnProperty(c)&&(k=this.xz(h,parseInt(c,10)),0>k||k>=a.Oa.length||(a.Oa[k]=f[c]));if(g.Of){k=e.w;a.p.ka!==k.l&&(f=a.p,a.p=this.pa.sl(k.l),a.p?(f.di(a,!0),a.p.qi(a,!0),a.G(),a.p.Wj(0)):
(a.p=f,b||this.Id(a)));a.x=k.x;a.y=k.y;a.width=k.w;a.height=k.h;a.je=k.zi;a.n=k.hasOwnProperty("a")?k.a:0;a.opacity=k.hasOwnProperty("o")?k.o:1;a.Bc=k.hasOwnProperty("hX")?k.hX:.5;a.Cc=k.hasOwnProperty("hY")?k.hY:.5;a.visible=k.hasOwnProperty("v")?k.v:!0;a.Rd=k.hasOwnProperty("ce")?k.ce:!0;a.Dj=k.hasOwnProperty("mts")?k.mts:-1;a.Xb=k.hasOwnProperty("bm")?k.bm:0;a.ti=sb(a.Xb);this.K&&tb(a,a.Xb,this.K);a.G();if(k.hasOwnProperty("fx"))for(b=0,f=k.fx.length;b<f;b++)g=h.bo(k.fx[b].name),0>g||(a.vf[g]=
k.fx[b].active,a.Wa[g]=k.fx[b].params);a.ie()}if(h=e.behs)for(c in h)h.hasOwnProperty(c)&&(b=this.qz(a,parseInt(c,10)),0>b||a.V[b].ab(h[c]));e.data&&a.ab(e.data)};d.prototype.Nr=function(a,e,b){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(e,b)},b)};d.prototype.fz=function(a,e){this.Nr("data.js",function(b){var c=new FileReader;c.onload=function(e){a(e.target.result)};c.onerror=e;c.readAsText(b)},e)};var C=[],X=0;d.prototype.fp=function(){if(C.length&&
!(8<=X)){X++;var a=C.shift();this.$x(a.filename,a.OB,a.Cy)}};d.prototype.Or=function(a,e,b){var c=this;C.push({filename:a,OB:function(a){X--;c.fp();e(a)},Cy:function(a){X--;c.fp();b(a)}});this.fp()};d.prototype.$x=function(a,e,b){this.Nr(a,function(a){var b=new FileReader;b.onload=function(a){e(a.target.result)};b.readAsArrayBuffer(a)},b)};d.prototype.gz=function(a,e,b){this.Or(a,function(a){a=URL.createObjectURL(new Blob([a]));e(a)},b)};d.prototype.eA=function(a){return/^(?:[a-z]+:)?\/\//.test(a)||
"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};d.prototype.$t=function(a,e){this.$i&&!this.eA(e)?this.gz(e,function(e){a.src=e},function(a){alert("Failed to load image: "+a)}):a.src=e};d.prototype.vm=function(a,e){"undefined"!==typeof a.imageSmoothingEnabled?a.imageSmoothingEnabled=e:(a.webkitImageSmoothingEnabled=e,a.mozImageSmoothingEnabled=e,a.msImageSmoothingEnabled=e)};bc=function(a){return new d(document.getElementById(a))};cc=function(a,e){return new d({dc:!0,width:a,height:e})};window.cr_createRuntime=
bc;window.cr_createDCRuntime=cc;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.nh=!0;document.body.appendChild(a);a=new d(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new d(document.getElementById("canvas"));
window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var d=document.getElementById("c2canvas");return d?d.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(d,q){var n=window.cr_getC2Runtime();n&&n.Yx(d,q)};window.cr_sizeCanvas=function(d,q){if(0!==d&&0!==q){var n=window.cr_getC2Runtime();n&&n.setSize(d,q)}};window.cr_setSuspended=function(d){var q=window.cr_getC2Runtime();q&&q.setSuspended(d)};
(function(){function d(a,b){this.b=a;this.xg=null;this.scrollX=this.b.Ta/2;this.scrollY=this.b.Sa/2;this.scale=1;this.n=0;this.yh=!0;this.name=b[0];this.UA=b[1];this.TA=b[2];this.width=b[1];this.height=b[2];this.Fu=b[3];this.gu=b[4];this.ka=b[5];var c=b[6],f,d;this.ja=[];this.Qi=[];f=0;for(d=c.length;f<d;f++){var m=new dc(this,c[f]);m.pt=f;this.ja.push(m)}c=b[7];this.Mf=[];f=0;for(d=c.length;f<d;f++){var m=c[f],t=this.b.H[m[1]];t.sd||(t.sd=m);this.Mf.push(m);-1===this.Qi.indexOf(t)&&this.Qi.push(t)}this.fa=
[];this.Ha=[];this.lf=!0;this.Wa=[];f=0;for(d=b[8].length;f<d;f++)this.fa.push({id:b[8][f][0],name:b[8][f][1],kb:-1,fc:!1,Mc:!0,index:f}),this.Wa.push(b[8][f][2].slice(0));this.ie();this.bg=new wa(0,0,1,1);this.Fp=new wa(0,0,1,1);this.ag={}}function q(a,b){return a.je-b.je}function n(a,b){this.ib=a;this.b=a.b;this.j=[];this.scale=1;this.n=0;this.Qe=!1;this.pf=new wa(0,0,0,0);this.zu=new ya;this.Aa=this.ya=this.Ba=this.xa=0;this.gh=!1;this.sf=-1;this.Fn=0;this.name=b[0];this.index=b[1];this.ka=b[2];
this.visible=b[3];this.Md=b[4];this.he=b[5];this.zd=b[6];this.Ad=b[7];this.opacity=b[8];this.ll=b[9];this.ld=b[10];this.ke=b[11];this.Xb=b[12];this.yy=b[13];this.ti="source-over";this.cc=this.hc=0;this.Vb=null;this.$e=l();this.fe=!0;this.Ph=new wa(0,0,-1,-1);this.Pb=new wa(0,0,-1,-1);this.ld&&(this.Vb=new rb(this.b.Ta,this.b.Sa));this.Ie=!1;var c=b[14],f,d;this.mu=[];this.bd=[];this.wi=[];f=0;for(d=c.length;f<d;f++){var m=c[f],t=this.b.H[m[1]];t.sd||(t.sd=m,t.Cr=this.index);this.bd.push(m);-1===this.ib.Qi.indexOf(t)&&
this.ib.Qi.push(t)}Ia(this.mu,this.bd);this.fa=[];this.Ha=[];this.lf=!0;this.Wa=[];f=0;for(d=b[15].length;f<d;f++)this.fa.push({id:b[15][f][0],name:b[15][f][1],kb:-1,fc:!1,Mc:!0,index:f}),this.Wa.push(b[15][f][2].slice(0));this.ie();this.bg=new wa(0,0,1,1);this.Fp=new wa(0,0,1,1)}function l(){return a.length?a.pop():[]}function p(e){M(e);a.push(e)}d.prototype.zB=function(a){var b=a.type.ka.toString();this.ag.hasOwnProperty(b)||(this.ag[b]=[]);this.ag[b].push(this.b.Mp(a))};d.prototype.js=function(){var a=
this.ja[0];return!a.he&&1===a.opacity&&!a.ll&&a.visible};d.prototype.ie=function(){M(this.Ha);this.lf=!0;var a,b,c;a=0;for(b=this.fa.length;a<b;a++)c=this.fa[a],c.Mc&&(this.Ha.push(c),c.fc||(this.lf=!1))};d.prototype.rl=function(a){var b,c,f;b=0;for(c=this.fa.length;b<c;b++)if(f=this.fa[b],f.name===a)return f;return null};var u=[],m=!0;d.prototype.bq=function(){this.gu&&(this.xg=this.b.Tn[this.gu],this.xg.qq());this.b.pa=this;this.width=this.UA;this.height=this.TA;this.scrollX=this.b.Ta/2;this.scrollY=
this.b.Sa/2;var a,b,c,f,d,p,t;a=0;for(c=this.b.H.length;a<c;a++)if(b=this.b.H[a],!b.P)for(d=b.j,b=0,f=d.length;b<f;b++)if(p=d[b],p.p){var k=p.p.pt;k>=this.ja.length&&(k=this.ja.length-1);p.p=this.ja[k];-1===p.p.j.indexOf(p)&&p.p.j.push(p);p.p.gh=!0}if(!m)for(a=0,c=this.ja.length;a<c;++a)this.ja[a].j.sort(q);M(u);this.Dx();a=0;for(c=this.ja.length;a<c;a++)p=this.ja[a],p.Tx(),p.Tm();d=!1;if(!this.yh){for(t in this.ag)if(this.ag.hasOwnProperty(t)&&(b=this.b.Eg(parseInt(t,10)))&&!b.P&&this.b.pq(b)){f=
this.ag[t];a=0;for(c=f.length;a<c;a++){p=null;if(b.wa.Of&&(p=this.sl(f[a].w.l),!p))continue;p=this.b.Ef(b.sd,p,!1,0,0,!0);this.b.Nl(p,f[a]);d=!0;u.push(p)}M(f)}a=0;for(c=this.ja.length;a<c;a++)this.ja[a].j.sort(q),this.ja[a].gh=!0}d&&(this.b.Wb(),this.b.St());for(a=0;a<u.length;a++)if(p=u[a],p.type.Rb)for(c=p.Li(),b=0,f=p.type.Oc.length;b<f;b++)t=p.type.Oc[b],p.type!==t&&(t.j.length>c?p.siblings.push(t.j[c]):t.sd&&(d=this.b.Ef(t.sd,p.p,!0,p.x,p.y,!0),this.b.Wb(),t.Rm(),p.siblings.push(d),u.push(d)));
a=0;for(c=this.Mf.length;a<c;a++)p=this.Mf[a],b=this.b.H[p[1]],b.Rb||this.b.Ef(this.Mf[a],null,!0);this.b.si=null;this.b.Wb();if(this.b.Pa&&!this.b.na)for(a=0,c=this.b.H.length;a<c;a++)t=this.b.H[a],!t.P&&t.j.length&&t.gm&&t.gm(this.b.Pa);if(this.b.Xi)Ia(this.b.hl,u);else for(a=0,c=u.length;a<c;a++)p=u[a],this.b.trigger(Object.getPrototypeOf(p.type.wa).k.uf,p);M(u);this.b.Xi||this.b.trigger(T.prototype.k.Jq,null);this.yh=!1};d.prototype.Sx=function(){var a,b,c,f,d;b=a=0;for(c=this.Mf.length;a<c;a++)f=
this.Mf[a],d=this.b.H[f[1]],d.global?d.Rb||this.b.Ef(f,null,!0):(this.Mf[b]=f,b++);Ga(this.Mf,b)};d.prototype.NB=function(){this.b.Xi||this.b.trigger(T.prototype.k.Zv,null);this.b.Bo=!0;M(this.b.Ke.Lc);var a,b,c,f,d,p;if(!this.yh)for(a=0,b=this.ja.length;a<b;a++)for(this.ja[a].sq(),d=this.ja[a].j,c=0,f=d.length;c<f;c++)p=d[c],p.type.global||this.b.pq(p.type)&&this.zB(p);a=0;for(b=this.ja.length;a<b;a++){d=this.ja[a].j;c=0;for(f=d.length;c<f;c++)p=d[c],p.type.global||this.b.Id(p);this.b.Wb();M(d);
this.ja[a].gh=!0}a=0;for(b=this.b.H.length;a<b;a++)if(d=this.b.H[a],!(d.global||d.wa.Of||d.wa.Em||d.P)){c=0;for(f=d.j.length;c<f;c++)this.b.Id(d.j[c]);this.b.Wb()}m=!1;this.b.Bo=!1};new wa(0,0,0,0);d.prototype.Qc=function(a){var b,c=a,f=!1,d=!this.b.Zc;d&&(this.b.Ll||(this.b.Ll=document.createElement("canvas"),b=this.b.Ll,b.width=this.b.X,b.height=this.b.W,this.b.Ks=b.getContext("2d"),f=!0),b=this.b.Ll,c=this.b.Ks,b.width!==this.b.X&&(b.width=this.b.X,f=!0),b.height!==this.b.W&&(b.height=this.b.W,
f=!0),f&&this.b.vm(c,this.b.Ra));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.b.rr&&!this.js()&&c.clearRect(0,0,this.b.X,this.b.W);var m,t,f=0;for(m=this.ja.length;f<m;f++)t=this.ja[f],t.visible&&0<t.opacity&&11!==t.Xb&&(t.j.length||!t.he)?t.Qc(c):t.Tm();d&&a.drawImage(b,0,0,this.b.width,this.b.height)};d.prototype.Hf=function(a){a.Zt(!0);this.b.nb||(this.b.nb=a.pc(this.b.X,this.b.W,this.b.Ra));if(this.b.nb.qg!==this.b.X||this.b.nb.pg!==this.b.W)a.deleteTexture(this.b.nb),this.b.nb=
a.pc(this.b.X,this.b.W,this.b.Ra);a.Cd(this.b.nb);this.b.Zc||a.Zg(this.b.X,this.b.W);var b,c;for(b=this.ja.length-1;0<=b;--b)c=this.ja[b],c.visible&&1===c.opacity&&c.lf&&0===c.Xb&&(c.j.length||!c.he)?c.Hf(a):c.Tm();a.Zt(!1)};d.prototype.Jb=function(a){var b=0<this.Ha.length||this.b.ji||!this.b.Zc||this.b.Na;if(b){this.b.nb||(this.b.nb=a.pc(this.b.X,this.b.W,this.b.Ra));if(this.b.nb.qg!==this.b.X||this.b.nb.pg!==this.b.W)a.deleteTexture(this.b.nb),this.b.nb=a.pc(this.b.X,this.b.W,this.b.Ra);a.Cd(this.b.nb);
this.b.Zc||a.Zg(this.b.X,this.b.W)}else this.b.nb&&(a.Cd(null),a.deleteTexture(this.b.nb),this.b.nb=null);this.b.rr&&!this.js()&&a.clear(0,0,0,0);var c,f,d;c=0;for(f=this.ja.length;c<f;c++)d=this.ja[c],d.visible&&0<d.opacity&&(d.j.length||!d.he)?d.Jb(a):d.Tm();b&&(0===this.Ha.length||1===this.Ha.length&&this.b.Zc?(1===this.Ha.length?(b=this.Ha[0].index,a.Jc(this.Ha[0].kb),a.gi(null,1/this.b.X,1/this.b.W,0,0,1,1,this.scale,this.n,0,0,this.b.X/2,this.b.W/2,this.b.Ab.ta,this.Wa[b]),a.hm(this.Ha[0].kb)&&
(this.b.Ea=!0)):a.Jc(0),this.b.Zc||a.Zg(this.b.width,this.b.height),a.Cd(null),a.Yt(!1),a.jf(1),a.qb(this.b.nb),a.Wt(),a.Bd(),a.kd(),b=this.b.width/2,c=this.b.height/2,a.Xg(-b,c,b,c,b,-c,-b,-c),a.qb(null),a.Yt(!0)):this.Hp(a,null,null,null))};d.prototype.Ji=function(){return 0<this.Ha.length||this.b.ji||!this.b.Zc||this.b.Na?this.b.nb:null};d.prototype.bs=function(){var a=this.ja[0].rc(),b,c,f;b=1;for(c=this.ja.length;b<c;b++)f=this.ja[b],(0!==f.zd||0!==f.Ad)&&f.rc()<a&&(a=f.rc());return a};d.prototype.Op=
function(a){if(!this.Fu){var b=1/this.bs()*this.b.X/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.b.Ea=!0)};d.prototype.Pp=function(a){if(!this.Fu){var b=1/this.bs()*this.b.W/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.b.Ea=!0)};d.prototype.Dx=function(){this.Op(this.scrollX);this.Pp(this.scrollY)};d.prototype.Hp=function(a,b,c,f){var d=c?c.Ha:b?b.Ha:this.Ha,m=1,t=0,k=0,r=0,p=this.b.X,y=this.b.W;c?(m=c.p.rc(),t=c.p.yb(),
k=c.p.xa,r=c.p.ya,p=c.p.Ba,y=c.p.Aa):b&&(m=b.rc(),t=b.yb(),k=b.xa,r=b.ya,p=b.Ba,y=b.Aa);var v=this.b.$n,l,q,n,u,D=0,E=1,I,U,P=this.b.X,C=this.b.W,X=P/2,z=C/2,w=b?b.bg:this.bg,G=b?b.Fp:this.Fp,O=0,Q=0,K=0,L=0,S=P,ea=P,N=C,na=C,ja=n=0;u=c?c.p.yb():0;if(c){l=0;for(q=d.length;l<q;l++)n+=a.Dz(d[l].kb),ja+=a.Ez(d[l].kb);L=c.U;O=b.Ja(L.left,L.top,!0,!0);K=b.Ja(L.left,L.top,!1,!0);S=b.Ja(L.right,L.bottom,!0,!0);N=b.Ja(L.right,L.bottom,!1,!0);0!==u&&(l=b.Ja(L.right,L.top,!0,!0),q=b.Ja(L.right,L.top,!1,!0),
Q=b.Ja(L.left,L.bottom,!0,!0),L=b.Ja(L.left,L.bottom,!1,!0),u=Math.min(O,S,l,Q),S=Math.max(O,S,l,Q),O=u,u=Math.min(K,N,q,L),N=Math.max(K,N,q,L),K=u);O-=n;K-=ja;S+=n;N+=ja;G.left=O/P;G.top=1-K/C;G.right=S/P;G.bottom=1-N/C;Q=O=x(O);L=K=x(K);ea=S=ua(S);na=N=ua(N);Q-=n;L-=ja;ea+=n;na+=ja;0>O&&(O=0);0>K&&(K=0);S>P&&(S=P);N>C&&(N=C);0>Q&&(Q=0);0>L&&(L=0);ea>P&&(ea=P);na>C&&(na=C);w.left=O/P;w.top=1-K/C;w.right=S/P;w.bottom=1-N/C}else w.left=G.left=0,w.top=G.top=0,w.right=G.right=1,w.bottom=G.bottom=1;ja=
c&&(a.Lj(d[0].kb)||0!==n||0!==ja||1!==c.opacity||c.type.wa.kt)||b&&!c&&1!==b.opacity;a.Wt();if(ja){v[D]||(v[D]=a.pc(P,C,this.b.Ra));if(v[D].qg!==P||v[D].pg!==C)a.deleteTexture(v[D]),v[D]=a.pc(P,C,this.b.Ra);a.Jc(0);a.Cd(v[D]);U=na-L;a.clearRect(Q,C-L-U,ea-Q,U);c?c.Jb(a):(a.qb(this.b.Bb),a.jf(b.opacity),a.Bd(),a.translate(-X,-z),a.kd(),a.ae(O,N,S,N,S,K,O,K,w));G.left=G.top=0;G.right=G.bottom=1;c&&(u=w.top,w.top=w.bottom,w.bottom=u);D=1;E=0}a.jf(1);n=d.length-1;var Ba=a.Ap(d[n].kb)||!b&&!c&&!this.b.Zc;
l=u=0;for(q=d.length;l<q;l++){v[D]||(v[D]=a.pc(P,C,this.b.Ra));if(v[D].qg!==P||v[D].pg!==C)a.deleteTexture(v[D]),v[D]=a.pc(P,C,this.b.Ra);a.Jc(d[l].kb);u=d[l].index;a.hm(d[l].kb)&&(this.b.Ea=!0);0!=l||ja?(a.gi(f,1/P,1/C,G.left,G.top,G.right,G.bottom,m,t,k,r,(k+p)/2,(r+y)/2,this.b.Ab.ta,c?c.Wa[u]:b?b.Wa[u]:this.Wa[u]),a.qb(null),l!==n||Ba?(a.Cd(v[D]),U=na-L,I=C-L-U,a.clearRect(Q,I,ea-Q,U)):(c?a.fg(c.hc,c.cc):b&&a.fg(b.hc,b.cc),a.Cd(f)),a.qb(v[E]),a.Bd(),a.translate(-X,-z),a.kd(),a.ae(O,N,S,N,S,K,O,
K,w),l!==n||Ba||a.qb(null)):(a.Cd(v[D]),U=na-L,I=C-L-U,a.clearRect(Q,I,ea-Q,U),c?(c.Ib&&c.Ib.Z?(I=c.Ib.Z,E=1/I.width,I=1/I.height):(E=1/c.width,I=1/c.height),a.gi(f,E,I,G.left,G.top,G.right,G.bottom,m,t,k,r,(k+p)/2,(r+y)/2,this.b.Ab.ta,c.Wa[u]),c.Jb(a)):(a.gi(f,1/P,1/C,0,0,1,1,m,t,k,r,(k+p)/2,(r+y)/2,this.b.Ab.ta,b?b.Wa[u]:this.Wa[u]),a.qb(b?this.b.Bb:this.b.nb),a.Bd(),a.translate(-X,-z),a.kd(),a.ae(O,N,S,N,S,K,O,K,w)),G.left=G.top=0,G.right=G.bottom=1,c&&!Ba&&(u=N,N=K,K=u));D=0===D?1:0;E=0===D?1:
0}Ba&&(a.Jc(0),c?a.fg(c.hc,c.cc):b?a.fg(b.hc,b.cc):this.b.Zc||(a.Zg(this.b.width,this.b.height),X=this.b.width/2,z=this.b.height/2,K=O=0,S=this.b.width,N=this.b.height),a.Cd(f),a.qb(v[E]),a.Bd(),a.translate(-X,-z),a.kd(),c&&1===d.length&&!ja?a.ae(O,K,S,K,S,N,O,N,w):a.ae(O,N,S,N,S,K,O,K,w),a.qb(null))};d.prototype.sl=function(a){var b,c;b=0;for(c=this.ja.length;b<c;b++)if(this.ja[b].ka===a)return this.ja[b];return null};d.prototype.Ua=function(){var a,b,c,f={sx:this.scrollX,sy:this.scrollY,s:this.scale,
a:this.n,w:this.width,h:this.height,fv:this.yh,persist:this.ag,fx:[],layers:{}};a=0;for(b=this.fa.length;a<b;a++)c=this.fa[a],f.fx.push({name:c.name,active:c.Mc,params:this.Wa[c.index]});a=0;for(b=this.ja.length;a<b;a++)c=this.ja[a],f.layers[c.ka.toString()]=c.Ua();return f};d.prototype.ab=function(a){var b,c,f,d;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.n=a.a;this.width=a.w;this.height=a.h;this.ag=a.persist;"undefined"!==typeof a.fv&&(this.yh=a.fv);var m=a.fx;b=0;for(c=m.length;b<c;b++)if(f=
this.rl(m[b].name))f.Mc=m[b].active,this.Wa[f.index]=m[b].params;this.ie();b=a.layers;for(d in b)b.hasOwnProperty(d)&&(a=this.sl(parseInt(d,10)))&&a.ab(b[d])};Qb=d;n.prototype.ie=function(){M(this.Ha);this.lf=!0;var a,b,c;a=0;for(b=this.fa.length;a<b;a++)c=this.fa[a],c.Mc&&(this.Ha.push(c),c.fc||(this.lf=!1))};n.prototype.rl=function(a){var b,c,f;b=0;for(c=this.fa.length;b<c;b++)if(f=this.fa[b],f.name===a)return f;return null};n.prototype.Tx=function(){var a,b,c,f,d,m;b=a=0;for(c=this.bd.length;a<
c;a++){f=this.bd[a];d=this.b.H[f[1]];m=this.b.pq(d);d=!0;if(!m||this.ib.yh){f=this.b.Ef(f,this,!0);if(!f)continue;u.push(f);f.type.global&&(d=!1,this.wi.push(f.uid))}d&&(this.bd[b]=this.bd[a],b++)}this.bd.length=b;this.b.Wb();!this.b.C&&this.fa.length&&(this.Xb=this.yy);this.ti=sb(this.Xb);this.b.K&&tb(this,this.Xb,this.b.K);this.fe=!0};n.prototype.di=function(a,b){var c=La(this.j,a);0>c||(b&&this.ld&&a.Hc&&a.Hc.right>=a.Hc.left&&(a.ba(),this.Vb.update(a,a.Hc,null),a.Hc.set(0,0,-1,-1)),c===this.j.length-
1?this.j.pop():(Fa(this.j,c),this.Wj(c)),this.fe=!0)};n.prototype.qi=function(a,b){a.je=this.j.length;this.j.push(a);b&&this.ld&&a.Hc&&a.G();this.fe=!0};n.prototype.eB=function(a){this.j.unshift(a);this.Wj(0)};n.prototype.BA=function(a,b,c){var f=a.we();b=b.we();Fa(this.j,f);f<b&&b--;c&&b++;b===this.j.length?this.j.push(a):this.j.splice(b,0,a);this.Wj(f<b?f:b)};n.prototype.Wj=function(a){-1===this.sf?this.sf=a:a<this.sf&&(this.sf=a);this.fe=this.gh=!0};n.prototype.sq=function(){if(this.gh){-1===this.sf&&
(this.sf=0);var a,b,c;if(this.ld)for(a=this.sf,b=this.j.length;a<b;++a)c=this.j[a],c.je=a,this.Vb.yA(c.Hc);else for(a=this.sf,b=this.j.length;a<b;++a)this.j[a].je=a;this.gh=!1;this.sf=-1}};n.prototype.rc=function(a){return this.zz()*(this.b.Zc||a?this.b.ri:1)};n.prototype.zz=function(){return(this.scale*this.ib.scale-1)*this.ke+1};n.prototype.yb=function(){return this.Qe?0:Qa(this.ib.n+this.n)};var a=[],c=[],f=[];n.prototype.io=function(){this.sq();this.Vb.km(this.xa,this.ya,this.Ba,this.Aa,f);if(!f.length)return l();
if(1===f.length){var a=l();Ia(a,f[0]);M(f);return a}for(var b=!0;1<f.length;){for(var a=f,h=void 0,g=void 0,d=void 0,m=void 0,t=void 0,h=0,g=a.length;h<g-1;h+=2){var d=a[h],m=a[h+1],t=l(),k=d,r=m,q=t,y=0,v=0,n=0,u=k.length,W=r.length,J=void 0,D=void 0;for(q.length=u+W;y<u&&v<W;++n)J=k[y],D=r[v],J.je<D.je?(q[n]=J,++y):(q[n]=D,++v);for(;y<u;++y,++n)q[n]=k[y];for(;v<W;++v,++n)q[n]=r[v];b||(p(d),p(m));c.push(t)}1===g%2&&(b?(d=l(),Ia(d,a[g-1]),c.push(d)):c.push(a[g-1]));Ia(a,c);M(c);b=!1}a=f[0];M(f);return a};
n.prototype.Qc=function(a){this.Ie=this.ll||1!==this.opacity||0!==this.Xb;var b=this.b.canvas,c=a,f=!1;this.Ie&&(this.b.Kl||(this.b.Kl=document.createElement("canvas"),b=this.b.Kl,b.width=this.b.X,b.height=this.b.W,this.b.Js=b.getContext("2d"),f=!0),b=this.b.Kl,c=this.b.Js,b.width!==this.b.X&&(b.width=this.b.X,f=!0),b.height!==this.b.W&&(b.height=this.b.W,f=!0),f&&this.b.vm(c,this.b.Ra),this.he&&c.clearRect(0,0,this.b.X,this.b.W));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.he||
(c.fillStyle="rgb("+this.Md[0]+","+this.Md[1]+","+this.Md[2]+")",c.fillRect(0,0,this.b.X,this.b.W));c.save();this.Qe=!0;var f=this.nc(0,0,!0,!0),d=this.nc(0,0,!1,!0);this.Qe=!1;this.b.hd&&(f=Math.round(f),d=Math.round(d));this.om(f,d,c);var m=this.rc();c.scale(m,m);c.translate(-f,-d);this.ld?(this.Pb.left=this.Vb.wc(this.xa),this.Pb.top=this.Vb.xc(this.ya),this.Pb.right=this.Vb.wc(this.Ba),this.Pb.bottom=this.Vb.xc(this.Aa),this.fe||!this.Pb.Ai(this.Ph)?(p(this.$e),f=this.io(),this.fe=!1,this.Ph.qh(this.Pb)):
f=this.$e):f=this.j;for(var t,k=null,d=0,m=f.length;d<m;++d)t=f[d],t!==k&&(this.ty(t,c),k=t);this.ld&&(this.$e=f);c.restore();this.Ie&&(a.globalCompositeOperation=this.ti,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};n.prototype.ty=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ba();var c=a.U;c.right<this.xa||c.bottom<this.ya||c.left>this.Ba||c.top>this.Aa||(b.globalCompositeOperation=a.ti,a.Qc(b))}};n.prototype.Tm=function(){this.Qe=!0;var a=this.nc(0,0,!0,!0),b=this.nc(0,0,!1,!0);this.Qe=
!1;this.b.hd&&(a=Math.round(a),b=Math.round(b));this.om(a,b,null)};n.prototype.om=function(a,b,c){var f=this.rc();this.xa=a;this.ya=b;this.Ba=a+1/f*this.b.X;this.Aa=b+1/f*this.b.W;this.xa>this.Ba&&(a=this.xa,this.xa=this.Ba,this.Ba=a);this.ya>this.Aa&&(a=this.ya,this.ya=this.Aa,this.Aa=a);a=this.yb();0!==a&&(c&&(c.translate(this.b.X/2,this.b.W/2),c.rotate(-a),c.translate(this.b.X/-2,this.b.W/-2)),this.pf.set(this.xa,this.ya,this.Ba,this.Aa),this.pf.offset((this.xa+this.Ba)/-2,(this.ya+this.Aa)/-2),
this.zu.eu(this.pf,a),this.zu.ir(this.pf),this.pf.offset((this.xa+this.Ba)/2,(this.ya+this.Aa)/2),this.xa=this.pf.left,this.ya=this.pf.top,this.Ba=this.pf.right,this.Aa=this.pf.bottom)};n.prototype.Hf=function(a){if(this.Ie=this.ll){this.b.Bb||(this.b.Bb=a.pc(this.b.X,this.b.W,this.b.Ra));if(this.b.Bb.qg!==this.b.X||this.b.Bb.pg!==this.b.W)a.deleteTexture(this.b.Bb),this.b.Bb=a.pc(this.b.X,this.b.W,this.b.Ra);a.Cd(this.b.Bb)}this.Qe=!0;var b=this.nc(0,0,!0,!0),c=this.nc(0,0,!1,!0);this.Qe=!1;this.b.hd&&
(b=Math.round(b),c=Math.round(c));this.om(b,c,null);b=this.rc();a.Bd();a.scale(b,b);a.pm(-this.yb());a.translate((this.xa+this.Ba)/-2,(this.ya+this.Aa)/-2);a.kd();this.ld?(this.Pb.left=this.Vb.wc(this.xa),this.Pb.top=this.Vb.xc(this.ya),this.Pb.right=this.Vb.wc(this.Ba),this.Pb.bottom=this.Vb.xc(this.Aa),this.fe||!this.Pb.Ai(this.Ph)?(p(this.$e),b=this.io(),this.fe=!1,this.Ph.qh(this.Pb)):b=this.$e):b=this.j;for(var f,d=null,c=b.length-1;0<=c;--c)f=b[c],f!==d&&(this.vy(b[c],a),d=f);this.ld&&(this.$e=
b);this.he||(this.Fn=this.b.wg++,a.wm(this.Fn),a.Xt(1,1,1),a.Sr(),a.pB())};n.prototype.Jb=function(a){var b=0,c=0;if(this.Ie=this.ll||1!==this.opacity||0<this.Ha.length||0!==this.Xb){this.b.Bb||(this.b.Bb=a.pc(this.b.X,this.b.W,this.b.Ra));if(this.b.Bb.qg!==this.b.X||this.b.Bb.pg!==this.b.W)a.deleteTexture(this.b.Bb),this.b.Bb=a.pc(this.b.X,this.b.W,this.b.Ra);a.Cd(this.b.Bb);this.he&&a.clear(0,0,0,0)}this.he||(this.b.Na?(a.wm(this.Fn),a.Xt(this.Md[0]/255,this.Md[1]/255,this.Md[2]/255),a.Sr(),a.HB()):
a.clear(this.Md[0]/255,this.Md[1]/255,this.Md[2]/255,1));this.Qe=!0;var f=this.nc(0,0,!0,!0),b=this.nc(0,0,!1,!0);this.Qe=!1;this.b.hd&&(f=Math.round(f),b=Math.round(b));this.om(f,b,null);f=this.rc();a.Bd();a.scale(f,f);a.pm(-this.yb());a.translate((this.xa+this.Ba)/-2,(this.ya+this.Aa)/-2);a.kd();this.ld?(this.Pb.left=this.Vb.wc(this.xa),this.Pb.top=this.Vb.xc(this.ya),this.Pb.right=this.Vb.wc(this.Ba),this.Pb.bottom=this.Vb.xc(this.Aa),this.fe||!this.Pb.Ai(this.Ph)?(p(this.$e),b=this.io(),this.fe=
!1,this.Ph.qh(this.Pb)):b=this.$e):b=this.j;var d,m,t=null,c=0;for(d=b.length;c<d;++c)m=b[c],m!==t&&(this.uy(b[c],a),t=m);this.ld&&(this.$e=b);this.Ie&&(b=this.Ha.length?this.Ha[0].kb:0,c=this.Ha.length?this.Ha[0].index:0,0===this.Ha.length||1===this.Ha.length&&!a.Ap(b)&&1===this.opacity?(1===this.Ha.length?(a.Jc(b),a.gi(this.ib.Ji(),1/this.b.X,1/this.b.W,0,0,1,1,f,this.yb(),this.xa,this.ya,(this.xa+this.Ba)/2,(this.ya+this.Aa)/2,this.b.Ab.ta,this.Wa[c]),a.hm(b)&&(this.b.Ea=!0)):a.Jc(0),a.Cd(this.ib.Ji()),
a.jf(this.opacity),a.qb(this.b.Bb),a.fg(this.hc,this.cc),a.Bd(),a.kd(),f=this.b.X/2,b=this.b.W/2,a.Xg(-f,b,f,b,f,-b,-f,-b),a.qb(null)):this.ib.Hp(a,this,null,this.ib.Ji()))};n.prototype.uy=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ba();var c=a.U;c.right<this.xa||c.bottom<this.ya||c.left>this.Ba||c.top>this.Aa||(b.wm(a.wg),a.Mu?this.wy(a,b):(b.Jc(0),b.fg(a.hc,a.cc),a.Jb(b)))}};n.prototype.vy=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ba();var c=a.U;c.right<this.xa||c.bottom<
this.ya||c.left>this.Ba||c.top>this.Aa||(a.wg=this.b.wg++,0===a.Xb&&1===a.opacity&&a.lf&&a.Hf&&(b.wm(a.wg),a.Hf(b)))}};n.prototype.wy=function(a,b){var c=a.Ha[0].kb,f=a.Ha[0].index,d=this.rc();if(1!==a.Ha.length||b.Ap(c)||b.iB(c)||(a.n||a.p.yb())&&b.Lj(c)||1!==a.opacity||a.type.wa.kt)this.ib.Hp(b,this,a,this.Ie?this.b.Bb:this.ib.Ji()),b.Bd(),b.scale(d,d),b.pm(-this.yb()),b.translate((this.xa+this.Ba)/-2,(this.ya+this.Aa)/-2),b.kd();else{b.Jc(c);b.fg(a.hc,a.cc);b.hm(c)&&(this.b.Ea=!0);var m=0,t=0,
k=0,r=0;b.Lj(c)&&(r=a.U,m=this.Ja(r.left,r.top,!0,!0),t=this.Ja(r.left,r.top,!1,!0),k=this.Ja(r.right,r.bottom,!0,!0),r=this.Ja(r.right,r.bottom,!1,!0),m=m/windowWidth,t=1-t/windowHeight,k=k/windowWidth,r=1-r/windowHeight);var p;a.Ib&&a.Ib.Z?(p=a.Ib.Z,c=1/p.width,p=1/p.height):(c=1/a.width,p=1/a.height);b.gi(this.Ie?this.b.Bb:this.ib.Ji(),c,p,m,t,k,r,d,this.yb(),this.xa,this.ya,(this.xa+this.Ba)/2,(this.ya+this.Aa)/2,this.b.Ab.ta,a.Wa[f]);a.Jb(b)}};n.prototype.nc=function(a,b,c,f){var d=this.b.devicePixelRatio;
this.b.Lg&&(a*=d,b*=d);var d=this.b.Et,m=this.b.Ft,d=(this.ib.scrollX-d)*this.zd+d,m=(this.ib.scrollY-m)*this.Ad+m,t=d,k=m,r=1/this.rc(!f);f?(t-=this.b.X*r/2,k-=this.b.W*r/2):(t-=this.b.width*r/2,k-=this.b.height*r/2);t+=a*r;k+=b*r;b=this.yb();0!==b&&(t-=d,k-=m,a=Math.cos(b),b=Math.sin(b),f=t*a-k*b,k=k*a+t*b,t=f+d,k+=m);return c?t:k};n.prototype.Ja=function(a,b,c,f){var d=this.b.Et,m=this.b.Ft,t=(this.ib.scrollX-d)*this.zd+d,k=(this.ib.scrollY-m)*this.Ad+m,m=t,d=k,r=this.yb();if(0!==r){a-=t;b-=k;
var p=Math.cos(-r),r=Math.sin(-r),y=a*p-b*r;b=b*p+a*r;a=y+t;b+=k}t=1/this.rc(!f);f?(m-=this.b.X*t/2,d-=this.b.W*t/2):(m-=this.b.width*t/2,d-=this.b.height*t/2);m=(a-m)/t;d=(b-d)/t;a=this.b.devicePixelRatio;this.b.Lg&&!f&&(m/=a,d/=a);return c?m:d};n.prototype.Ua=function(){var a,b,c,f={s:this.scale,a:this.n,vl:this.xa,vt:this.ya,vr:this.Ba,vb:this.Aa,v:this.visible,bc:this.Md,t:this.he,px:this.zd,py:this.Ad,o:this.opacity,zr:this.ke,fx:[],cg:this.wi,instances:[]};a=0;for(b=this.fa.length;a<b;a++)c=
this.fa[a],f.fx.push({name:c.name,active:c.Mc,params:this.Wa[c.index]});return f};n.prototype.ab=function(a){var b,c,f;this.scale=a.s;this.n=a.a;this.xa=a.vl;this.ya=a.vt;this.Ba=a.vr;this.Aa=a.vb;this.visible=a.v;this.Md=a.bc;this.he=a.t;this.zd=a.px;this.Ad=a.py;this.opacity=a.o;this.ke=a.zr;this.wi=a.cg||[];Ia(this.bd,this.mu);var d=new ca;b=0;for(f=this.wi.length;b<f;++b)d.add(this.wi[b]);c=b=0;for(f=this.bd.length;b<f;++b)d.contains(this.bd[b][2])||(this.bd[c]=this.bd[b],++c);Ga(this.bd,c);c=
a.fx;b=0;for(f=c.length;b<f;b++)if(a=this.rl(c[b].name))a.Mc=c[b].active,this.Wa[a.index]=c[b].params;this.ie();this.j.sort(q);this.gh=!0};dc=n})();
(function(){function d(a,b){var c,e=a.length;switch(e){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<e;c++)if(a[c]!==b[c])return!1;return!0}}function q(a,b){return a.index-b.index}function n(a){var b,c,e,f;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(q);a.length>=H.length&&(H.length=a.length+1);H[a.length]||(H[a.length]=[]);f=H[a.length];b=0;for(c=f.length;b<c;b++)if(e=f[b],d(a,e))return e;f.push(a);return a}
function l(a,b){this.b=a;this.Cu={};this.Mr={};this.oo=!1;this.ns=new ca;this.Mn=[];this.sn=[];this.name=b[0];var c=b[1];this.Jf=[];var e,f;e=0;for(f=c.length;e<f;e++)this.qs(c[e],null,this.Jf)}function p(a){this.type=a;this.j=[];this.ga=[];this.da=!0}function u(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.Ka=[];this.gg=[];this.ks=this.Mm=this.lq=this.uo=this.group=this.$p=!1;this.wb=[];this.od=[];this.Dd=[];this.Mi="";this.Fg=this.uo=this.group=!1;this.Ok=null;c[1]&&(this.Mi=c[1][1].toLowerCase(),
this.group=!0,this.uo=!!c[1][0],this.Ok=[],this.Fg=this.uo,this.b.lh.push(this),this.b.Ah[this.Mi]=this);this.gd=c[2];this.ka=c[4];this.group||(this.b.hr[this.ka.toString()]=this);var e=c[5];a=0;for(b=e.length;a<b;a++){var f=new ec(this,e[a]);f.index=a;this.wb.push(f);this.Zq(f.type)}e=c[6];a=0;for(b=e.length;a<b;a++)f=new fc(this,e[a]),f.index=a,this.od.push(f);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.qs(c[a],this,this.Dd);this.Fl=!1;this.wb.length&&(this.Fl=null==this.wb[0].type&&
this.wb[0].Qb==T.prototype.k.zq)}function m(a,b){var c,e,f;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Rb))for(c=0,e=a.Oc.length;c<e;c++)f=a.Oc[c],a!==f&&-1===b.indexOf(f)&&b.push(f)}function a(a,b){this.Yc=a;this.sheet=a.sheet;this.b=a.b;this.Y=[];this.eb=[];this.F={};this.index=-1;this.oi=!1;this.Qb=this.b.tf(b[1]);this.trigger=0<b[3];this.Lr=2===b[3];this.ye=b[4];this.Ti=b[5];this.sA=b[6];this.ka=b[7];this.b.Cf[this.ka.toString()]=this;-1===b[0]?(this.type=null,this.pb=this.Lp,this.mg=null,this.Od=-1):
(this.type=this.b.H[b[0]],this.pb=this.sA?this.xB:this.Kp,b[2]?(this.mg=this.type.pl(b[2]),this.Od=this.type.ao(b[2])):(this.mg=null,this.Od=-1),this.Yc.parent&&this.Yc.parent.ym());this.Lr&&(this.pb=this.yB);if(10===b.length){var c,e,f=b[9];c=0;for(e=f.length;c<e;c++){var g=new gc(this,f[c]);this.Y.push(g)}this.eb.length=f.length}}function c(a,b){this.Yc=a;this.sheet=a.sheet;this.b=a.b;this.Y=[];this.eb=[];this.F={};this.index=-1;this.oi=!1;this.Qb=this.b.tf(b[1]);-1===b[0]?(this.type=null,this.pb=
this.Lp,this.mg=null,this.Od=-1):(this.type=this.b.H[b[0]],this.pb=this.Kp,b[2]?(this.mg=this.type.pl(b[2]),this.Od=this.type.ao(b[2])):(this.mg=null,this.Od=-1));this.ka=b[3];this.b.wf[this.ka.toString()]=this;if(6===b.length){var c,e,f=b[5];c=0;for(e=f.length;c<e;c++){var g=new gc(this,f[c]);this.Y.push(g)}this.eb.length=f.length}}function f(){t++;F.length===t&&F.push(new hc);return F[t]}function e(a,b){this.yd=a;this.Yc=a.Yc;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.qe=null;this.mf=0;this.get=
null;this.tr=0;this.ib=null;this.key=0;this.object=null;this.index=0;this.ik=this.ah=this.ik=this.ah=this.Pr=this.yg=this.jk=null;this.Gd=!1;var c,e,f;switch(b[0]){case 0:case 7:this.qe=new ic(this,b[1]);this.mf=0;this.get=this.Kz;break;case 1:this.qe=new ic(this,b[1]);this.mf=0;this.get=this.Lz;break;case 5:this.qe=new ic(this,b[1]);this.mf=0;this.get=this.Pz;break;case 3:case 8:this.tr=b[1];this.get=this.Iz;break;case 6:this.ib=this.b.Ro[b[1]];this.get=this.Qz;break;case 9:this.key=b[1];this.get=
this.Oz;break;case 4:this.object=this.b.H[b[1]];this.get=this.Rz;this.Yc.Zq(this.object);this.yd instanceof fc?this.Yc.ym():this.Yc.parent&&this.Yc.parent.ym();break;case 10:this.index=b[1];a.type&&a.type.P?(this.get=this.Mz,this.Gd=!0):this.get=this.Nz;break;case 11:this.jk=b[1];this.yg=null;this.get=this.Jz;break;case 2:case 12:this.Pr=b[1];this.get=this.Hz;break;case 13:for(this.get=this.Sz,this.ah=[],this.ik=[],c=1,e=b.length;c<e;c++)f=new gc(this.yd,b[c]),this.ah.push(f),this.ik.push(0)}}function b(a,
b,c){this.sheet=a;this.parent=b;this.b=a.b;this.Ka=[];this.name=c[1];this.Vm=c[2];this.to=c[3];this.cj=!!c[4];this.Dl=!!c[5];this.ka=c[6];this.b.li[this.ka.toString()]=this;this.data=this.to;this.parent?(this.Tg=this.cj||this.Dl?-1:this.b.LB++,this.b.vx.push(this)):(this.Tg=-1,this.b.ux.push(this))}function h(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.Ka=[];this.Pi=null;this.bA=c[1];this.Mc=!0}function g(){this.ou=[];this.reset(null)}var H=[];l.prototype.toString=function(){return this.name};
l.prototype.qs=function(a,b,c){switch(a[0]){case 0:a=new jc(this,b,a);if(a.gd)for(c.push(a),c=0,b=a.wb.length;c<b;c++)a.wb[c].trigger&&this.rs(a,c);else a.Bs()?this.rs(a,0):c.push(a);break;case 1:a=new ac(this,b,a);c.push(a);break;case 2:a=new kc(this,b,a),c.push(a)}};l.prototype.jb=function(){var a,b;a=0;for(b=this.Jf.length;a<b;a++)this.Jf[a].jb(a<b-1&&this.Jf[a+1].Fl)};l.prototype.qq=function(){M(this.Mn);M(this.sn);this.Yq(this);M(this.sn)};l.prototype.Yq=function(a){var b,c,e,f,g=a.Mn,d=a.sn,
h=this.ns.md();b=0;for(c=h.length;b<c;++b)e=h[b],f=e.Pi,!e.Mc||a===f||-1<d.indexOf(f)||(d.push(f),f.Yq(a),g.push(f))};l.prototype.pb=function(a){this.b.QC||(this.oo=!0,a||(this.b.Eo=!0));var b,c;b=0;for(c=this.Jf.length;b<c;b++){var e=this.Jf[b];e.pb();this.b.En(e.Ka);this.b.Lf&&this.b.Wb()}a||(this.b.Eo=!1)};l.prototype.rs=function(a,b){a.gd||this.b.Om.push(a);var c,e,f=a.wb[b],g;f.type?g=f.type.name:g="system";var d=(c=f.Lr)?this.Mr:this.Cu;d[g]||(d[g]=[]);g=d[g];d=f.Qb;if(c){if(f.Y.length&&(f=
f.Y[0],1===f.type&&2===f.qe.type)){f=f.qe.value.toLowerCase();c=0;for(e=g.length;c<e;c++)if(g[c].method==d){c=g[c].Bi;c[f]?c[f].push([a,b]):c[f]=[[a,b]];return}c={};c[f]=[[a,b]];g.push({method:d,Bi:c})}}else{c=0;for(e=g.length;c<e;c++)if(g[c].method==d){g[c].Bi.push([a,b]);return}Y&&d===Y.prototype.k.jh?g.unshift({method:d,Bi:[[a,b]]}):g.push({method:d,Bi:[[a,b]]})}};Rb=l;p.prototype.xl=function(){return this.da?this.type.j.length:this.j.length};p.prototype.qc=function(){return this.da?this.type.j:
this.j};p.prototype.Kj=function(a){a&&(a.b.$a().hb.gd?(this.da&&(M(this.j),Ia(this.ga,a.type.j),this.da=!1),a=this.ga.indexOf(a),-1!==a&&(this.j.push(this.ga[a]),this.ga.splice(a,1))):(this.da=!1,M(this.j),this.j[0]=a))};Ab=p;window._c2hh_="4B9FAD96D0A3586E892C27C89E9CC0E8F7AF2287";u.prototype.jb=function(a){var b,c=this.parent;if(this.group)for(this.Mm=!0;c;){if(!c.group){this.Mm=!1;break}c=c.parent}this.lq=!this.Bs()&&(!this.parent||this.parent.group&&this.parent.Mm);this.ks=!!a;this.gg=this.Ka.slice(0);
for(c=this.parent;c;){a=0;for(b=c.Ka.length;a<b;a++)this.tx(c.Ka[a]);c=c.parent}this.Ka=n(this.Ka);this.gg=n(this.gg);a=0;for(b=this.wb.length;a<b;a++)this.wb[a].jb();a=0;for(b=this.od.length;a<b;a++)this.od[a].jb();a=0;for(b=this.Dd.length;a<b;a++)this.Dd[a].jb(a<b-1&&this.Dd[a+1].Fl)};u.prototype.xm=function(a){if(this.Fg!==!!a){this.Fg=!!a;var b;a=0;for(b=this.Ok.length;a<b;++a)this.Ok[a].Hu();0<b&&this.b.pa.xg&&this.b.pa.xg.qq()}};u.prototype.Zq=function(a){m(a,this.Ka)};u.prototype.tx=function(a){m(a,
this.gg)};u.prototype.ym=function(){this.$p=!0;this.parent&&this.parent.ym()};u.prototype.Bs=function(){return this.wb.length?this.wb[0].trigger:!1};u.prototype.pb=function(){var a,b,c=!1,e=this.b,f=this.b.$a();f.hb=this;var g=this.wb;this.Fl||(f.Rn=!1);if(this.gd){0===g.length&&(c=!0);f.lb=0;for(a=g.length;f.lb<a;f.lb++)b=g[f.lb],b.trigger||(b=b.pb())&&(c=!0);(f.Pg=c)&&this.qm()}else{f.lb=0;for(a=g.length;f.lb<a;f.lb++)if(b=g[f.lb].pb(),!b){f.Pg=!1;this.lq&&e.Lf&&e.Wb();return}f.Pg=!0;this.qm()}this.Ay(f)};
u.prototype.Ay=function(a){a.Pg&&this.ks&&(a.Rn=!0);this.lq&&this.b.Lf&&this.b.Wb()};u.prototype.vB=function(a){this.b.$a().hb=this;this.wb[a].pb()&&(this.qm(),this.b.$a().Pg=!0)};u.prototype.qm=function(){var a=this.b.$a(),b;a.yc=0;for(b=this.od.length;a.yc<b;a.yc++)if(this.od[a.yc].pb())return;this.Vt()};u.prototype.rB=function(){var a=this.b.$a(),b;for(b=this.od.length;a.yc<b;a.yc++)if(this.od[a.yc].pb())return;this.Vt()};u.prototype.Vt=function(){if(this.Dd.length){var a,b,c,e,f=this.Dd.length-
1;this.b.jm(this);if(this.$p)for(a=0,b=this.Dd.length;a<b;a++)c=this.Dd[a],(e=!this.Mm||!this.group&&a<f)&&this.b.ai(c.Ka),c.pb(),e?this.b.gf(c.Ka):this.b.En(c.Ka);else for(a=0,b=this.Dd.length;a<b;a++)this.Dd[a].pb();this.b.dm()}};u.prototype.wB=function(){var a=this.b.$a();a.hb=this;var b=!1,c;a.lb=0;for(c=this.wb.length;a.lb<c;a.lb++)if(this.wb[a.lb].pb())b=!0;else if(!this.gd)return!1;return this.gd?b:!0};u.prototype.Sj=function(){this.b.zg++;var a=this.b.$a().lb,b=this.b.jm(this);if(!this.gd)for(b.lb=
a+1,a=this.wb.length;b.lb<a;b.lb++)if(!this.wb[b.lb].pb()){this.b.dm();return}this.qm();this.b.dm()};u.prototype.jA=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.wb[b].type===a.type)return!1;return!0};jc=u;a.prototype.jb=function(){var a,b,c;a=0;for(b=this.Y.length;a<b;a++)c=this.Y[a],c.jb(),c.Gd&&(this.oi=!0)};a.prototype.yB=function(){return!0};a.prototype.Lp=function(){var a,b;a=0;for(b=this.Y.length;a<b;a++)this.eb[a]=this.Y[a].get();return $a(this.Qb.apply(this.b.Ke,this.eb),
this.Ti)};a.prototype.xB=function(){var a,b;a=0;for(b=this.Y.length;a<b;a++)this.eb[a]=this.Y[a].get();a=this.Qb.apply(this.mg?this.mg:this.type,this.eb);this.type.Ld();return a};a.prototype.Kp=function(){var a,b,c,e,f,g,d,h,m=this.type,t=m.aa(),p=this.Yc.gd&&!this.trigger;b=0;var l=m.Rb,n=m.P,q=m.te,u=this.Od,H=-1<u,F=this.oi,w=this.Y,G=this.eb,O=this.Ti,Q=this.Qb,K;if(F)for(b=0,f=w.length;b<f;++b)g=w[b],g.Gd||(G[b]=g.get(0));else for(b=0,f=w.length;b<f;++b)G[b]=w[b].get(0);if(t.da){M(t.j);M(t.ga);
K=m.j;a=0;for(e=K.length;a<e;++a){h=K[a];if(F)for(b=0,f=w.length;b<f;++b)g=w[b],g.Gd&&(G[b]=g.get(a));H?(b=0,n&&(b=h.type.xh[q]),b=Q.apply(h.V[u+b],G)):b=Q.apply(h,G);(d=$a(b,O))?t.j.push(h):p&&t.ga.push(h)}m.finish&&m.finish(!0);t.da=!1;m.Ld();return t.xl()}c=0;K=(d=p&&!this.Yc.jA(this))?t.ga:t.j;var L=!1;a=0;for(e=K.length;a<e;++a){h=K[a];if(F)for(b=0,f=w.length;b<f;++b)g=w[b],g.Gd&&(G[b]=g.get(a));H?(b=0,n&&(b=h.type.xh[q]),b=Q.apply(h.V[u+b],G)):b=Q.apply(h,G);if($a(b,O))if(L=!0,d){if(t.j.push(h),
l)for(b=0,f=h.siblings.length;b<f;b++)g=h.siblings[b],g.type.aa().j.push(g)}else{K[c]=h;if(l)for(b=0,f=h.siblings.length;b<f;b++)g=h.siblings[b],g.type.aa().j[c]=g;c++}else if(d){K[c]=h;if(l)for(b=0,f=h.siblings.length;b<f;b++)g=h.siblings[b],g.type.aa().ga[c]=g;c++}else if(p&&(t.ga.push(h),l))for(b=0,f=h.siblings.length;b<f;b++)g=h.siblings[b],g.type.aa().ga.push(g)}Ga(K,c);if(l)for(n=m.Oc,a=0,e=n.length;a<e;a++)h=n[a].aa(),d?Ga(h.ga,c):Ga(h.j,c);c=L;if(d&&!L)for(a=0,e=t.j.length;a<e;a++){h=t.j[a];
if(F)for(b=0,f=w.length;b<f;b++)g=w[b],g.Gd&&(G[b]=g.get(a));b=H?Q.apply(h.V[u],G):Q.apply(h,G);if($a(b,O)){L=!0;break}}m.finish&&m.finish(c||p);return p?L:t.xl()};ec=a;c.prototype.jb=function(){var a,b,c;a=0;for(b=this.Y.length;a<b;a++)c=this.Y[a],c.jb(),c.Gd&&(this.oi=!0)};c.prototype.Lp=function(){var a=this.b,b,c,e=this.Y,f=this.eb;b=0;for(c=e.length;b<c;++b)f[b]=e[b].get();return this.Qb.apply(a.Ke,f)};c.prototype.Kp=function(){var a=this.type,b=this.Od,c=a.te,e=this.oi,f=this.Y,g=this.eb,d=
this.Qb,h=a.aa().qc(),a=a.P,m=-1<b,t,p,l,n,q,u;if(e)for(p=0,n=f.length;p<n;++p)q=f[p],q.Gd||(g[p]=q.get(0));else for(p=0,n=f.length;p<n;++p)g[p]=f[p].get(0);t=0;for(l=h.length;t<l;++t){u=h[t];if(e)for(p=0,n=f.length;p<n;++p)q=f[p],q.Gd&&(g[p]=q.get(t));m?(p=0,a&&(p=u.type.xh[c]),d.apply(u.V[b+p],g)):d.apply(u,g)}return!1};fc=c;var F=[],t=-1;e.prototype.jb=function(){var a,b;if(11===this.type)this.yg=this.b.Yr(this.jk,this.Yc.parent);else if(13===this.type)for(a=0,b=this.ah.length;a<b;a++)this.ah[a].jb();
this.qe&&this.qe.jb()};e.prototype.zA=function(a){this.Gd||!a||a.wa.Em||(this.Gd=!0)};e.prototype.cu=function(){this.Gd=!0};e.prototype.Kz=function(a){this.mf=a||0;a=f();this.qe.get(a);t--;return a.data};e.prototype.Lz=function(a){this.mf=a||0;a=f();this.qe.get(a);t--;return ma(a.data)?a.data:""};e.prototype.Rz=function(){return this.object};e.prototype.Iz=function(){return this.tr};e.prototype.Pz=function(a){this.mf=a||0;a=f();this.qe.get(a);t--;return a.Mb()?this.b.Hi(a.data):this.b.fo(a.data)};
e.prototype.Qz=function(){return this.ib};e.prototype.Oz=function(){return this.key};e.prototype.Nz=function(){return this.index};e.prototype.Mz=function(a){a=a||0;var b=this.yd.type,c=null,c=b.aa(),e=c.qc();if(e.length)c=e[a%e.length].type;else if(c.ga.length)c=c.ga[a%c.ga.length].type;else if(b.j.length)c=b.j[a%b.j.length].type;else return 0;return this.index+c.Di[b.te]};e.prototype.Jz=function(){return this.yg};e.prototype.Hz=function(){return this.Pr};e.prototype.Sz=function(){var a,b;a=0;for(b=
this.ah.length;a<b;a++)this.ik[a]=this.ah[a].get();return this.ik};gc=e;b.prototype.jb=function(){this.Ka=n(this.Ka)};b.prototype.$g=function(a){var b=this.b.Xr();this.parent&&!this.cj&&b?(this.Tg>=b.length&&(b.length=this.Tg+1),b[this.Tg]=a):this.data=a};b.prototype.Ki=function(){var a=this.b.Xr();return!this.parent||this.cj||!a||this.Dl?this.data:this.Tg>=a.length||"undefined"===typeof a[this.Tg]?this.to:a[this.Tg]};b.prototype.pb=function(){!this.parent||this.cj||this.Dl||this.$g(this.to)};ac=
b;h.prototype.toString=function(){return"include:"+this.Pi.toString()};h.prototype.jb=function(){this.Pi=this.b.Tn[this.bA];this.sheet.ns.add(this);this.Ka=n(this.Ka);for(var a=this.parent;a;)a.group&&a.Ok.push(this),a=a.parent;this.Hu()};h.prototype.pb=function(){this.parent&&this.b.Nj(this.b.H);this.Pi.oo||this.Pi.pb(!0);this.parent&&this.b.gf(this.b.H)};h.prototype.Hu=function(){for(var a=this.parent;a;){if(a.group&&!a.Fg){this.Mc=!1;return}a=a.parent}this.Mc=!0};kc=h;g.prototype.reset=function(a){this.hb=
a;this.yc=this.lb=0;M(this.ou);this.Rn=this.Pg=!1};g.prototype.xs=function(){return this.hb.$p?!0:this.lb<this.hb.wb.length-1?!!this.hb.Ka.length:!1};$b=g})();
(function(){function d(d,a){this.yd=d;this.b=d.b;this.type=a[0];this.get=[this.Sy,this.Oy,this.az,this.dz,this.Dy,this.bz,this.Wy,this.Ly,this.Vy,this.$y,this.Ey,this.Zy,this.My,this.Xy,this.Ty,this.Uy,this.Py,this.Qy,this.Ky,this.cz,this.Yy,this.Ry,this.Jy,this.Ny][this.type];var c=null;this.df=this.Y=this.eb=this.Qb=this.Jm=this.second=this.first=this.value=null;this.Od=-1;this.Ud=null;this.Nu=-1;this.yg=this.jk=null;this.ei=!1;switch(this.type){case 0:case 1:case 2:this.value=a[1];break;case 3:this.first=
new ic(d,a[1]);break;case 18:this.first=new ic(d,a[1]);this.second=new ic(d,a[2]);this.Jm=new ic(d,a[3]);break;case 19:this.Qb=this.b.tf(a[1]);this.Qb!==T.prototype.J.random&&this.Qb!==T.prototype.J.Lx||this.yd.cu();this.eb=[];this.Y=[];3===a.length?(c=a[2],this.eb.length=c.length+1):this.eb.length=1;break;case 20:this.df=this.b.H[a[1]];this.Od=-1;this.Qb=this.b.tf(a[2]);this.ei=a[3];yc&&this.Qb===yc.prototype.J.Yu&&this.yd.cu();a[4]?this.Ud=new ic(d,a[4]):this.Ud=null;this.eb=[];this.Y=[];6===a.length?
(c=a[5],this.eb.length=c.length+1):this.eb.length=1;break;case 21:this.df=this.b.H[a[1]];this.ei=a[2];a[3]?this.Ud=new ic(d,a[3]):this.Ud=null;this.Nu=a[4];break;case 22:this.df=this.b.H[a[1]];this.df.pl(a[2]);this.Od=this.df.ao(a[2]);this.Qb=this.b.tf(a[3]);this.ei=a[4];a[5]?this.Ud=new ic(d,a[5]):this.Ud=null;this.eb=[];this.Y=[];7===a.length?(c=a[6],this.eb.length=c.length+1):this.eb.length=1;break;case 23:this.jk=a[1],this.yg=null}this.yd.zA(this.df);4<=this.type&&17>=this.type&&(this.first=new ic(d,
a[1]),this.second=new ic(d,a[2]));if(c){var f,e;f=0;for(e=c.length;f<e;f++)this.Y.push(new ic(d,c[f]))}}function q(){++u;p.length===u&&p.push(new hc);return p[u]}function n(d,a,c){var f,e;f=0;for(e=d.length;f<e;++f)d[f].get(c),a[f+1]=c.data}function l(d,a){this.type=d||lc.ih;this.data=a||0;this.Wg=null;this.type==lc.ih&&(this.data=Math.floor(this.data))}d.prototype.jb=function(){23===this.type&&(this.yg=this.yd.b.Yr(this.jk,this.yd.Yc.parent));this.first&&this.first.jb();this.second&&this.second.jb();
this.Jm&&this.Jm.jb();this.Ud&&this.Ud.jb();if(this.Y){var d,a;d=0;for(a=this.Y.length;d<a;d++)this.Y[d].jb()}};var p=[],u=-1;d.prototype.cz=function(d){var a=this.Y,c=this.eb;c[0]=d;d=q();n(a,c,d);--u;this.Qb.apply(this.b.Ke,c)};d.prototype.Yy=function(d){var a=this.df,c=this.eb,f=this.Y,e=this.Ud,b=this.Qb,h=this.yd.mf,g=a.aa(),p=g.qc();if(!p.length)if(g.ga.length)p=g.ga;else{this.ei?d.rb(""):d.Ga(0);return}c[0]=d;d.Wg=a;d=q();n(f,c,d);e&&(e.get(d),d.Mb()&&(h=d.data,p=a.j));--u;a=p.length;if(h>=
a||h<=-a)h%=a;0>h&&(h+=a);b.apply(p[h],c)};d.prototype.Jy=function(d){var a=this.df,c=this.eb,f=this.Y,e=this.Ud,b=this.Od,h=this.Qb,g=this.yd.mf,p=a.aa(),l=p.qc();if(!l.length)if(p.ga.length)l=p.ga;else{this.ei?d.rb(""):d.Ga(0);return}c[0]=d;d.Wg=a;d=q();n(f,c,d);e&&(e.get(d),d.Mb()&&(g=d.data,l=a.j));--u;f=l.length;if(g>=f||g<=-f)g%=f;0>g&&(g+=f);g=l[g];l=0;a.P&&(l=g.type.xh[a.te]);h.apply(g.V[b+l],c)};d.prototype.Ry=function(d){var a=this.Ud,c=this.df,f=this.Nu,e=this.yd.mf,b=c.aa(),h=b.qc();if(!h.length)if(b.ga.length)h=
b.ga;else{this.ei?d.rb(""):d.Ga(0);return}if(a){b=q();a.get(b);if(b.Mb()){e=b.data;h=c.j;0!==h.length&&(e%=h.length,0>e&&(e+=h.length));e=c.eo(e);c=e.Oa[f];ma(c)?d.rb(c):d.N(c);--u;return}--u}a=h.length;if(e>=a||e<=-a)e%=a;0>e&&(e+=a);e=h[e];h=0;c.P&&(h=e.type.Di[c.te]);c=e.Oa[f+h];ma(c)?d.rb(c):d.N(c)};d.prototype.Sy=function(d){d.type=lc.ih;d.data=this.value};d.prototype.Oy=function(d){d.type=lc.hh;d.data=this.value};d.prototype.az=function(d){d.type=lc.String;d.data=this.value};d.prototype.dz=
function(d){this.first.get(d);d.Mb()&&(d.data=-d.data)};d.prototype.Dy=function(d){this.first.get(d);var a=q();this.second.get(a);d.Mb()&&a.Mb()&&(d.data+=a.data,a.Ih()&&d.Th());--u};d.prototype.bz=function(d){this.first.get(d);var a=q();this.second.get(a);d.Mb()&&a.Mb()&&(d.data-=a.data,a.Ih()&&d.Th());--u};d.prototype.Wy=function(d){this.first.get(d);var a=q();this.second.get(a);d.Mb()&&a.Mb()&&(d.data*=a.data,a.Ih()&&d.Th());--u};d.prototype.Ly=function(d){this.first.get(d);var a=q();this.second.get(a);
d.Mb()&&a.Mb()&&(d.data/=a.data,d.Th());--u};d.prototype.Vy=function(d){this.first.get(d);var a=q();this.second.get(a);d.Mb()&&a.Mb()&&(d.data%=a.data,a.Ih()&&d.Th());--u};d.prototype.$y=function(d){this.first.get(d);var a=q();this.second.get(a);d.Mb()&&a.Mb()&&(d.data=Math.pow(d.data,a.data),a.Ih()&&d.Th());--u};d.prototype.Ey=function(d){this.first.get(d);var a=q();this.second.get(a);a.Lh()||d.Lh()?this.Gy(d,a):this.Fy(d,a);--u};d.prototype.Gy=function(d,a){d.Lh()&&a.Lh()?this.Iy(d,a):this.Hy(d,
a)};d.prototype.Iy=function(d,a){d.data+=a.data};d.prototype.Hy=function(d,a){d.Lh()?d.data+=(Math.round(1E10*a.data)/1E10).toString():d.rb(d.data.toString()+a.data)};d.prototype.Fy=function(d,a){d.Ga(d.data&&a.data?1:0)};d.prototype.Zy=function(d){this.first.get(d);var a=q();this.second.get(a);d.Mb()&&a.Mb()&&(d.data||a.data?d.Ga(1):d.Ga(0));--u};d.prototype.Ky=function(d){this.first.get(d);d.data?this.second.get(d):this.Jm.get(d)};d.prototype.My=function(d){this.first.get(d);var a=q();this.second.get(a);
d.Ga(d.data===a.data?1:0);--u};d.prototype.Xy=function(d){this.first.get(d);var a=q();this.second.get(a);d.Ga(d.data!==a.data?1:0);--u};d.prototype.Ty=function(d){this.first.get(d);var a=q();this.second.get(a);d.Ga(d.data<a.data?1:0);--u};d.prototype.Uy=function(d){this.first.get(d);var a=q();this.second.get(a);d.Ga(d.data<=a.data?1:0);--u};d.prototype.Py=function(d){this.first.get(d);var a=q();this.second.get(a);d.Ga(d.data>a.data?1:0);--u};d.prototype.Qy=function(d){this.first.get(d);var a=q();
this.second.get(a);d.Ga(d.data>=a.data?1:0);--u};d.prototype.Ny=function(d){var a=this.yg.Ki();la(a)?d.N(a):d.rb(a)};ic=d;l.prototype.Ih=function(){return this.type===lc.hh};l.prototype.Mb=function(){return this.type===lc.ih||this.type===lc.hh};l.prototype.Lh=function(){return this.type===lc.String};l.prototype.Th=function(){this.Ih()||(this.Lh()&&(this.data=parseFloat(this.data)),this.type=lc.hh)};l.prototype.Ga=function(d){this.type=lc.ih;this.data=Math.floor(d)};l.prototype.N=function(d){this.type=
lc.hh;this.data=d};l.prototype.rb=function(d){this.type=lc.String;this.data=d};l.prototype.Up=function(d){la(d)?(this.type=lc.hh,this.data=d):ma(d)?(this.type=lc.String,this.data=d.toString()):(this.type=lc.ih,this.data=0)};hc=l;lc={ih:0,hh:1,String:2}})();function T(d){this.b=d;this.Lc=[]}
T.prototype.Ua=function(){var d={},q,n,l,p,u,m,a,c;d.waits=[];var f=d.waits,e;q=0;for(n=this.Lc.length;q<n;q++){m=this.Lc[q];e={t:m.time,st:m.ku,s:m.Zp,ev:m.vh.ka,sm:[],sols:{}};m.vh.od[m.yc]&&(e.act=m.vh.od[m.yc].ka);l=0;for(p=m.Ka.length;l<p;l++)e.sm.push(m.Ka[l].ka);for(u in m.uc)if(m.uc.hasOwnProperty(u)){a=this.b.H[parseInt(u,10)];c={sa:m.uc[u].rm,insts:[]};l=0;for(p=m.uc[u].Ve.length;l<p;l++)c.insts.push(m.uc[u].Ve[l].uid);e.sols[a.ka.toString()]=c}f.push(e)}return d};
T.prototype.ab=function(d){d=d.waits;var q,n,l,p,u,m,a,c,f,e,b;M(this.Lc);q=0;for(n=d.length;q<n;q++)if(m=d[q],c=this.b.hr[m.ev.toString()]){f=-1;l=0;for(p=c.od.length;l<p;l++)if(c.od[l].ka===m.act){f=l;break}if(-1!==f){a={uc:{},Ka:[],Nn:!1};a.time=m.t;a.ku=m.st||"";a.Zp=!!m.s;a.vh=c;a.yc=f;l=0;for(p=m.sm.length;l<p;l++)(c=this.b.Eg(m.sm[l]))&&a.Ka.push(c);for(u in m.sols)if(m.sols.hasOwnProperty(u)&&(c=this.b.Eg(parseInt(u,10)))){f=m.sols[u];e={rm:f.sa,Ve:[]};l=0;for(p=f.insts.length;l<p;l++)(b=
this.b.Ii(f.insts[l]))&&e.Ve.push(b);a.uc[c.index.toString()]=e}this.Lc.push(a)}}};
(function(){function d(){}function q(){}function n(){}var l=T.prototype;d.prototype.nv=function(){return!0};d.prototype.Jq=function(){return!0};d.prototype.Zv=function(){return!0};d.prototype.cv=function(a,f,e){return mc(a,f,e)};d.prototype.zw=function(a){var f=this.b.$a(),e=f.hb,b=f.xs(),f=this.b.Ot();if(b)for(b=0;b<a&&!f.sb;b++)this.b.ai(e.Ka),f.index=b,e.Sj(),this.b.gf(e.Ka);else for(b=0;b<a&&!f.sb;b++)f.index=b,e.Sj();this.b.Jt();return!1};var p=[],u=-1;d.prototype.pv=function(a){var f=a.aa();
u++;p.length===u&&p.push([]);var e=p[u];Ia(e,f.qc());var b=this.b.$a(),d=b.hb,g=b.xs(),b=this.b.Ot(),m,l,t,k,r,n,y=a.Rb;if(g)for(g=0,m=e.length;g<m&&!b.sb;g++){this.b.ai(d.Ka);k=e[g];f=a.aa();f.da=!1;M(f.j);f.j[0]=k;if(y)for(l=0,t=k.siblings.length;l<t;l++)r=k.siblings[l],n=r.type.aa(),n.da=!1,M(n.j),n.j[0]=r;b.index=g;d.Sj();this.b.gf(d.Ka)}else for(f.da=!1,M(f.j),g=0,m=e.length;g<m&&!b.sb;g++){k=e[g];f.j[0]=k;if(y)for(l=0,t=k.siblings.length;l<t;l++)r=k.siblings[l],n=r.type.aa(),n.da=!1,M(n.j),
n.j[0]=r;b.index=g;d.Sj()}M(e);this.b.Jt();u--;return!1};d.prototype.kx=function(){var a=this.b.Bg().F;"undefined"===typeof a.TriggerOnce_lastTick&&(a.TriggerOnce_lastTick=-1);var f=a.TriggerOnce_lastTick,e=this.b.Xc;a.TriggerOnce_lastTick=e;return this.b.Qo||f!==e-1};d.prototype.mv=function(a){var f=this.b.Bg(),e=f.F.Every_lastTime||0,b=this.b.Ab.ta;"undefined"===typeof f.F.Every_seconds&&(f.F.Every_seconds=a);var d=f.F.Every_seconds;if(b>=e+d)return f.F.Every_lastTime=e+d,b>=f.F.Every_lastTime+
.04&&(f.F.Every_lastTime=b),f.F.Every_seconds=a,!0;b<e-.1&&(f.F.Every_lastTime=b);return!1};d.prototype.iv=function(a,f,e){return mc(a.Ki(),f,e)};d.prototype.zv=function(a){return(a=this.b.Ah[a.toLowerCase()])&&a.Fg};d.prototype.zq=function(){var a=this.b.$a();return a.Rn?!1:!a.Pg};d.prototype.Kq=function(){return!0};d.prototype.Rv=function(){return!0};d.prototype.gn=function(){return!0};d.prototype.Qq=function(){return!0};d.prototype.$v=function(){return!0};d.prototype.tk=function(){return!0};d.prototype.Vu=
function(a,f,e){return Va(R(a),R(e))<=R(f)};d.prototype.yv=function(a,f){return Xa(R(a),R(f))};d.prototype.vv=function(a,f,e){a=Sa(a);f=Sa(f);e=Sa(e);return Xa(e,f)?Xa(a,f)&&!Xa(a,e):!(!Xa(a,f)&&Xa(a,e))};l.k=new d;q.prototype.qv=function(a){this.b.ej||this.b.si||(this.b.si=a)};q.prototype.jv=function(a,f,e,b){if(f&&a&&(f=this.b.Rk(a,f,e,b))){this.b.cd++;var d;this.b.trigger(Object.getPrototypeOf(a.wa).k.uf,f);if(f.Rb)for(e=0,b=f.siblings.length;e<b;e++)d=f.siblings[e],this.b.trigger(Object.getPrototypeOf(d.type.wa).k.uf,
d);this.b.cd--;a=a.aa();a.da=!1;M(a.j);a.j[0]=f;if(f.Rb)for(e=0,b=f.siblings.length;e<b;e++)d=f.siblings[e],a=d.type.aa(),a.da=!1,M(a.j),a.j[0]=d}};q.prototype.Tw=function(a,f){0===a.Vm?la(f)?a.$g(f):a.$g(parseFloat(f)):1===a.Vm&&a.$g(f.toString())};q.prototype.Tu=function(a,f){0===a.Vm?la(f)?a.$g(a.Ki()+f):a.$g(a.Ki()+parseFloat(f)):1===a.Vm&&a.$g(a.Ki()+f.toString())};q.prototype.Kw=function(a,f){var e=this.b.Ah[a.toLowerCase()];if(e)switch(f){case 0:e.xm(!1);break;case 1:e.xm(!0);break;case 2:e.xm(!e.Fg)}};
var m=[],a=[];q.prototype.nx=function(c){if(!(0>c)){var f,e,b,d=this.b.$a(),g;m.length?g=m.pop():g={uc:{},Ka:[]};g.Nn=!1;g.time=this.b.Ab.ta+c;g.ku="";g.Zp=!1;g.vh=d.hb;g.yc=d.yc+1;c=0;for(f=this.b.H.length;c<f;c++)b=this.b.H[c],e=b.aa(),e.da&&-1===d.hb.Ka.indexOf(b)||(g.Ka.push(b),b=void 0,a.length?b=a.pop():b={Ve:[]},b.rm=!1,b.rm=e.da,Ia(b.Ve,e.j),g.uc[c.toString()]=b);this.Lc.push(g);return!0}};q.prototype.Nw=function(a,f,e){if(this.b.pa&&this.b.C&&(a=this.b.pa.rl(a))){var b=this.b.pa.Wa[a.index];
f=Math.floor(f);0>f||f>=b.length||(1===this.b.C.ds(a.kb,f)&&(e/=100),b[f]!==e&&(b[f]=e,a.Mc&&(this.b.Ea=!0)))}};l.u=new q;n.prototype["int"]=function(a,f){ma(f)?(a.Ga(parseInt(f,10)),isNaN(a.data)&&(a.data=0)):a.Ga(f)};n.prototype["float"]=function(a,f){ma(f)?(a.N(parseFloat(f)),isNaN(a.data)&&(a.data=0)):a.N(f)};n.prototype.random=function(a,f,e){void 0===e?a.N(Math.random()*f):a.N(Math.random()*(e-f)+f)};n.prototype.sqrt=function(a,f){a.N(Math.sqrt(f))};n.prototype.abs=function(a,f){a.N(Math.abs(f))};
n.prototype.round=function(a,f){a.Ga(Math.round(f))};n.prototype.floor=function(a,f){a.Ga(Math.floor(f))};n.prototype.ceil=function(a,f){a.Ga(Math.ceil(f))};n.prototype.sin=function(a,f){a.N(Math.sin(R(f)))};n.prototype.cos=function(a,f){a.N(Math.cos(R(f)))};n.prototype.tan=function(a,f){a.N(Math.tan(R(f)))};n.prototype.asin=function(a,f){a.N(Oa(Math.asin(f)))};n.prototype.acos=function(a,f){a.N(Oa(Math.acos(f)))};n.prototype.atan=function(a,f){a.N(Oa(Math.atan(f)))};n.prototype.exp=function(a,f){a.N(Math.exp(f))};
n.prototype.log10=function(a,f){a.N(Math.log(f)/Math.LN10)};n.prototype.max=function(a){var f=arguments[1];"number"!==typeof f&&(f=0);var e,b,d;e=2;for(b=arguments.length;e<b;e++)d=arguments[e],"number"===typeof d&&f<d&&(f=d);a.N(f)};n.prototype.min=function(a){var f=arguments[1];"number"!==typeof f&&(f=0);var e,b,d;e=2;for(b=arguments.length;e<b;e++)d=arguments[e],"number"===typeof d&&f>d&&(f=d);a.N(f)};n.prototype.vg=function(a){a.N(this.b.vg)};n.prototype.eh=function(a){a.N(this.b.eh)};n.prototype.time=
function(a){a.N(this.b.Ab.ta)};n.prototype.Xc=function(a){a.Ga(this.b.Xc)};n.prototype.Yl=function(a){a.Ga(this.b.Yl)};n.prototype.Xn=function(a){a.Ga(this.b.Xn)};n.prototype.Xx=function(a,f,e,b,d){a.N(Za(f,e,b,d))};n.prototype.n=function(a,f,e,b,d){a.N(Oa(Ta(f,e,b,d)))};n.prototype.EA=function(a){a.rb("\n")};n.prototype.Mx=function(a,f,e,b){f<e?a.N(e):f>b?a.N(b):a.N(f)};n.prototype.uA=function(a){a.Ga(this.b.pa.width)};n.prototype.tA=function(a){a.Ga(this.b.pa.height)};n.prototype.left=function(a,
f,e){a.rb(ma(f)?f.substr(0,e):"")};n.prototype.right=function(a,f,e){a.rb(ma(f)?f.substr(f.length-e):"")};n.prototype.replace=function(a,f,e,b){ma(f)&&ma(e)&&ma(b)?a.rb(f.replace(new RegExp(ob(e),"gi"),b)):a.rb(ma(f)?f:"")};n.prototype.trim=function(a,f){a.rb(ma(f)?f.trim():"")};n.prototype.Lx=function(a){var f=x(Math.random()*(arguments.length-1));a.Up(arguments[f+1])};n.prototype.sB=function(a,f,e,b){a.Ga(za(f,e,b))};n.prototype.Hn=function(a){a.N(this.b.Hn/1E3)};n.prototype.Rh=function(a){a.N(this.b.Rh)};
n.prototype.IB=function(a,f,e,b){e=e|0;a.Ga((f|0)&~(1<<e)|(0!==b?1:0)<<e)};n.prototype.Tz=function(a,f,e){a.Ga((f|0)&1<<(e|0)?1:0)};l.J=new n;l.uB=function(){var c,f,e,b,d,g,p=this.b.$a();c=0;for(e=this.Lc.length;c<e;c++){b=this.Lc[c];if(-1===b.time){if(!b.Zp)continue}else if(b.time>this.b.Ab.ta)continue;p.hb=b.vh;p.yc=b.yc;p.lb=0;for(f in b.uc)b.uc.hasOwnProperty(f)&&(d=this.b.H[parseInt(f,10)].aa(),g=b.uc[f],d.da=g.rm,Ia(d.j,g.Ve),d=g,M(d.Ve),a.push(d));b.vh.rB();this.b.En(b.Ka);b.Nn=!0}f=c=0;for(e=
this.Lc.length;c<e;c++)b=this.Lc[c],this.Lc[f]=b,b.Nn?(db(b.uc),M(b.Ka),m.push(b)):f++;Ga(this.Lc,f)}})();
(function(){yb=function(d,n){var l=d[1],p=d[3],u=d[4],m=d[5],a=d[6],c=d[7],f=d[8];n.k||(n.k={});n.u||(n.u={});n.J||(n.J={});var e=n.k,b=n.u,h=n.J;p&&(e.iC=function(a,b){return mc(this.x,a,b)},e.jC=function(a,b){return mc(this.y,a,b)},e.nC=function(){var a=this.p;this.ba();var b=this.U;return!(b.right<a.xa||b.bottom<a.ya||b.left>a.Ba||b.top>a.Aa)},e.Cv=function(){this.ba();var a=this.U,b=this.b.pa;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},e.xC=function(a,b,c){var e=this.aa(),f=
e.qc();if(!f.length)return!1;var d=f[0],h=d,p=Za(d.x,d.y,b,c),m,l,n;m=1;for(l=f.length;m<l;m++)if(d=f[m],n=Za(d.x,d.y,b,c),0===a&&n<p||1===a&&n>p)p=n,h=d;e.Kj(h);return!0},b.GC=function(a){this.x!==a&&(this.x=a,this.G())},b.HC=function(a){this.y!==a&&(this.y=a,this.G())},b.Wq=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.G()},b.Xq=function(a,b){var c=a.Az(this);if(c){var e;c.Gi?(e=c.Gi(b,!0),c=c.Gi(b,!1)):(e=c.x,c=c.y);if(this.x!==e||this.y!==c)this.x=e,this.y=c,this.G()}},b.sC=function(a){0!==
a&&(this.x+=Math.cos(this.n)*a,this.y+=Math.sin(this.n)*a,this.G())},b.rC=function(a,b){0!==b&&(this.x+=Math.cos(R(a))*b,this.y+=Math.sin(R(a))*b,this.G())},h.nn=function(a){a.N(this.x)},h.pn=function(a){a.N(this.y)},h.vg=function(a){a.N(this.b.zh(this))});u&&(e.hC=function(a,b){return mc(this.width,a,b)},e.dv=function(a,b){return mc(this.height,a,b)},b.Uw=function(a){this.width!==a&&(this.width=a,this.G())},b.Lw=function(a){this.height!==a&&(this.height=a,this.G())},b.Qw=function(a,b){if(this.width!==
a||this.height!==b)this.width=a,this.height=b,this.G()},h.IC=function(a){a.N(this.width)},h.sv=function(a){a.N(this.height)},h.dC=function(a){this.ba();a.N(this.U.left)},h.fC=function(a){this.ba();a.N(this.U.top)},h.eC=function(a){this.ba();a.N(this.U.right)},h.cC=function(a){this.ba();a.N(this.U.bottom)});m&&(e.Vu=function(a,b){return Va(this.n,R(b))<=R(a)},e.yv=function(a){return Xa(this.n,R(a))},e.vv=function(a,b){var c=Sa(a),e=Sa(b),f=Qa(this.n);return Xa(e,c)?Xa(f,c)&&!Xa(f,e):!(!Xa(f,c)&&Xa(f,
e))},b.Cw=function(a){a=R(Pa(a));isNaN(a)||this.n===a||(this.n=a,this.G())},b.Aw=function(a){0===a||isNaN(a)||(this.n+=R(a),this.n=Qa(this.n),this.G())},b.BC=function(a){0===a||isNaN(a)||(this.n-=R(a),this.n=Qa(this.n),this.G())},b.CC=function(a,b){var c=Wa(this.n,R(b),R(a));isNaN(c)||this.n===c||(this.n=c,this.G())},b.DC=function(a,b,c){a=Wa(this.n,Math.atan2(c-this.y,b-this.x),R(a));isNaN(a)||this.n===a||(this.n=a,this.G())},b.Sw=function(a,b){var c=Math.atan2(b-this.y,a-this.x);isNaN(c)||this.n===
c||(this.n=c,this.G())},h.Uu=function(a){a.N(Ra(this.n))});l||(e.gv=function(a,b,c){return mc(this.Oa[a],b,c)},e.wv=function(a){return this.Oa[a]},e.yC=function(a,b){var c=this.aa(),e=c.qc();if(!e.length)return!1;var f=e[0],d=f,h=f.Oa[b],p,m,l;p=1;for(m=e.length;p<m;p++)if(f=e[p],l=f.Oa[b],0===a&&l<h||1===a&&l>h)h=l,d=f;c.Kj(d);return!0},e.yw=function(a){var b,c,e,f,d;if(this.b.Bg().Ti){d=this.aa();if(d.da)for(d.da=!1,M(d.j),M(d.ga),e=this.j,b=0,c=e.length;b<c;b++)f=e[b],f.uid===a?d.ga.push(f):d.j.push(f);
else{e=b=0;for(c=d.j.length;b<c;b++)f=d.j[b],d.j[e]=f,f.uid===a?d.ga.push(f):e++;Ga(d.j,e)}this.Ld();return!!d.j.length}f=this.b.Ii(a);if(!f)return!1;d=this.aa();if(!d.da&&-1===d.j.indexOf(f))return!1;if(this.P)for(a=f.type.Xa,b=0,c=a.length;b<c;b++){if(a[b]===this)return d.Kj(f),this.Ld(),!0}else if(f.type===this)return d.Kj(f),this.Ld(),!0;return!1},e.uf=function(){return!0},e.Tv=function(){return!0},b.Mw=function(a,b){var c=this.Oa;la(c[a])?c[a]=la(b)?b:parseFloat(b):ma(c[a])&&(c[a]=ma(b)?b:b.toString())},
b.Su=function(a,b){var c=this.Oa;la(c[a])?c[a]=la(b)?c[a]+b:c[a]+parseFloat(b):ma(c[a])&&(c[a]=ma(b)?c[a]+b:c[a]+b.toString())},b.cx=function(a,b){var c=this.Oa;la(c[a])&&(c[a]=la(b)?c[a]-b:c[a]-parseFloat(b))},b.Fw=function(a,b){this.Oa[a]=b?1:0},b.ix=function(a){this.Oa[a]=1-this.Oa[a]},b.lv=function(){this.b.Id(this)},b.Kv||(b.Kv=function(a){var b,c;try{b=JSON.parse(a)}catch(e){return}this.b.Nl(this,b,!0);this.ne&&this.ne();if(this.V)for(a=0,b=this.V.length;a<b;++a)c=this.V[a],c.ne&&c.ne()}),h.kC=
function(a){var b=a.Wg.j.length,c,e,f;c=0;for(e=this.b.Sd.length;c<e;c++)f=this.b.Sd[c],a.Wg.P?0<=f.type.Xa.indexOf(a.Wg)&&b++:f.type===a.Wg&&b++;a.Ga(b)},h.AC=function(a){a.Ga(a.Wg.aa().qc().length)},h.mx=function(a){a.Ga(this.uid)},h.lC=function(a){a.Ga(this.Li())},h.Wu||(h.Wu=function(a){a.rb(JSON.stringify(this.b.Mp(this,!0)))}));a&&(e.oC=function(){return this.visible},b.ln=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.Ea=!0)},e.gC=function(a,b){return mc(ub(100*this.opacity),a,b)},
b.Ow=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.Ea=!0)},h.Opacity=function(a){a.N(ub(100*this.opacity))});c&&(e.mC=function(a){return a?this.p===a:!1},e.zC=function(a){var b=this.aa(),c=b.qc();if(!c.length)return!1;var e=c[0],f=e,d,h;d=1;for(h=c.length;d<h;d++)if(e=c[d],0===a){if(e.p.index>f.p.index||e.p.index===f.p.index&&e.we()>f.we())f=e}else if(e.p.index<f.p.index||e.p.index===f.p.index&&e.we()<f.we())f=e;b.Kj(f);return!0},b.uC=function(){var a=this.p,b=a.j;
b.length&&b[b.length-1]===this||(a.di(this,!1),a.qi(this,!1),this.b.Ea=!0)},b.tC=function(){var a=this.p,b=a.j;b.length&&b[0]===this||(a.di(this,!1),a.eB(this),this.b.Ea=!0)},b.Bq=function(a){a&&a!=this.p&&(this.p.di(this,!0),this.p=a,a.qi(this,!0),this.b.Ea=!0)},b.KC=function(a,b){var c=0===a;if(b){var e=b.co(this);e&&e.uid!==this.uid&&(this.p.index!==e.p.index&&(this.p.di(this,!0),this.p=e.p,e.p.qi(this,!0)),this.p.BA(this,e,c),this.b.Ea=!0)}},h.qC=function(a){a.Ga(this.p.pt)},h.pC=function(a){a.rb(this.p.name)},
h.JC=function(a){a.Ga(this.we())});f&&(b.EC=function(a,b){if(this.b.C){var c=this.type.bo(b);if(!(0>c)){var e=1===a;this.vf[c]!==e&&(this.vf[c]=e,this.ie(),this.b.Ea=!0)}}},b.FC=function(a,b,c){if(this.b.C){var e=this.type.bo(a);0>e||(a=this.type.fa[e],e=this.Wa[e],b=Math.floor(b),0>b||b>=e.length||(1===this.b.C.ds(a.kb,b)&&(c/=100),e[b]!==c&&(e[b]=c,a.Mc&&(this.b.Ea=!0))))}})};Sb=function(){this.Dn=this.wn=!0;this.type.zk=!0;this.b.Ea=!0;var d,n,l=this.xn;d=0;for(n=l.length;d<n;++d)l[d](this);this.p.ld&&
this.ba()};Tb=function(d){d&&this.xn.push(d)};Vb=function(){if(this.wn){var d=this.U,n=this.tb;d.set(this.x,this.y,this.x+this.width,this.y+this.height);d.offset(-this.Bc*this.width,-this.Cc*this.height);this.n?(d.offset(-this.x,-this.y),n.eu(d,this.n),n.offset(this.x,this.y),n.ir(d)):n.Je(d);d.normalize();this.wn=!1;this.XB()}};var d=new wa(0,0,0,0);Wb=function(){if(this.p.ld){var q=this.p.Vb,n=this.U;d.set(q.wc(n.left),q.xc(n.top),q.wc(n.right),q.xc(n.bottom));this.Hc.Ai(d)||(this.Hc.right<this.Hc.left?
q.update(this,null,d):q.update(this,this.Hc,d),this.Hc.qh(d),this.p.fe=!0)}};Xb=function(){if(this.Dn&&this.Rd){this.ba();var q=this.type.Nk,n=this.U;d.set(q.wc(n.left),q.xc(n.top),q.wc(n.right),q.xc(n.bottom));this.Df.Ai(d)||(this.Df.right<this.Df.left?q.update(this,null,d):q.update(this,this.Df,d),this.Df.qh(d),this.Dn=!1)}};Ub=function(d,n){return this.U.Hb(d,n)&&this.tb.Hb(d,n)?this.T&&!this.T.xe()?(this.T.Pd(this.width,this.height,this.n),this.T.Hb(d-this.x,n-this.y)):!0:!1};Ob=function(){this.type.Rm();
return this.Ig};Yb=function(){this.p.sq();return this.je};Zb=function(){M(this.Ha);var d,n,l,p=!0;d=0;for(n=this.vf.length;d<n;d++)this.vf[d]&&(l=this.type.fa[d],this.Ha.push(l),l.fc||(p=!1));this.Mu=!!this.Ha.length;this.lf=p};Pb=function(){return"Inst"+this.Nt};Cb=function(d){if(d&&d.Rb&&d.type!=this){var n,l,p;n=0;for(l=d.siblings.length;n<l;n++)if(p=d.siblings[n],p.type==this)return p}d=this.aa().qc();return d.length?d[0]:null};Db=function(d){var n=this.aa().qc();return n.length?n[d.Li()%n.length]:
null};Bb=function(){if(this.ii&&!this.P){var d,n;d=0;for(n=this.j.length;d<n;d++)this.j[d].Ig=d;var l=d,p=this.b.Sd;d=0;for(n=p.length;d<n;++d)p[d].type===this&&(p[d].Ig=l++);this.ii=!1}};Mb=function(d){if(d<this.j.length)return this.j[d];d-=this.j.length;var n=this.b.Sd,l,p;l=0;for(p=n.length;l<p;++l)if(n[l].type===this){if(0===d)return n[l];--d}return null};Eb=function(){return this.nf[this.pe]};Fb=function(){this.pe++;this.pe===this.nf.length?this.nf.push(new Ab(this)):(this.nf[this.pe].da=!0,
M(this.nf[this.pe].ga))};Gb=function(){this.pe++;this.pe===this.nf.length&&this.nf.push(new Ab(this));var d=this.nf[this.pe],n=this.nf[this.pe-1];n.da?(d.da=!0,M(d.ga)):(d.da=!1,Ia(d.j,n.j),Ia(d.ga,n.ga))};Hb=function(){this.pe--};Ib=function(d){var n,l,p,u,m,a=0;if(!this.P)for(n=0,l=this.Xa.length;n<l;n++)for(m=this.Xa[n],p=0,u=m.Ya.length;p<u;p++){if(d===m.Ya[p].name)return this.F.lastBehIndex=a,m.Ya[p];a++}n=0;for(l=this.Ya.length;n<l;n++){if(d===this.Ya[n].name)return this.F.lastBehIndex=a,this.Ya[n];
a++}return null};Jb=function(d){return this.pl(d)?this.F.lastBehIndex:-1};Kb=function(d){var n,l;n=0;for(l=this.fa.length;n<l;n++)if(this.fa[n].name===d)return n;return-1};Lb=function(){if(this.Rb&&!this.P){var d,n,l,p,u,m,a;this.Rm();m=this.aa();var c=m.da,f=(d=this.b.$a())&&d.hb&&d.hb.gd;d=0;for(n=this.Oc.length;d<n;d++)if(u=this.Oc[d],u!==this&&(u.Rm(),a=u.aa(),a.da=c,!c)){M(a.j);l=0;for(p=m.j.length;l<p;++l)a.j[l]=u.eo(m.j[l].Ig);if(f)for(M(a.ga),l=0,p=m.ga.length;l<p;++l)a.ga[l]=u.eo(m.ga[l].Ig)}}};
Nb=function(){return"Type"+this.ka};mc=function(d,n,l){if("undefined"===typeof d||"undefined"===typeof l)return!1;switch(n){case 0:return d===l;case 1:return d!==l;case 2:return d<l;case 3:return d<=l;case 4:return d>l;case 5:return d>=l;default:return!1}}})();
var uc={bulge:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump float radius;\nuniform mediump float scale;\nvoid main(void)\n{\nmediump vec2 tex = vTex;\nmediump float dist = distance(vec2(0.5, 0.5), vTex);\ntex -= vec2(0.5, 0.5);\nif (dist < radius)\n{\nmediump float percent = 1.0 - ((radius - dist) / radius) * scale;\npercent = percent * percent;\ntex = tex * percent;\n}\ntex += vec2(0.5, 0.5);\ngl_FragColor = texture2D(samplerFront, tex);\n}",Te:0,Ue:0,Ff:!1,
fc:!1,zf:!1,Y:[["radius",0,1],["scale",0,1]]},bumpmapping:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp sampler2D samplerBack;\nuniform mediump vec2 destStart;\nuniform mediump vec2 destEnd;\nuniform mediump float lightx;\nuniform mediump float lighty;\nuniform mediump float lightz;\nuniform mediump float intensity;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp vec4 back = texture2D(samplerBack, mix(destStart, destEnd, vTex));\nmediump vec3 normal = 2.0 * front.rgb - 1.0;\nmediump vec3 light = normalize(vec3(lightx - vTex.x, lighty - vTex.y, lightz));\nmediump float diffuse = clamp(dot(normal, light), 0.0, 1.0);\ngl_FragColor = intensity * back * diffuse;\n}",
Te:0,Ue:0,Ff:!0,fc:!1,zf:!1,Y:[["lightx",0,1],["lighty",0,1],["lightz",0,1],["intensity",0,1]]},grayscale:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp float intensity;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp float gray = front.r * 0.299 + front.g * 0.587 + front.b * 0.114;\ngl_FragColor = mix(front, vec4(gray, gray, gray, front.a), intensity);\n}",Te:0,Ue:0,Ff:!1,fc:!0,zf:!1,Y:[["intensity",0,1]]},multiply:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform lowp sampler2D samplerBack;\nuniform mediump vec2 destStart;\nuniform mediump vec2 destEnd;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp vec4 back = texture2D(samplerBack, mix(destStart, destEnd, vTex));\nfront *= back;\ngl_FragColor = front;\n}",
Te:0,Ue:0,Ff:!0,fc:!1,zf:!1,Y:[]},noise:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump float seconds;\nuniform lowp float intensity;\nuniform lowp float color;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp float a = front.a;\nif (a != 0.0)\nfront.rgb /= a;\nmediump float seconds_mod = mod(seconds, 10.0);\nmediump vec3 noise = vec3(fract(sin(dot(vTex.xy, vec2(12.9898,78.233)) + seconds_mod) * 43758.5453),\nfract(sin(dot(vTex.yx, vec2(12.9898,-78.233)) + seconds_mod) * 43758.5453),\nfract(sin(dot(vTex.xy, vec2(-12.9898,-78.233)) + seconds_mod) * 43758.5453));\nnoise = mix(vec3(noise.r), noise, color);\nfront.rgb += (noise * intensity) - (intensity / 2.0);\nfront.rgb *= a;\ngl_FragColor = front;\n}",
Te:0,Ue:0,Ff:!1,fc:!0,zf:!0,Y:[["intensity",0,1],["color",0,1]]},warp:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump float seconds;\nuniform mediump float pixelWidth;\nuniform mediump float pixelHeight;\nuniform mediump float layerScale;\nuniform mediump float freqX;\nuniform mediump float freqY;\nuniform mediump float ampX;\nuniform mediump float ampY;\nuniform mediump float speedX;\nuniform mediump float speedY;\nvoid main(void)\n{\nmediump float boxLeft = 0.0;\nmediump float boxTop = 0.0;\nmediump float aspect = pixelHeight / pixelWidth;\nmediump vec2 p = vTex;\np.x += (cos((vTex.y - boxTop) * freqX / layerScale / (pixelWidth * 750.0) + (seconds * speedX)) * ampX * pixelWidth * layerScale);\np.y += (sin((vTex.x - boxLeft) * freqY * aspect / layerScale / (pixelHeight * 750.0) + (seconds * speedY)) * ampY * pixelHeight * layerScale);\ngl_FragColor = texture2D(samplerFront, p);\n}",
Te:25,Ue:25,Ff:!1,fc:!1,zf:!0,Y:[["freqX",0,0],["freqY",0,0],["ampX",0,0],["ampY",0,0],["speedX",0,0],["speedY",0,0]]}};function zc(d){this.b=d}
(function(){function d(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function q(a){a=a.toLowerCase();return fa.hasOwnProperty(a)&&fa[a].length?fa[a][0].$c():C.destination}function n(){return C.createGain?C.createGain():C.createGainNode()}function l(a){return C.createDelay?C.createDelay(a):C.createDelayNode(a)}function p(a,b){a.start?a.start(b||0):a.noteOn(b||0)}function u(a,b,c,e){a.start?a.start(e||0,b):a.noteGrainOn(e||0,b,c-b)}function m(a){try{a.stop?a.stop(0):a.noteOff(0)}catch(b){}}
function a(a,b,c,e,f,d){this.type="filter";this.Db=[a,b,c,e,f,d];this.Ca=n();this.ea=n();this.ea.gain.value=d;this.ca=n();this.ca.gain.value=1-d;this.mb=C.createBiquadFilter();this.mb.type="number"===typeof this.mb.type?a:Tc[a];this.mb.frequency.value=b;this.mb.detune&&(this.mb.detune.value=c);this.mb.Q.value=e;this.mb.gain.value=f;this.Ca.connect(this.mb);this.Ca.connect(this.ca);this.mb.connect(this.ea)}function c(a,b,c){this.type="delay";this.Db=[a,b,c];this.Ca=n();this.ea=n();this.ea.gain.value=
c;this.ca=n();this.ca.gain.value=1-c;this.zj=n();this.td=l(a);this.td.delayTime.value=a;this.Yk=n();this.Yk.gain.value=b;this.Ca.connect(this.zj);this.Ca.connect(this.ca);this.zj.connect(this.ea);this.zj.connect(this.td);this.td.connect(this.Yk);this.Yk.connect(this.zj)}function f(a,b,c,e){this.type="convolve";this.Db=[b,c,e];this.Ca=n();this.ea=n();this.ea.gain.value=c;this.ca=n();this.ca.gain.value=1-c;this.rg=C.createConvolver();a&&(this.rg.normalize=b,this.rg.buffer=a);this.Ca.connect(this.rg);
this.Ca.connect(this.ca);this.rg.connect(this.ea)}function e(a,b,c,e,f){this.type="flanger";this.Db=[a,b,c,e,f];this.Ca=n();this.ca=n();this.ca.gain.value=1-f/2;this.ea=n();this.ea.gain.value=f/2;this.gl=n();this.gl.gain.value=e;this.td=l(a+b);this.td.delayTime.value=a;this.Ob=C.createOscillator();this.Ob.frequency.value=c;this.Vc=n();this.Vc.gain.value=b;this.Ca.connect(this.td);this.Ca.connect(this.ca);this.td.connect(this.ea);this.td.connect(this.gl);this.gl.connect(this.td);this.Ob.connect(this.Vc);
this.Vc.connect(this.td.delayTime);p(this.Ob)}function b(a,b,c,e,f,d){this.type="phaser";this.Db=[a,b,c,e,f,d];this.Ca=n();this.ca=n();this.ca.gain.value=1-d/2;this.ea=n();this.ea.gain.value=d/2;this.mb=C.createBiquadFilter();this.mb.type="number"===typeof this.mb.type?7:"allpass";this.mb.frequency.value=a;this.mb.detune&&(this.mb.detune.value=b);this.mb.Q.value=c;this.Ob=C.createOscillator();this.Ob.frequency.value=f;this.Vc=n();this.Vc.gain.value=e;this.Ca.connect(this.mb);this.Ca.connect(this.ca);
this.mb.connect(this.ea);this.Ob.connect(this.Vc);this.Vc.connect(this.mb.frequency);p(this.Ob)}function h(a){this.type="gain";this.Db=[a];this.Fa=n();this.Fa.gain.value=a}function g(a,b){this.type="tremolo";this.Db=[a,b];this.Fa=n();this.Fa.gain.value=1-b/2;this.Ob=C.createOscillator();this.Ob.frequency.value=a;this.Vc=n();this.Vc.gain.value=b/2;this.Ob.connect(this.Vc);this.Vc.connect(this.Fa.gain);p(this.Ob)}function H(a,b){this.type="ringmod";this.Db=[a,b];this.Ca=n();this.ea=n();this.ea.gain.value=
b;this.ca=n();this.ca.gain.value=1-b;this.Uj=n();this.Uj.gain.value=0;this.Ob=C.createOscillator();this.Ob.frequency.value=a;this.Ob.connect(this.Uj.gain);p(this.Ob);this.Ca.connect(this.Uj);this.Ca.connect(this.ca);this.Uj.connect(this.ea)}function F(a,b,c,e,f){this.type="distortion";this.Db=[a,b,c,e,f];this.Ca=n();this.fm=n();this.em=n();this.BB(c,Math.pow(10,e/20));this.ea=n();this.ea.gain.value=f;this.ca=n();this.ca.gain.value=1-f;this.Ym=C.createWaveShaper();this.Wk=new Float32Array(65536);this.nz(a,
b);this.Ym.Wk=this.Wk;this.Ca.connect(this.fm);this.Ca.connect(this.ca);this.fm.connect(this.Ym);this.Ym.connect(this.em);this.em.connect(this.ea)}function t(a,b,c,e,f){this.type="compressor";this.Db=[a,b,c,e,f];this.Fa=C.createDynamicsCompressor();try{this.Fa.threshold.value=a,this.Fa.knee.value=b,this.Fa.ratio.value=c,this.Fa.attack.value=e,this.Fa.release.value=f}catch(d){}}function k(a,b){this.type="analyser";this.Db=[a,b];this.Fa=C.createAnalyser();this.Fa.fftSize=a;this.Fa.smoothingTimeConstant=
b;this.kz=new Float32Array(this.Fa.frequencyBinCount);this.hu=new Uint8Array(a);this.Hj=0}function r(){this.Da=null;this.Ql=0}function A(a,b){this.src=a;this.ua=P;this.ud=b;this.yk=!1;var c=this;this.gp=this.vp=null;this.$h=[];this.tm=0;this.vq=this.fl=this.nu=this.Zl=!1;1===P&&b&&!eb&&(this.ua=0,this.vp=n());this.Ne=this.Ia=null;var e;switch(this.ua){case 0:this.Ia=new Audio;this.Ia.crossOrigin="anonymous";this.Ia.addEventListener("canplaythrough",function(){c.vq=!0});1===P&&C.createMediaElementSource&&
!/wiiu/i.test(navigator.userAgent)&&(this.nu=!0,this.Ia.addEventListener("canplay",function(){c.gp||(c.gp=C.createMediaElementSource(c.Ia),c.gp.connect(c.vp))}));this.Ia.autoplay=!1;this.Ia.PC="auto";this.Ia.src=a;break;case 1:D.$i?D.Or(a,function(a){c.Ne=a;c.Br()},function(){c.fl=!0}):(e=new XMLHttpRequest,e.open("GET",a,!0),e.responseType="arraybuffer",e.onload=function(){c.Ne=e.response;c.Br()},e.onerror=function(){c.fl=!0},e.send());break;case 2:this.Ia=!0;break;case 3:this.Ia=!0}}function y(a,
b){var c=this;this.tag=b;this.sb=this.ve=!0;this.src=a.src;this.buffer=a;this.ua=P;this.ud=a.ud;this.playbackRate=1;this.Ch=!0;this.Sc=this.jd=!1;this.Ic=0;this.bj=this.Jh=this.ye=!1;this.volume=1;this.tp=function(a){if(!c.Sc&&!c.jd){var b=this;b||(b=a.target);b===c.xk&&(c.Ch=!0,c.sb=!0,I=c.tag,D.trigger(zc.prototype.k.rk,E))}};this.xk=null;this.Hh=1===O&&!this.ud||2===O;this.Vh=1;this.startTime=this.Hh?D.Ab.ta:D.rf.ta;this.ob=this.xb=null;this.Ee=!1;this.Sb=null;this.Bt=this.At=this.zt=this.yt=this.Dt=
this.Ct=0;this.A=null;var e=!1;1!==this.ua||0!==this.buffer.ua||this.buffer.nu||(this.ua=0);switch(this.ua){case 0:this.ud?(this.A=a.Ia,e=!a.yk,a.yk=!0):(this.A=new Audio,this.A.crossOrigin="anonymous",this.A.autoplay=!1,this.A.src=a.Ia.src,e=!0);e&&this.A.addEventListener("ended",function(){I=c.tag;c.sb=!0;D.trigger(zc.prototype.k.rk,E)});break;case 1:this.xb=n();this.xb.connect(q(b));1===this.buffer.ua?a.Ia&&(this.A=C.createBufferSource(),this.A.buffer=a.Ia,this.A.connect(this.xb)):(this.A=this.buffer.Ia,
this.buffer.vp.connect(this.xb),this.buffer.yk||(this.buffer.yk=!0,this.buffer.Ia.addEventListener("ended",function(){I=c.tag;c.sb=!0;D.trigger(zc.prototype.k.rk,E)})));break;case 2:this.A=new window.Media(U+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(c.Ch=!0,c.sb=!0,I=c.tag,D.trigger(zc.prototype.k.rk,E))});break;case 3:this.A=!0}}function v(a){M(Ha);if(a.length){var b,c,e;b=0;for(c=z.length;b<c;b++)e=z[b],vb(a,e.tag)&&Ha.push(e)}else w&&!w.Hg()&&(M(Ha),Ha[0]=w)}function V(a,
b){fa.hasOwnProperty(a)?fa[a].push(b):fa[a]=[b];var c,e,f,d,k=C.destination;if(fa.hasOwnProperty(a)&&(f=fa[a],f.length))for(k=f[0].$c(),c=0,e=f.length;c<e;c++)d=f[c],c+1===e?d.qd(C.destination):d.qd(f[c+1].$c());v(a);c=0;for(e=Ha.length;c<e;c++)Ha[c].lB(k);ga&&Ua===a&&(ga.disconnect(),ga.connect(k))}function B(){}function W(){}var J=zc.prototype;J.R=function(a){this.wa=a;this.b=a.b};J.R.prototype.I=function(){};var D=null,E=null,I="",U="",P=0,C=null,X=[],z=[],w=null,G=!1,O=0,Q=!1,K=1,L=0,S=0,ea=!1,
N=1,na=1,ja=10,Ba=1E4,Mc=1,ga=null,Ua="",Ja=!1,fb=[],eb=!1,fa={},Tc="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");a.prototype.qd=function(a){this.ea.disconnect();this.ea.connect(a);this.ca.disconnect();this.ca.connect(a)};a.prototype.remove=function(){this.Ca.disconnect();this.mb.disconnect();this.ea.disconnect();this.ca.disconnect()};a.prototype.$c=function(){return this.Ca};c.prototype.qd=function(a){this.ea.disconnect();this.ea.connect(a);this.ca.disconnect();
this.ca.connect(a)};c.prototype.remove=function(){this.Ca.disconnect();this.zj.disconnect();this.td.disconnect();this.Yk.disconnect();this.ea.disconnect();this.ca.disconnect()};c.prototype.$c=function(){return this.Ca};f.prototype.qd=function(a){this.ea.disconnect();this.ea.connect(a);this.ca.disconnect();this.ca.connect(a)};f.prototype.remove=function(){this.Ca.disconnect();this.rg.disconnect();this.ea.disconnect();this.ca.disconnect()};f.prototype.$c=function(){return this.Ca};e.prototype.qd=function(a){this.ca.disconnect();
this.ca.connect(a);this.ea.disconnect();this.ea.connect(a)};e.prototype.remove=function(){this.Ca.disconnect();this.td.disconnect();this.Ob.disconnect();this.Vc.disconnect();this.ca.disconnect();this.ea.disconnect();this.gl.disconnect()};e.prototype.$c=function(){return this.Ca};b.prototype.qd=function(a){this.ca.disconnect();this.ca.connect(a);this.ea.disconnect();this.ea.connect(a)};b.prototype.remove=function(){this.Ca.disconnect();this.mb.disconnect();this.Ob.disconnect();this.Vc.disconnect();
this.ca.disconnect();this.ea.disconnect()};b.prototype.$c=function(){return this.Ca};h.prototype.qd=function(a){this.Fa.disconnect();this.Fa.connect(a)};h.prototype.remove=function(){this.Fa.disconnect()};h.prototype.$c=function(){return this.Fa};g.prototype.qd=function(a){this.Fa.disconnect();this.Fa.connect(a)};g.prototype.remove=function(){this.Ob.disconnect();this.Vc.disconnect();this.Fa.disconnect()};g.prototype.$c=function(){return this.Fa};H.prototype.qd=function(a){this.ea.disconnect();this.ea.connect(a);
this.ca.disconnect();this.ca.connect(a)};H.prototype.remove=function(){this.Ob.disconnect();this.Uj.disconnect();this.Ca.disconnect();this.ea.disconnect();this.ca.disconnect()};H.prototype.$c=function(){return this.Ca};F.prototype.BB=function(a,b){.01>a&&(a=.01);this.fm.gain.value=a;this.em.gain.value=Math.pow(1/a,.6)*b};F.prototype.shape=function(a,b,c){var e=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+e*(1-Math.exp(-(1/e)*(a-b)));return b*c};F.prototype.nz=function(a,b){for(var c=Math.pow(10,a/20),
e=Math.pow(10,b/20),f=0,d=0;32768>d;++d)f=d/32768,f=this.shape(f,c,e),this.Wk[32768+d]=f,this.Wk[32768-d-1]=-f};F.prototype.qd=function(a){this.ea.disconnect();this.ea.connect(a);this.ca.disconnect();this.ca.connect(a)};F.prototype.remove=function(){this.Ca.disconnect();this.fm.disconnect();this.Ym.disconnect();this.em.disconnect();this.ea.disconnect();this.ca.disconnect()};F.prototype.$c=function(){return this.Ca};t.prototype.qd=function(a){this.Fa.disconnect();this.Fa.connect(a)};t.prototype.remove=
function(){this.Fa.disconnect()};t.prototype.$c=function(){return this.Fa};k.prototype.Ma=function(){this.Fa.getFloatFrequencyData(this.kz);this.Fa.getByteTimeDomainData(this.hu);for(var a=this.Fa.fftSize,b=0,c=this.Hj=0,e=0;b<a;b++)e=(this.hu[b]-128)/128,0>e&&(e=-e),this.Hj<e&&(this.Hj=e),c+=e*e;this.Hj=d(this.Hj);d(Math.sqrt(c/a))};k.prototype.qd=function(a){this.Fa.disconnect();this.Fa.connect(a)};k.prototype.remove=function(){this.Fa.disconnect()};k.prototype.$c=function(){return this.Fa};r.prototype.Vj=
function(a){this.Da=a};r.prototype.wl=function(){return!!this.Da};r.prototype.Ma=function(){};var zb=!1;A.prototype.mB=function(){var a,b,c,e;c=a=0;for(b=z.length;a<b;++a)e=z[a],z[c]=e,e.buffer===this?e.stop():++c;z.length=c;this.Ne=this.Ia=null};A.prototype.Br=function(){if(!this.Ia&&this.Ne){var a=this;if(C.decodeAudioData)C.decodeAudioData(this.Ne,function(b){a.Ia=b;a.Ne=null;var c,e,f;if(ka(a.am)||Q)ka(a.Pk)||(c=a.Pk.rg,c.normalize=a.ot,c.buffer=b);else if(a.$h.length){c=0;for(e=a.$h.length;c<
e;c++){b=a.$h[c];f=new y(a,b.tu);f.Sp(!0);if("undefined"!==typeof b.qt&&(b.Da=D.Ii(b.qt),!b.Da))continue;if(b.Da){var d=Ya(b.Da.x,b.Da.y,-b.Da.p.yb(),L,S,!0),k=Ya(b.Da.x,b.Da.y,-b.Da.p.yb(),L,S,!1);f.Rp(d,k,Oa(b.Da.n-b.Da.p.yb()),b.qo,b.lp,b.qp);f.Vj(b.Da)}else f.Rp(b.x,b.y,b.nd,b.qo,b.lp,b.qp);f.play(a.$o,a.uq,a.tm);a.Zl&&f.pause();z.push(f)}M(a.$h)}else f=new y(a,a.am||""),f.play(a.$o,a.uq,a.tm),a.Zl&&f.pause(),z.push(f)},function(){a.fl=!0});else if(this.Ia=C.createBuffer(this.Ne,!1),this.Ne=null,
ka(this.am)||Q)ka(this.Pk)||(b=this.Pk.rg,b.normalize=this.ot,b.buffer=this.Ia);else{var b=new y(this,this.am);b.play(this.$o,this.uq,this.tm);this.Zl&&b.pause();z.push(b)}}};A.prototype.ws=function(){switch(this.ua){case 0:var a=4<=this.Ia.readyState;a&&(this.vq=!0);return a||this.vq;case 1:return!!this.Ne||!!this.Ia;case 2:return!0;case 3:return!0}return!1};A.prototype.lA=function(){switch(this.ua){case 0:return this.ws();case 1:return!!this.Ia;case 2:return!0;case 3:return!0}return!1};A.prototype.Zz=
function(){switch(this.ua){case 0:return!!this.Ia.error;case 1:return this.fl}return!1};y.prototype.Hg=function(){switch(this.ua){case 0:return this.A.ended;case 1:return 1===this.buffer.ua?!this.ve&&!this.sb&&this.A.loop||this.Sc?!1:this.Ch:this.A.ended;case 2:return this.Ch;case 3:!0}return!0};y.prototype.Jx=function(){return this.ve||this.sb?!0:this.Hg()};y.prototype.Sp=function(a){1===P&&(!this.Ee&&a?this.xb&&(this.ob||(this.ob=C.createPanner(),this.ob.panningModel="number"===typeof this.ob.panningModel?
N:["equalpower","HRTF","soundfield"][N],this.ob.distanceModel="number"===typeof this.ob.distanceModel?na:["linear","inverse","exponential"][na],this.ob.refDistance=ja,this.ob.maxDistance=Ba,this.ob.rolloffFactor=Mc),this.xb.disconnect(),this.xb.connect(this.ob),this.ob.connect(q(this.tag)),this.Ee=!0):this.Ee&&!a&&this.xb&&(this.ob.disconnect(),this.xb.disconnect(),this.xb.connect(q(this.tag)),this.Ee=!1))};y.prototype.Rp=function(a,b,c,e,f,d){this.Ee&&1===P&&(this.ob.setPosition(a,b,0),this.ob.setOrientation(Math.cos(R(c)),
Math.sin(R(c)),0),this.ob.coneInnerAngle=e,this.ob.coneOuterAngle=f,this.ob.coneOuterGain=d,this.Ct=a,this.Dt=b,this.yt=c,this.zt=e,this.At=f,this.Bt=d)};y.prototype.Vj=function(a){this.Ee&&1===P&&(this.Sb||(this.Sb=new r),this.Sb.Vj(a))};y.prototype.Ma=function(a){if(this.Ee&&1===P&&this.Sb&&this.Sb.wl()&&this.Gh()){this.Sb.Ma(a);a=this.Sb.Da;var b=Ya(a.x,a.y,-a.p.yb(),L,S,!0),c=Ya(a.x,a.y,-a.p.yb(),L,S,!1);this.ob.setPosition(b,c,0);b=0;"undefined"!==typeof this.Sb.Da.n&&(b=a.n-a.p.yb(),this.ob.setOrientation(Math.cos(b),
Math.sin(b),0))}};y.prototype.play=function(a,b,c,e){var f=this.A;this.ye=a;this.volume=b;c=c||0;e=e||0;switch(this.ua){case 0:1!==f.playbackRate&&(f.playbackRate=1);f.volume!==b*K&&(f.volume=b*K);f.loop!==a&&(f.loop=a);f.muted&&(f.muted=!1);if(f.currentTime!==c)try{f.currentTime=c}catch(d){}if(this.ud&&Ja&&!D.zb)fb.push(this);else try{this.A.play()}catch(k){console&&console.log&&console.log("[C2] WARNING: exception trying to play audio '"+this.buffer.src+"': ",k)}break;case 1:this.muted=!1;this.Vh=
1;if(1===this.buffer.ua)this.xb.gain.value=b*K,this.ve||(this.A=C.createBufferSource(),this.A.buffer=this.buffer.Ia,this.A.connect(this.xb)),this.A.onended=this.tp,this.xk=this.A,this.A.loop=a,this.Ch=!1,0===c?p(this.A,e):u(this.A,c,this.Cg(),e);else{1!==f.playbackRate&&(f.playbackRate=1);f.loop!==a&&(f.loop=a);f.volume=b*K;if(f.currentTime!==c)try{f.currentTime=c}catch(h){}this.ud&&Ja&&!D.zb?fb.push(this):f.play()}break;case 2:(!this.ve&&this.sb||0!==c)&&f.seekTo(c);f.play();this.Ch=!1;break;case 3:D.sc?
AppMobi.context.playSound(this.src,a):AppMobi.player.playSound(this.src,a)}this.playbackRate=1;this.startTime=(this.Hh?D.Ab.ta:D.rf.ta)-c;this.Sc=this.sb=this.ve=!1};y.prototype.stop=function(){switch(this.ua){case 0:this.A.paused||this.A.pause();break;case 1:1===this.buffer.ua?m(this.A):this.A.paused||this.A.pause();break;case 2:this.A.stop();break;case 3:D.sc&&AppMobi.context.stopSound(this.src)}this.sb=!0;this.Sc=!1};y.prototype.pause=function(){if(!(this.ve||this.sb||this.Hg()||this.Sc)){switch(this.ua){case 0:this.A.paused||
this.A.pause();break;case 1:1===this.buffer.ua?(this.Ic=this.ho(!0),this.ye&&(this.Ic=this.Ic%this.Cg()),this.Sc=!0,m(this.A)):this.A.paused||this.A.pause();break;case 2:this.A.pause();break;case 3:D.sc&&AppMobi.context.stopSound(this.src)}this.Sc=!0}};y.prototype.qB=function(){if(!(this.ve||this.sb||this.Hg())&&this.Sc){switch(this.ua){case 0:this.A.play();break;case 1:1===this.buffer.ua?(this.A=C.createBufferSource(),this.A.buffer=this.buffer.Ia,this.A.connect(this.xb),this.A.onended=this.tp,this.xk=
this.A,this.A.loop=this.ye,this.xb.gain.value=K*this.volume*this.Vh,this.Sm(),this.startTime=(this.Hh?D.Ab.ta:D.rf.ta)-this.Ic/(this.playbackRate||.001),u(this.A,this.Ic,this.Cg())):this.A.play();break;case 2:this.A.play();break;case 3:D.sc&&AppMobi.context.resumeSound(this.src)}this.Sc=!1}};y.prototype.seek=function(a){if(!(this.ve||this.sb||this.Hg()))switch(this.ua){case 0:try{this.A.currentTime=a}catch(b){}break;case 1:if(1===this.buffer.ua)this.Sc?this.Ic=a:(this.pause(),this.Ic=a,this.qB());
else try{this.A.currentTime=a}catch(c){}break;case 3:D.sc&&AppMobi.context.seekSound(this.src,a)}};y.prototype.lB=function(a){1===this.ua&&(this.Ee?(this.ob.disconnect(),this.ob.connect(a)):(this.xb.disconnect(),this.xb.connect(a)))};y.prototype.Cg=function(){var a=0;switch(this.ua){case 0:"undefined"!==typeof this.A.duration&&(a=this.A.duration);break;case 1:a=this.buffer.Ia.duration;break;case 2:a=this.A.getDuration();break;case 3:D.sc&&(a=AppMobi.context.getDurationSound(this.src))}return a};y.prototype.ho=
function(a){var b=this.Cg(),c=0;switch(this.ua){case 0:"undefined"!==typeof this.A.currentTime&&(c=this.A.currentTime);break;case 1:if(1===this.buffer.ua){if(this.Sc)return this.Ic;c=(this.Hh?D.Ab.ta:D.rf.ta)-this.startTime}else"undefined"!==typeof this.A.currentTime&&(c=this.A.currentTime);break;case 3:D.sc&&(c=AppMobi.context.getPlaybackTimeSound(this.src))}a&&(c*=this.playbackRate);!this.ye&&c>b&&(c=b);return c};y.prototype.Gh=function(){return!this.Sc&&!this.ve&&!this.sb&&!this.Hg()};y.prototype.JB=
function(){return!this.ve&&!this.sb&&!this.Hg()};y.prototype.VB=function(){var a=this.volume*K;isFinite(a)||(a=0);switch(this.ua){case 0:"undefined"!==typeof this.A.volume&&this.A.volume!==a&&(this.A.volume=a);break;case 1:1===this.buffer.ua?this.xb.gain.value=a*this.Vh:"undefined"!==typeof this.A.volume&&this.A.volume!==a&&(this.A.volume=a)}};y.prototype.cl=function(a){switch(this.ua){case 0:this.A.muted!==!!a&&(this.A.muted=!!a);break;case 1:1===this.buffer.ua?(this.Vh=a?0:1,this.xb.gain.value=
K*this.volume*this.Vh):this.A.muted!==!!a&&(this.A.muted=!!a)}};y.prototype.CB=function(){this.Jh=!0;this.cl(this.Jh||this.bj)};y.prototype.au=function(a){this.bj=!!a;this.cl(this.Jh||this.bj)};y.prototype.Sm=function(){var a=this.playbackRate;this.Hh&&(a*=D.eh);switch(this.ua){case 0:this.A.playbackRate!==a&&(this.A.playbackRate=a);break;case 1:1===this.buffer.ua?this.A.playbackRate.value!==a&&(this.A.playbackRate.value=a):this.A.playbackRate!==a&&(this.A.playbackRate=a)}};y.prototype.EB=function(a){switch(this.ua){case 0:a?
this.Gh()?(this.jd=!0,this.A.pause()):this.jd=!1:this.jd&&(this.A.play(),this.jd=!1);break;case 1:a?this.Gh()?(this.jd=!0,1===this.buffer.ua?(this.Ic=this.ho(!0),this.ye&&(this.Ic=this.Ic%this.Cg()),m(this.A)):this.A.pause()):this.jd=!1:this.jd&&(1===this.buffer.ua?(this.A=C.createBufferSource(),this.A.buffer=this.buffer.Ia,this.A.connect(this.xb),this.A.onended=this.tp,this.xk=this.A,this.A.loop=this.ye,this.xb.gain.value=K*this.volume*this.Vh,this.Sm(),this.startTime=(this.Hh?D.Ab.ta:D.rf.ta)-this.Ic/
(this.playbackRate||.001),u(this.A,this.Ic,this.Cg())):this.A.play(),this.jd=!1);break;case 2:a?this.Gh()?(this.A.pause(),this.jd=!0):this.jd=!1:this.jd&&(this.jd=!1,this.A.play())}};J.L=function(a){function b(){if(!ea&&C.createBuffer){var a=C.createBuffer(1,220,22050),c=C.createBufferSource();c.buffer=a;c.connect(C.destination);p(c)}}this.type=a;D=this.b=a.b;E=this;this.Tc=null;this.qj=-600;this.b.$i&&(eb=!0);!(this.b.dj||this.b.zl&&(this.b.Vi||this.b.Al))||this.b.Cl||this.b.na||this.b.us||eb||(Ja=
!0);C=null;"undefined"!==typeof AudioContext?(P=1,C=new AudioContext):"undefined"!==typeof webkitAudioContext&&(P=1,C=new webkitAudioContext);this.b.dj&&C&&(C.close&&C.close(),"undefined"!==typeof AudioContext?C=new AudioContext:"undefined"!==typeof webkitAudioContext&&(C=new webkitAudioContext));Ja?document.addEventListener("touchend",function(){!zb&&C&&(b(),zb=!0);var a,c,e;if(Ja){if(!Q)for(a=0,c=fb.length;a<c;++a)e=fb[a],e.sb||e.Sc||e.A.play();M(fb)}},!0):eb&&document.addEventListener("touchend",
function(){!zb&&C&&(b(),zb=!0)},!0);1!==P&&(this.b.We&&"undefined"!==typeof window.Media?P=2:this.b.vs&&(P=3));2===P&&(U=location.href,a=U.lastIndexOf("/"),-1<a&&(U=U.substr(0,a+1)),U=U.replace("file://",""));if(this.b.mA&&this.b.oA&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.b.Id(this);else{if(this.b.sc)G=this.b.zl;else try{G=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')}catch(c){G=
!1}this.b.jg(this)}};var xa=J.L.prototype;xa.I=function(){this.b.mh=this;O=this.q[0];this.hf=this.q[1];this.ZA=0!==this.q[2];this.mt=0;N=this.q[3];na=this.q[4];this.qj=-this.q[5];ja=this.q[6];Ba=this.q[7];Mc=this.q[8];this.Tc=new r;var a=this.b.X||this.b.width,b=this.b.W||this.b.height;1===P&&(C.listener.setPosition(a/2,b/2,this.qj),C.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,b){ga&&ga.disconnect();Ua=b.toLowerCase();ga=C.createMediaStreamSource(a);ga.connect(q(Ua))});
this.b.rn(function(a){E.RA(a)});var c=this;this.b.qn(function(a){c.LA(a)})};xa.LA=function(a){var b,c,e;b=0;for(c=z.length;b<c;b++)e=z[b],e.Sb&&e.Sb.Da===a&&(e.Sb.Da=null,e.Ee&&e.Gh()&&e.ye&&e.stop());this.Tc.Da===a&&(this.Tc.Da=null)};xa.Ua=function(){var a={silent:Q,masterVolume:K,listenerZ:this.qj,listenerUid:this.Tc.wl()?this.Tc.Da.uid:-1,playing:[],effects:{}},b=a.playing,c,e,f,d,k,h;c=0;for(e=z.length;c<e;c++)f=z[c],!f.JB()||3===this.hf||f.ud&&1===this.hf||!f.ud&&2===this.hf||(d=f.ho(),f.ye&&
(d=d%f.Cg()),d={tag:f.tag,buffersrc:f.buffer.src,is_music:f.ud,playbackTime:d,volume:f.volume,looping:f.ye,muted:f.Jh,playbackRate:f.playbackRate,paused:f.Sc,resume_position:f.Ic},f.Ee&&(d.pan={},h=d.pan,f.Sb&&f.Sb.wl()?h.objUid=f.Sb.Da.uid:(h.x=f.Ct,h.y=f.Dt,h.a=f.yt),h.ia=f.zt,h.oa=f.At,h.og=f.Bt),b.push(d));b=a.effects;for(k in fa)if(fa.hasOwnProperty(k)){f=[];c=0;for(e=fa[k].length;c<e;c++)f.push({type:fa[k][c].type,params:fa[k][c].Db});b[k]=f}return a};var gb=[];xa.ab=function(d){var p=d.silent;
K=d.masterVolume;this.qj=d.listenerZ;this.Tc.Vj(null);var m=d.listenerUid;-1!==m&&(this.Tc.Ql=m,gb.push(this.Tc));var m=d.playing,l,v,n,y,u,q,A,C,w,B,J;if(3!==this.hf)for(l=0,v=z.length;l<v;l++)w=z[l],w.ud&&1===this.hf||(w.ud||2!==this.hf)&&w.stop();for(u in fa)if(fa.hasOwnProperty(u))for(l=0,v=fa[u].length;l<v;l++)fa[u][l].remove();db(fa);for(u in d.effects)if(d.effects.hasOwnProperty(u))for(q=d.effects[u],l=0,v=q.length;l<v;l++)switch(n=q[l].type,B=q[l].params,n){case "filter":V(u,new a(B[0],B[1],
B[2],B[3],B[4],B[5]));break;case "delay":V(u,new c(B[0],B[1],B[2]));break;case "convolve":n=B[2];w=this.ol(n,!1);w.Ia?n=new f(w.Ia,B[0],B[1],n):(n=new f(null,B[0],B[1],n),w.ot=B[0],w.Pk=n);V(u,n);break;case "flanger":V(u,new e(B[0],B[1],B[2],B[3],B[4]));break;case "phaser":V(u,new b(B[0],B[1],B[2],B[3],B[4],B[5]));break;case "gain":V(u,new h(B[0]));break;case "tremolo":V(u,new g(B[0],B[1]));break;case "ringmod":V(u,new H(B[0],B[1]));break;case "distortion":V(u,new F(B[0],B[1],B[2],B[3],B[4]));break;
case "compressor":V(u,new t(B[0],B[1],B[2],B[3],B[4]));break;case "analyser":V(u,new k(B[0],B[1]))}l=0;for(v=m.length;l<v;l++)3===this.hf||(d=m[l],n=d.buffersrc,y=d.is_music,u=d.tag,q=d.playbackTime,A=d.looping,C=d.volume,J=(B=d.pan)&&B.hasOwnProperty("objUid")?B.objUid:-1,y&&1===this.hf)||!y&&2===this.hf||((w=this.Wr(n,u,y,A,C))?(w.Ic=d.resume_position,w.Sp(!!B),w.play(A,C,q),w.Sm(),w.VB(),w.cl(w.Jh||w.bj),d.paused&&w.pause(),d.muted&&w.CB(),w.cl(w.Jh||w.bj),B&&(-1!==J?(w.Sb=w.Sb||new r,w.Sb.Ql=
J,gb.push(w.Sb)):w.Rp(B.x,B.y,B.a,B.ia,B.oa,B.og))):(w=this.ol(n,y),w.tm=q,w.Zl=d.paused,B&&(-1!==J?w.$h.push({qt:J,qo:B.ia,lp:B.oa,qp:B.og,tu:u}):w.$h.push({x:B.x,y:B.y,nd:B.a,qo:B.ia,lp:B.oa,qp:B.og,tu:u}))));if(p&&!Q){l=0;for(v=z.length;l<v;l++)z[l].au(!0);Q=!0}else if(!p&&Q){l=0;for(v=z.length;l<v;l++)z[l].au(!1);Q=!1}};xa.ne=function(){var a,b,c,e;a=0;for(b=gb.length;a<b;a++)c=gb[a],e=this.b.Ii(c.Ql),c.Vj(e),c.Ql=-1,e&&(L=e.x,S=e.y);M(gb)};xa.RA=function(a){if(!this.ZA){!a&&C&&C.resume&&(C.resume(),
ea=!1);var b,c;b=0;for(c=z.length;b<c;b++)z[b].EB(a);a&&C&&C.suspend&&(C.suspend(),ea=!0)}};xa.Ma=function(){var a=this.b.vg,b,c,e;b=0;for(c=z.length;b<c;b++)e=z[b],e.Ma(a),0!==O&&e.Sm();var f,d;for(f in fa)if(fa.hasOwnProperty(f))for(e=fa[f],b=0,c=e.length;b<c;b++)d=e[b],d.Ma&&d.Ma();1===P&&this.Tc.wl()&&(this.Tc.Ma(a),L=this.Tc.Da.x,S=this.Tc.Da.y,C.listener.setPosition(this.Tc.Da.x,this.Tc.Da.y,this.qj))};var hb=[];xa.DB=function(a){var b,c,e,f,d,k=0;b=0;for(c=a.length;b<c;++b)if(e=a[b],f=e[0],
e=2*e[1],(d=4<f.length&&".ogg"===f.substr(f.length-4))&&G||!d&&!G)hb.push({filename:f,size:e,Da:null}),k+=e;return k};xa.MB=function(){var a,b,c,e;a=0;for(b=hb.length;a<b;++a)c=hb[a],e=this.b.Vn+c.filename,c.Da=this.ol(e,!1)};xa.Cz=function(){var a=0,b,c,e;b=0;for(c=hb.length;b<c;++b)e=hb[b],e.Da.lA()||e.Da.Zz()||this.b.na||this.b.Al?a+=e.size:e.Da.ws()&&(a+=Math.floor(e.size/2));return a};xa.nB=function(){var a,b,c,e;c=a=0;for(b=X.length;a<b;++a)e=X[a],X[c]=e,e.ud?e.mB():++c;X.length=c};xa.ol=function(a,
b){var c,e,f,d=null;c=0;for(e=X.length;c<e;c++)if(f=X[c],f.src===a){d=f;break}d||(eb&&b&&this.nB(),d=new A(a,b),X.push(d));return d};xa.Wr=function(a,b,c,e,f){var d,k,h;d=0;for(k=z.length;d<k;d++)if(h=z[d],h.src===a&&(h.Jx()||c))return h.tag=b,h;a=this.ol(a,c);if(!a.Ia)return"<preload>"!==b&&(a.am=b,a.$o=e,a.uq=f),null;h=new y(a,b);z.push(h);return h};var Ha=[];B.prototype.rk=function(a){return vb(I,a)};B.prototype.Fv=function(a){v(a);var b;a=0;for(b=Ha.length;a<b;a++)if(Ha[a].Gh())return!0;return!1};
J.k=new B;W.prototype.Play=function(a,b,c,e){!Q&&(c=Math.pow(10,c/20),isFinite(c)||(c=0),0>c&&(c=0),1<c&&(c=1),w=this.Wr(this.b.Vn+a[0]+(G?".ogg":".m4a"),e,a[1],0!==b,c))&&(w.Sp(!1),w.play(0!==b,c,0,this.mt),this.mt=0)};W.prototype.kh=function(a){v(a);var b;a=0;for(b=Ha.length;a<b;a++)Ha[a].stop()};J.u=new W;J.J=new function(){}})();function Ac(d){this.b=d}
(function(){function d(){p&&u&&window.OfflineClientInfo&&window.OfflineClientInfo.SetMessageCallback(function(a){m.PA(a)})}function q(){}var n=Ac.prototype;n.R=function(a){this.wa=a;this.b=a.b};var l=n.R.prototype;l.I=function(){};var p=!1,u=!1;document.addEventListener("DOMContentLoaded",function(){if(window.C2_RegisterSW&&navigator.nh){var a=document.createElement("script");a.onload=function(){p=!0;d()};a.src="offlineClient.js";document.head.appendChild(a)}});var m=null;l.wt=function(){u=!0;d()};
n.L=function(a){this.type=a;this.b=a.b};l=n.L.prototype;l.I=function(){var a=this;window.addEventListener("resize",function(){a.b.trigger(Ac.prototype.k.hw,a)});m=this;"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){a.b.trigger(Ac.prototype.k.cw,a)}),window.addEventListener("offline",function(){a.b.trigger(Ac.prototype.k.aw,a)}));"undefined"!==typeof window.applicationCache&&(window.applicationCache.addEventListener("updateready",function(){a.b.Rh=1;a.b.trigger(Ac.prototype.k.uk,
a)}),window.applicationCache.addEventListener("progress",function(c){a.b.Rh=c.loaded/c.total||0}));this.b.sc||(document.addEventListener("appMobi.device.update.available",function(){a.b.trigger(Ac.prototype.k.uk,a)}),document.addEventListener("backbutton",function(){a.b.trigger(Ac.prototype.k.pk,a)}),document.addEventListener("menubutton",function(){a.b.trigger(Ac.prototype.k.Lq,a)}),document.addEventListener("searchbutton",function(){a.b.trigger(Ac.prototype.k.jw,a)}),document.addEventListener("tizenhwkey",
function(c){var f;switch(c.keyName){case "back":f=a.b.trigger(Ac.prototype.k.pk,a);!f&&window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(f=a.b.trigger(Ac.prototype.k.Lq,a))||c.preventDefault()}}));this.b.Fo&&"undefined"!==typeof Windows?Windows.UI.Core.SystemNavigationManager.getForCurrentView().addEventListener("backrequested",function(c){a.b.trigger(Ac.prototype.k.pk,a)&&(c.handled=!0)}):this.b.zs&&WinJS.Application&&(WinJS.Application.onbackclick=function(){return!!a.b.trigger(Ac.prototype.k.pk,
a)});this.b.rn(function(c){c?a.b.trigger(Ac.prototype.k.dw,a):a.b.trigger(Ac.prototype.k.ew,a)})};l.PA=function(a){a=a.data.type;"downloading-update"===a?this.b.trigger(Ac.prototype.k.rw,this):"update-ready"===a||"update-pending"===a?this.b.trigger(Ac.prototype.k.uk,this):"offline-ready"===a&&this.b.trigger(Ac.prototype.k.bw,this)};q.prototype.cw=function(){return!0};q.prototype.aw=function(){return!0};q.prototype.uk=function(){return!0};q.prototype.ew=function(){return!0};q.prototype.dw=function(){return!0};
q.prototype.hw=function(){return!0};q.prototype.pk=function(){return!0};q.prototype.Lq=function(){return!0};q.prototype.jw=function(){return!0};q.prototype.rw=function(){return!0};q.prototype.uk=function(){return!0};q.prototype.bw=function(){return!0};n.k=new q;n.u=new function(){};n.J=new function(){}})();function Bc(d){this.b=d}
(function(){function d(){}function q(){}var n=Bc.prototype;n.R=function(d){this.wa=d;this.b=d.b};n.R.prototype.I=function(){};n.L=function(d){this.type=d;this.b=d.b};var l=n.L.prototype;l.I=function(){this.b.na?ha("[Construct 2] Button plugin not supported on this platform - the object will not be created"):(this.Eh=1===this.q[0],this.Rc=document.createElement("input"),this.B=this.Eh?document.createElement("label"):this.Rc,this.gj=null,this.Rc.type=this.Eh?"checkbox":"button",this.Rc.id=this.q[6],
jQuery(this.B).appendTo(this.b.oh?this.b.oh:"body"),this.Eh?(jQuery(this.Rc).appendTo(this.B),this.gj=document.createTextNode(this.q[1]),jQuery(this.B).append(this.gj),this.Rc.checked=0!==this.q[7],jQuery(this.B).css("font-family","sans-serif"),jQuery(this.B).css("display","inline-block"),jQuery(this.B).css("color","black")):this.Rc.value=this.q[1],this.B.title=this.q[2],this.Rc.disabled=0===this.q[4],this.vn=0!==this.q[5],this.zc=!1,0===this.q[3]&&(jQuery(this.B).hide(),this.visible=!1,this.zc=!0),
this.Rc.onclick=function(d){return function(l){l.stopPropagation();d.b.zb=!0;d.b.trigger(Bc.prototype.k.qk,d);d.b.zb=!1}}(this),this.B.addEventListener("touchstart",function(d){d.stopPropagation()},!1),this.B.addEventListener("touchmove",function(d){d.stopPropagation()},!1),this.B.addEventListener("touchend",function(d){d.stopPropagation()},!1),jQuery(this.B).mousedown(function(d){d.stopPropagation()}),jQuery(this.B).mouseup(function(d){d.stopPropagation()}),jQuery(this.B).keydown(function(d){d.stopPropagation()}),
jQuery(this.B).keyup(function(d){d.stopPropagation()}),this.mj=this.nj=this.hj=this.kj=this.lj=this.ij=0,this.fk(!0),this.b.jg(this))};l.Ua=function(){var d={tooltip:this.B.title,disabled:!!this.Rc.disabled};this.Eh?(d.checked=!!this.Rc.checked,d.text=this.gj.nodeValue):d.text=this.B.value;return d};l.ab=function(d){this.B.title=d.tooltip;this.Rc.disabled=d.disabled;this.Eh?(this.Rc.checked=d.checked,this.gj.nodeValue=d.text):this.B.value=d.text};l.xd=function(){this.b.na||(jQuery(this.B).remove(),
this.B=null)};l.Ma=function(){this.fk()};l.fk=function(d){if(!this.b.na){var l=this.p.Ja(this.x,this.y,!0),m=this.p.Ja(this.x,this.y,!1),a=this.p.Ja(this.x+this.width,this.y+this.height,!0),c=this.p.Ja(this.x+this.width,this.y+this.height,!1),f=this.b.width/this.b.devicePixelRatio,e=this.b.height/this.b.devicePixelRatio;!this.visible||!this.p.visible||0>=a||0>=c||l>=f||m>=e?(this.zc||jQuery(this.B).hide(),this.zc=!0):(1>l&&(l=1),1>m&&(m=1),a>=f&&(a=f-1),c>=e&&(c=e-1),f=window.innerWidth,e=window.innerHeight,
d||this.ij!==l||this.lj!==m||this.kj!==a||this.hj!==c||this.nj!==f||this.mj!==e?(this.ij=l,this.lj=m,this.kj=a,this.hj=c,this.nj=f,this.mj=e,this.zc&&(jQuery(this.B).show(),this.zc=!1),d=Math.round(l)+jQuery(this.b.canvas).offset().left,f=Math.round(m)+jQuery(this.b.canvas).offset().top,jQuery(this.B).css("position","absolute"),jQuery(this.B).offset({left:d,top:f}),jQuery(this.B).width(Math.round(a-l)),jQuery(this.B).height(Math.round(c-m)),this.vn&&jQuery(this.B).css("font-size",this.p.rc(!0)/this.b.devicePixelRatio-
.2+"em")):this.zc&&(jQuery(this.B).show(),this.zc=!1))}};l.Qc=function(){};l.Jb=function(){};d.prototype.qk=function(){return!0};n.k=new d;q.prototype.kn=function(d){this.b.na||(this.Eh?this.gj.nodeValue=d:this.B.value=d)};q.prototype.ln=function(d){this.b.na||(this.visible=0!==d)};q.prototype.le=function(d){this.b.na||(this.Rc.disabled=0===d)};q.prototype.Vq=function(){this.b.na||this.Rc.focus()};q.prototype.hn=function(d,l){this.b.na||jQuery(this.B).css(d,l)};n.u=new q;n.J=new function(){}})();
function yc(d){this.b=d}
(function(){function d(){this.name="";this.Rj=0;this.Db=[]}function q(){a++;a===m.length&&m.push(new d);return m[a]}function n(){}function l(){}function p(){}var u=yc.prototype;u.R=function(a){this.wa=a;this.b=a.b};u.R.prototype.I=function(){};u.L=function(a){this.type=a;this.b=a.b};var m=[],a=-1;u.L.prototype.I=function(){var c=this;window.c2_callFunction=function(f,e){var b,d,g,m=q();m.name=f.toLowerCase();m.Rj=0;if(e)for(m.Db.length=e.length,b=0,d=e.length;b<d;++b)g=e[b],m.Db[b]="number"===typeof g||
"string"===typeof g?g:"boolean"===typeof g?g?1:0:0;else M(m.Db);c.b.trigger(yc.prototype.k.sk,c,m.name);a--;return m.Rj}};n.prototype.sk=function(c){var f=0>a?null:m[a];return f?vb(c,f.name):!1};u.k=new n;l.prototype.CallFunction=function(c,f){var e=q();e.name=c.toLowerCase();e.Rj=0;Ia(e.Db,f);this.b.trigger(yc.prototype.k.sk,this,e.name);a--};u.u=new l;p.prototype.uw=function(c,f){f=x(f);var e=0>a?null:m[a];e?0<=f&&f<e.Db.length?c.Up(e.Db[f]):c.Ga(0):c.Ga(0)};p.prototype.Yu=function(c,f){var e=q();
e.name=f.toLowerCase();e.Rj=0;M(e.Db);var b,d;b=2;for(d=arguments.length;b<d;b++)e.Db.push(arguments[b]);this.b.trigger(yc.prototype.k.sk,this,e.name);a--;c.Up(e.Rj)};u.J=new p})();function Cc(d){this.b=d}
(function(){function d(){}var q=Cc.prototype;q.R=function(d){this.wa=d;this.b=d.b};q.R.prototype.I=function(){};q.L=function(d){this.type=d;this.b=d.b;this.Mh=Array(256);this.hk=Array(256);this.qf=0};var n=q.L.prototype;n.I=function(){var d=this;this.b.na||(jQuery(document).keydown(function(l){d.rp(l)}),jQuery(document).keyup(function(l){d.sp(l)}))};var l=[32,33,34,35,36,37,38,39,40,44];n.rp=function(d){var n=!1;window!=window.top&&-1<l.indexOf(d.which)&&(d.preventDefault(),n=!0,d.stopPropagation());
if(this.Mh[d.which])this.hk[d.which]&&!n&&d.preventDefault();else{this.Mh[d.which]=!0;this.qf=d.which;this.b.zb=!0;this.b.trigger(Cc.prototype.k.Pv,this);var m=this.b.trigger(Cc.prototype.k.Gq,this),a=this.b.trigger(Cc.prototype.k.Yv,this);this.b.zb=!1;if(m||a)this.hk[d.which]=!0,n||d.preventDefault()}};n.sp=function(d){this.Mh[d.which]=!1;this.qf=d.which;this.b.zb=!0;this.b.trigger(Cc.prototype.k.Cq,this);var l=this.b.trigger(Cc.prototype.k.Iq,this),m=this.b.trigger(Cc.prototype.k.Hq,this);this.b.zb=
!1;if(l||m||this.hk[d.which])this.hk[d.which]=!0,d.preventDefault()};n.$f=function(){var d;for(d=0;256>d;++d)if(this.Mh[d]){this.Mh[d]=!1;this.qf=d;this.b.trigger(Cc.prototype.k.Cq,this);var l=this.b.trigger(Cc.prototype.k.Iq,this),m=this.b.trigger(Cc.prototype.k.Hq,this);if(l||m)this.hk[d]=!0}};n.Ua=function(){return{triggerKey:this.qf}};n.ab=function(d){this.qf=d.triggerKey};d.prototype.Bv=function(d){return this.Mh[d]};d.prototype.Gq=function(d){return d===this.qf};d.prototype.Pv=function(){return!0};
d.prototype.Cq=function(){return!0};d.prototype.Iq=function(d){return d===this.qf};d.prototype.Yv=function(d){return d===this.qf};d.prototype.Hq=function(d){return d===this.qf};q.k=new d;q.u=new function(){};q.J=new function(){}})();function Dc(d){this.b=d}
(function(){function d(){}function q(){}function n(){}var l=Dc.prototype;l.R=function(a){this.wa=a;this.b=a.b};l.R.prototype.I=function(){};l.L=function(a){this.type=a;this.b=a.b;this.ng=Array(4);this.Au=this.Nm=this.fh=this.Yf=this.Xf=0;this.no=!1};var p=l.L.prototype;p.I=function(){var a=this;if(!this.b.na){jQuery(document).mousemove(function(c){a.NA(c)});jQuery(document).mousedown(function(c){a.MA(c)});jQuery(document).mouseup(function(c){a.OA(c)});jQuery(document).dblclick(function(c){a.KA(c)});
var c=function(c){a.SA(c)};document.addEventListener("mousewheel",c,!1);document.addEventListener("DOMMouseScroll",c,!1)}};var u={left:0,top:0};p.NA=function(a){var c=this.b.na?u:jQuery(this.b.canvas).offset();this.Xf=a.pageX-c.left;this.Yf=a.pageY-c.top};p.ht=function(){return 0<this.b.Ac?!0:0<=this.Xf&&0<=this.Yf&&this.Xf<this.b.width&&this.Yf<this.b.height};p.MA=function(a){this.ht()&&(this.ng[a.which]=!0,this.b.zb=!0,this.b.trigger(Dc.prototype.k.Ov,this),this.fh=a.which-1,this.Nm=0,this.b.trigger(Dc.prototype.k.Eq,
this),this.b.trigger(Dc.prototype.k.Mq,this),this.b.zb=!1)};p.OA=function(a){this.ng[a.which]&&(this.b.hs&&!this.b.Nf&&a.preventDefault(),this.b.hs=!0,this.ng[a.which]=!1,this.b.zb=!0,this.fh=a.which-1,this.b.trigger(Dc.prototype.k.Pq,this),this.b.zb=!1)};p.KA=function(a){this.ht()&&(a.preventDefault(),this.b.zb=!0,this.fh=a.which-1,this.Nm=1,this.b.trigger(Dc.prototype.k.Eq,this),this.b.trigger(Dc.prototype.k.Mq,this),this.b.zb=!1)};p.SA=function(a){this.Au=0>(a.wheelDelta?a.wheelDelta:a.detail?
-a.detail:0)?0:1;this.no=!1;this.b.zb=!0;this.b.trigger(Dc.prototype.k.sw,this);this.b.zb=!1;this.no&&wb(a)&&a.preventDefault()};p.$f=function(){var a,c;a=0;for(c=this.ng.length;a<c;++a)this.ng[a]&&(this.ng[a]=!1,this.fh=a-1,this.b.trigger(Dc.prototype.k.Pq,this))};d.prototype.Eq=function(a,c){return a===this.fh&&c===this.Nm};d.prototype.Ov=function(){return!0};d.prototype.xv=function(a){return this.ng[a+1]};d.prototype.Pq=function(a){return a===this.fh};d.prototype.Mq=function(a,c,f){return a!==
this.fh||c!==this.Nm?!1:this.b.PB(f,this.Xf,this.Yf)};d.prototype.sw=function(a){this.no=!0;return a===this.Au};l.k=new d;var m=null;q.prototype.Iw=function(a){this.b.na||(a="auto pointer text crosshair move help wait none".split(" ")[a],m!==a&&(m=a,document.body.style.cursor=a))};l.u=new q;n.prototype.nn=function(a,c){var f,e,b,d,g;ka(c)?(f=this.b.Hi(0),e=f.scale,b=f.ke,d=f.zd,g=f.n,f.scale=1,f.ke=1,f.zd=1,f.n=0,a.N(f.nc(this.Xf,this.Yf,!0)),f.scale=e,f.ke=b,f.zd=d,f.n=g):(f=la(c)?this.b.Hi(c):this.b.fo(c))?
a.N(f.nc(this.Xf,this.Yf,!0)):a.N(0)};n.prototype.pn=function(a,c){var f,e,b,d,g;ka(c)?(f=this.b.Hi(0),e=f.scale,b=f.ke,d=f.Ad,g=f.n,f.scale=1,f.ke=1,f.Ad=1,f.n=0,a.N(f.nc(this.Xf,this.Yf,!1)),f.scale=e,f.ke=b,f.Ad=d,f.n=g):(f=la(c)?this.b.Hi(c):this.b.fo(c))?a.N(f.nc(this.Xf,this.Yf,!1)):a.N(0)};l.J=new n})();function Z(d){this.b=d}
(function(){function d(a){this.i=a;this.history=[]}function q(a){this.HA=a;this.n=this.y=this.x=this.timestamp=0;this.Pf=[]}function n(a,c,e,f){a=c-a;if(0===a)return 0;c=qa(a);if(c<=qa(e/10)||1>c||1E3<=c)return a;var d=c/50;f&&(d=ra(d,1));f=qa(e/5);10<=c&&(d=c/10,f=qa(e/2));e=ra(d,f);e>c&&(e=c);return 0<a?e:-e}function l(){}function p(){}function u(){}var m=Z.prototype;m.R=function(a){this.wa=a;this.b=a.b};m.R.prototype.I=function(){};m.L=function(a){this.type=a;this.b=a.b};var a=m.L.prototype,c=
!1;a.I=function(){this.D=null;(c=window.C2Multiplayer_IsSupported())&&"undefined"!==typeof window.C2Multiplayer&&(this.D=new window.C2Multiplayer);this.DA=this.it=this.jt=this.CA=this.vA=this.$l=this.Ij=this.ju="";this.Pm={};this.Ri={};this.Fe={};this.ni=this.tB=this.mz=null;this.Dh=[];this.lg=[];this.De={};var a=this;c&&(this.D.onserverlist=function(){a.b.trigger(Z.prototype.k.kw,a)},this.D.onsignallingerror=function(){a.b.trigger(Z.prototype.k.mw,a)},this.D.onsignallingclose=function(){a.b.trigger(Z.prototype.k.lw,
a);a.ju=""},this.D.onsignallingwelcome=function(){a.b.trigger(Z.prototype.k.Rq,a)},this.D.onsignallinglogin=function(){a.b.trigger(Z.prototype.k.Tq,a)},this.D.onsignallingjoin=function(c){a.Ri={};a.Fe={};a.lg.length=0;a.Dh.length=0;a.De={};a.b.trigger(Z.prototype.k.Sq,a);a.b.Mg&&c&&a.ni.postMessage("start")},this.D.onsignallingleave=function(){a.b.trigger(Z.prototype.k.pw,a)},this.D.onsignallingkicked=function(){a.b.trigger(Z.prototype.k.ow,a)},this.D.onbeforeclientupdate=function(){a.b.trigger(Z.prototype.k.Fq,
a)},this.D.onpeeropen=function(c){a.Ij=c.id;a.$l=c.alias;a.b.trigger(Z.prototype.k.Oq,a)},this.D.onpeerclose=function(c,e){a.Ij=c.id;a.$l=c.alias;a.vA=e||"unknown";var f=a.Vr(c);if(f){var d=a.Pm[f.type];d&&d.removeObjectNid(c.nid);a.b.Id(f)}a.Fe.hasOwnProperty(c.id)&&delete a.Fe[c.id];a.b.trigger(Z.prototype.k.fw,a)},this.D.onpeermessage=function(c,e){a.jt=e.t;a.it=e.f?e.f:c.id;a.DA=a.D.getAliasFromId(a.it);a.CA=e.m;a.b.trigger(Z.prototype.k.Qv,a);a.b.trigger(Z.prototype.k.gw,a)},this.D.onsignallinginstancelist=
function(c){a.mz=c;a.b.trigger(Z.prototype.k.Wv,a)},this.D.onsignallingroomlist=function(c){a.tB=c;a.b.trigger(Z.prototype.k.iw,a)},this.D.ongetobjectcount=function(a){return a.j.length},this.D.ongetobjectvalue=function(c,e,f){if(!f)return c.j[e].uid;c=c.j[e];switch(f.tag){case "x":return c.x;case "y":return c.y;case "a":return c.n;case "iv":if(f.clientvaluetag&&(e=a.Ri[c.uid])&&a.D.me!==e&&!e.wasRemoved&&e.hasClientState(f.clientvaluetag))return e.getInterpClientState(f.clientvaluetag);f=c.Oa[f.userdata];
return"number"===typeof f?f:0;default:return 0}},this.D.oninstancedestroyed=function(c,e,f){var d=c.userdata;c=d.wo;d.Ln||(d.Ln={});d.Ln[e]=f;c&&c.hasOwnProperty(e)&&((f=c[e])&&a.b.Id(f),delete c[e])},this.b.qn(function(c){var e,f=c.uid;a.Ri.hasOwnProperty(f)&&delete a.Ri[f];for(e in a.Fe)if(a.Fe.hasOwnProperty(e)&&a.Fe[e]===c){delete a.Fe[e];break}a.De.hasOwnProperty(f)&&delete a.De[f];e=a.Dh.indexOf(c);-1<e&&a.Dh.splice(e,1);e=a.lg.indexOf(c);-1<e&&a.lg.splice(e,1);a.D.removeObjectId(f)}),this.ni=
new Worker("waker.js"),this.ni.addEventListener("message",function(c){"tick"===c.data&&a.b.Mg&&a.b.Ma(!0)},!1),this.ni.postMessage(""));this.b.rn(function(e){c&&a.D.isHost()&&(e?a.ni.postMessage("start"):a.ni.postMessage("stop"))});this.b.hB(this)};a.Vr=function(a){a=a.id;return this.Fe.hasOwnProperty(a)?this.Fe[a]:null};a.kA=function(a){return 0<=this.Dh.indexOf(a)};a.gB=function(){if(c){this.D.tick(this.b.If);this.SB();var a,e,f;if(this.D.isInRoom()&&!this.D.isHost())for(a=0,e=this.D.registeredObjects.length;a<
e;++a)f=this.D.registeredObjects[a],this.UB(f)}};var f=[];a.UB=function(a){a.tick();var c=a.obj,e=a.getCount(),d=a.netvalues,m=a.userdata;m.wo||(m.wo={});var t=m.wo,m=m.Ln,k=a.simTime,r,l,n,p,u,q,W,J=d.length;for(r in t)t.hasOwnProperty(r)&&(p=t[r],this.b.Ii(p.uid)||delete t[r]);if(m)for(r in m)m.hasOwnProperty(r)&&m[r]<k-3E3&&delete m[r];for(r=0;r<e;++r)if(l=a.getNetInstAt(r),n=l.nid,m&&m[n]>=k-3E3)f.push(l),t.hasOwnProperty(n)&&(this.b.Id(t[n]),delete t[n]);else{if(t.hasOwnProperty(n))p=t[n],W=
!1;else{if(p=this.D.getPeerByNid(n))this.Ij=p.id,this.$l=p.alias;else{if(a.hasOverriddenNids)continue;this.$l=this.Ij=""}p=this.b.Rk(c,this.b.pa.ja[c.Cr],-1E3,-1E3);t[n]=p;W=!0}if(l.isTimedOut(k))f.push(l),t.hasOwnProperty(n)&&delete t[n],this.b.Id(p);else{if(this.kA(p))this.Px(p,l,d,k);else for(q=0;q<J;++q)switch(n=l.getInterp(k,q),u=d[q],u.tag){case "x":p.x=n;p.G();break;case "y":p.y=n;p.G();break;case "a":p.n=n;p.G();break;case "iv":u=u.userdata;if(u>p.Oa.length||"number"!==typeof p.Oa[u])break;
p.Oa[u]=n}W&&this.b.trigger(Object.getPrototypeOf(c.wa).k.uf,p)}}r=0;for(e=f.length;r<e;++r)a.removeNetInstance(f[r]);f.length=0};a.SB=function(){var a=this.D.getHostInputArrivalTime(),c,e;c=0;for(e=this.lg.length;c<e;++c)this.TB(this.lg[c],a)};d.prototype.$r=function(a){if(2>this.history.length)return 0;var c=this.history[this.history.length-2],e=this.history[this.history.length-1];switch(a){case "x":return e.x-c.x;case "y":return e.y-c.y;case "a":return e.n-c.n;case "iv":return e.Pf[void 0]-c.Pf[void 0]}return 0};
d.prototype.Zr=function(a,c,e,f){var d,t,k,r=null,m=null;d=0;for(t=this.history.length;d<t;++d)if(k=this.history[d],k.timestamp<e)r=k;else{d+1<this.history.length&&(m=this.history[d+1]);break}if(r){d=0;switch(a){case "x":d=r.x;break;case "y":d=r.y;break;case "a":d=r.n;break;case "iv":d=r.Pf[c]}if(!m)return d;t=d;switch(a){case "x":t=m.x;break;case "y":t=m.y;break;case "a":t=m.n;break;case "iv":t=m.Pf[c]}return window.interpNetValue(f,d,t,ab(r.timestamp,m.timestamp,e),!1)}};d.prototype.yx=function(a,
c,e){var f,d,t;f=0;for(d=this.history.length;f<d;++f)switch(t=this.history[f],a){case "x":t.x+=e;break;case "y":t.y+=e;break;case "a":t.n+=e;break;case "iv":t.Pf[c]+=e}};var e=[];a.TB=function(a,c){this.De.hasOwnProperty(a.uid)||(this.De[a.uid]=new d(a));var f=this.De[a.uid],m;e.length?(m=e.pop(),m.HA=f):m=new q(f);m.timestamp=c;m.x=a.x;m.y=a.y;m.n=a.n;Ia(m.Pf,a.Oa);for(f.history.push(m);0<f.history.length&&f.history[0].timestamp<=c-2E3;)m=f.history.shift(),m.Pf.length=0,1E3>e.length&&e.push(m)};
a.Px=function(a,c,e,f){if(this.De.hasOwnProperty(a.uid)){var d=this.De[a.uid],t,k,m,l,p,v,u,q=e.length,W=Za(0,0,d.$r("x"),d.$r("y")),J=!!a.F.isPlatformBehavior;for(t=0;t<q;++t)if(p=e[t],v=p.tag,u=p.userdata,l=p.interp,k=c.getLatestUpdate())if(m=k.data[t],l=d.Zr(v,u,k.timestamp,l),"undefined"!==typeof l){k=0;switch(v){case "x":k=n(l,m,W,J);0!==k&&(a.x+=k,a.G());break;case "y":k=n(l,m,W,J);0!==k&&(a.y+=k,a.G());break;case "a":k=bb(l,m,.5)-l;0!==k&&(a.n+=k,a.G());break;case "iv":m=u;if(m>a.Oa.length||
"number"!==typeof a.Oa[m])break;p.clientvaluetag||(a.Oa[m]=c.getInterp(f,t))}0!==k&&d.yx(v,u,k)}}};a.nh=function(){};a.xd=function(){};a.Ua=function(){return{}};a.ab=function(){};l.prototype.kw=function(){return!0};l.prototype.mw=function(){return!0};l.prototype.Rq=function(){return!0};l.prototype.lw=function(){return!0};l.prototype.Tq=function(){return!0};l.prototype.Sq=function(){return!0};l.prototype.pw=function(){return!0};l.prototype.ow=function(){return!0};l.prototype.Oq=function(){return!0};
l.prototype.fw=function(){return!0};l.prototype.Ww=function(){return c&&this.D.isConnected()};l.prototype.Av=function(){return c&&this.D.isHost()};l.prototype.Ev=function(){return c};l.prototype.gw=function(a){return this.jt===a};l.prototype.Qv=function(){return!0};l.prototype.Fq=function(){return!0};l.prototype.Wv=function(){return!0};l.prototype.iw=function(){return!0};m.k=new l;p.prototype.Vw=function(a){c&&!this.D.isConnected()&&(this.ju=a,this.D.signallingConnect(a))};p.prototype.Yw=function(a){c&&
this.D.isConnected&&!this.D.isLoggedIn()&&this.D.signallingLogin(a)};p.prototype.Xw=function(a,e,f,d){c&&this.D.isLoggedIn()&&!this.D.isInRoom()&&this.D.signallingJoinGameRoom(a,e,f,d)};a.Hr=function(a,e,f,d){c&&(d=this.D.registerObject(a,a.ka,d),1===e?(d.addValue(this.D.INTERP_LINEAR,f,"x"),d.addValue(this.D.INTERP_LINEAR,f,"y")):2===e?d.addValue(this.D.INTERP_ANGULAR,f,"a"):3===e&&(d.addValue(this.D.INTERP_LINEAR,f,"x"),d.addValue(this.D.INTERP_LINEAR,f,"y"),d.addValue(this.D.INTERP_ANGULAR,f,"a")),
this.Pm[a]=d)};p.prototype.gx=function(a,e,f,d){if(c){var m,t;if(a.P)for(m=0,t=a.Ae.length;m<t;++m)this.Hr(a.Ae[m],e,f,d);else this.Hr(a,e,f,d)}};a.Ir=function(a,e,f,d,m){if(c&&(a=this.Pm[a])){var t=this.D.INTERP_NONE;1===d?t=this.D.INTERP_LINEAR:2===d&&(t=this.D.INTERP_ANGULAR);a.addValue(t,f,"iv",e,m)}};p.prototype.hx=function(a,e,f,d,m){if(c){var t,k,r;if(a.P)for(t=0,k=a.Ae.length;t<k;++t)r=a.Ae[t],this.Ir(r,e+r.Di[a.te],f,d,m);else this.Ir(a,e,f,d,m)}};p.prototype.Xu=function(a,e){if(c){var f=
a.co();if(f){var d=this.Pm[a];if(d){var m=this.D.getPeerById(e);m&&(this.D.isHost()&&(d.overrideNid(f.uid,m.nid),-1===this.lg.indexOf(f)&&this.lg.push(f)),this.Ri[f.uid]=m,this.Fe[m.id]=f)}}}};p.prototype.Gw=function(a,e){c&&this.D.setClientState(a,e)};p.prototype.Ru=function(a,e,f){c&&this.D.addClientInputValue(a,e,f)};p.prototype.tv=function(a){c&&a&&!this.D.isHost()&&(!(a=a.co())||0<=this.Dh.indexOf(a)||(a.F.inputPredicted=!0,this.lg.push(a),this.Dh.push(a)))};m.u=new p;u.prototype.Lv=function(a){a.rb(c?
this.D.getMyID():"")};u.prototype.ww=function(a){a.rb(this.Ij)};u.prototype.vw=function(a,e){a.rb(c?this.D.getAliasFromId(e):"")};u.prototype.xw=function(a,e,f){c?(e=this.D.getPeerById(e),a.N(e?e.getInterpClientState(f):0)):a.N(0)};a.Io=function(a,e,f,d){if(!c||!this.D.isHost())return 0;var m=this.D.getPeerById(a);if(!m)return 0;var t=this.Vr(m);if(!t)return 0;a=0;switch(f){case "x":a=t.x;break;case "y":a=t.y;break;case "a":a=t.n}e=this.D.getPeerById(e);if(!e||e===m||this.D.me===e)return a;e=2*(e.latency+
this.D.clientDelay);t=t.uid;if(!this.De.hasOwnProperty(t))return a;d=this.De[t].Zr(f,0,ib()-e,d);return"undefined"===typeof d?a:d};u.prototype.Iv=function(a,c,e){a.N(this.Io(c,e,"x",this.D.INTERP_LINEAR))};u.prototype.Jv=function(a,c,e){a.N(this.Io(c,e,"y",this.D.INTERP_LINEAR))};u.prototype.Hv=function(a,c,e){a.N(Oa(this.Io(c,e,"a",this.D.INTERP_ANGULAR)))};m.J=new u})();function Y(d){this.b=d}
(function(){function d(){if(0===this.Kn.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.hi?b.drawImage(this.Z,this.Wh,this.Xh,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.Z,0,0,this.width,this.height);this.Kn=a.toDataURL("image/png")}return this.Kn}function q(){}function n(a){a[0]=0;a[1]=0;a[2]=0;h.push(a)}function l(a,b){return a<b?""+a+","+b:""+b+","+a}function p(a,b,c,e){b=b.uid;c=c.uid;var f=l(b,c);if(a.hasOwnProperty(f))a[f][2]=
e;else{var d=h.length?h.pop():[0,0,0];d[0]=b;d[1]=c;d[2]=e;a[f]=d}}function u(a,b,c){b=l(b.uid,c.uid);a.hasOwnProperty(b)&&(n(a[b]),delete a[b])}function m(a,b,c){b=l(b.uid,c.uid);if(a.hasOwnProperty(b))return g=a[b][2],!0;g=-2;return!1}function a(){}var c=Y.prototype;c.R=function(a){this.wa=a;this.b=a.b};var f=c.R.prototype;f.I=function(){if(!this.P){var a,b,c,e,f,k,h,g,t;this.Jd=[];this.Ni=!1;a=0;for(b=this.Nc.length;a<b;a++){f=this.Nc[a];h={};h.name=f[0];h.speed=f[1];h.loop=f[2];h.Ip=f[3];h.Jp=
f[4];h.Gt=f[5];h.ka=f[6];h.frames=[];c=0;for(e=f[7].length;c<e;c++)k=f[7][c],g={},g.Hm=k[0],g.Im=k[1],g.Wh=k[2],g.Xh=k[3],g.width=k[4],g.height=k[5],g.duration=k[6],g.Bc=k[7],g.Cc=k[8],g.so=k[9],g.cm=k[10],g.Ht=k[11],g.hi=0!==g.width,g.Kn="",g.NC=d,t={left:0,top:0,right:1,bottom:1},g.Yp=t,g.la=null,(t=this.b.iz(k[0]))?g.Z=t:(g.Z=new Image,g.Z.Qx=k[0],g.Z.Qk=k[1],g.Z.Ex=null,this.b.Xm(g.Z,k[0])),h.frames.push(g),this.Jd.push(g);this.Nc[a]=h}}};f.Ju=function(){var a,b,c;a=0;for(b=this.j.length;a<b;a++)c=
this.j[a],c.Tk=c.Ib.la};f.Zh=function(){if(!this.P){var a,b,c;a=0;for(b=this.Jd.length;a<b;++a)c=this.Jd[a],c.Z.Ex=null,c.la=null;this.Ni=!1;this.Ju()}};f.Gj=function(){if(!this.P&&this.j.length){var a,b,c;a=0;for(b=this.Jd.length;a<b;++a)c=this.Jd[a],c.la=this.b.C.Ol(c.Z,!1,this.b.Ra,c.Ht);this.Ju()}};f.Pl=function(){if(!this.P&&!this.Ni&&this.b.C){var a,b,c;a=0;for(b=this.Jd.length;a<b;++a)c=this.Jd[a],c.la=this.b.C.Ol(c.Z,!1,this.b.Ra,c.Ht);this.Ni=!0}};f.Qm=function(){if(!this.P&&!this.j.length&&
this.Ni){var a,b,c;a=0;for(b=this.Jd.length;a<b;++a)c=this.Jd[a],this.b.C.deleteTexture(c.la),c.la=null;this.Ni=!1}};var e=[];f.gm=function(a){var b,c,f;M(e);b=0;for(c=this.Jd.length;b<c;++b)f=this.Jd[b].Z,-1===e.indexOf(f)&&(a.drawImage(f,0,0),e.push(f))};c.L=function(a){this.type=a;this.b=a.b;a=this.type.Nc[0].frames[0].cm;this.gc?this.T.Xj(a):this.T=new pb(a)};var b=c.L.prototype;b.I=function(){this.visible=0===this.q[0];this.yl=this.Ng=!1;this.Rd=0!==this.q[3];this.Qa=this.Ur(this.q[1])||this.type.Nc[0];
this.S=this.q[2];0>this.S&&(this.S=0);this.S>=this.Qa.frames.length&&(this.S=this.Qa.frames.length-1);var a=this.Qa.frames[this.S];this.T.Xj(a.cm);this.Bc=a.Bc;this.Cc=a.Cc;this.sg=this.Qa.speed;this.Gf=this.Qa.Jp;1===this.type.Nc.length&&1===this.type.Nc[0].frames.length||0===this.sg||(this.b.jg(this),this.Ng=!0);this.gc?this.Kd.reset():this.Kd=new nb;this.ue=this.Kd.ta;this.yf=!0;this.Me=0;this.xf=!0;this.ph=this.cr="";this.qr=0;this.Mk=-1;this.type.Pl();var b,c,e,f,d,k,g,a=0;for(b=this.type.Nc.length;a<
b;a++)for(f=this.type.Nc[a],c=0,e=f.frames.length;c<e;c++)d=f.frames[c],0===d.width&&(d.width=d.Z.width,d.height=d.Z.height),d.hi&&(g=d.Z,k=d.Yp,k.left=d.Wh/g.width,k.top=d.Xh/g.height,k.right=(d.Wh+d.width)/g.width,k.bottom=(d.Xh+d.height)/g.height,0===d.Wh&&0===d.Xh&&d.width===g.width&&d.height===g.height&&(d.hi=!1));this.Ib=this.Qa.frames[this.S];this.Tk=this.Ib.la};b.Ua=function(){var a={a:this.Qa.ka,f:this.S,cas:this.sg,fs:this.ue,ar:this.Me,at:this.Kd.ta,rt:this.Gf};this.yf||(a.ap=this.yf);
this.xf||(a.af=this.xf);return a};b.ab=function(a){var b=this.pz(a.a);b&&(this.Qa=b);this.S=a.f;0>this.S&&(this.S=0);this.S>=this.Qa.frames.length&&(this.S=this.Qa.frames.length-1);this.sg=a.cas;this.ue=a.fs;this.Me=a.ar;this.Kd.reset();this.Kd.ta=a.at;this.yf=a.hasOwnProperty("ap")?a.ap:!0;this.xf=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.Gf=a.rt:this.Gf=this.Qa.Jp;this.Ib=this.Qa.frames[this.S];this.Tk=this.Ib.la;this.T.Xj(this.Ib.cm);this.Bc=this.Ib.Bc;this.Cc=this.Ib.Cc};b.un=
function(a){this.S=a?0:this.Qa.frames.length-1;this.yf=!1;this.cr=this.Qa.name;this.yl=!0;this.b.trigger(Y.prototype.k.Nv,this);this.b.trigger(Y.prototype.k.Mv,this);this.yl=!1;this.Me=0};b.nh=function(){return this.Kd.ta};b.Ma=function(){this.Kd.add(this.b.zh(this));this.ph.length&&this.Dr();0<=this.Mk&&this.Er();var a=this.Kd.ta,b=this.Qa,c=b.frames[this.S],e=c.duration/this.sg;this.yf&&a>=this.ue+e&&(this.xf?this.S++:this.S--,this.ue+=e,this.S>=b.frames.length&&(b.Gt?(this.xf=!1,this.S=b.frames.length-
2):b.loop?this.S=this.Gf:(this.Me++,this.Me>=b.Ip?this.un(!1):this.S=this.Gf)),0>this.S&&(b.Gt?(this.S=1,this.xf=!0,b.loop||(this.Me++,this.Me>=b.Ip&&this.un(!0))):b.loop?this.S=this.Gf:(this.Me++,this.Me>=b.Ip?this.un(!0):this.S=this.Gf)),0>this.S?this.S=0:this.S>=b.frames.length&&(this.S=b.frames.length-1),a>this.ue+b.frames[this.S].duration/this.sg&&(this.ue=a),a=b.frames[this.S],this.jh(c,a),this.b.Ea=!0)};b.Ur=function(a){var b,c,e;b=0;for(c=this.type.Nc.length;b<c;b++)if(e=this.type.Nc[b],vb(e.name,
a))return e;return null};b.pz=function(a){var b,c,e;b=0;for(c=this.type.Nc.length;b<c;b++)if(e=this.type.Nc[b],e.ka===a)return e;return null};b.Dr=function(){var a=this.Qa.frames[this.S],b=this.Ur(this.ph);this.ph="";!b||vb(b.name,this.Qa.name)&&this.yf||(this.Qa=b,this.sg=b.speed,this.Gf=b.Jp,0>this.S&&(this.S=0),this.S>=this.Qa.frames.length&&(this.S=this.Qa.frames.length-1),1===this.qr&&(this.S=0),this.yf=!0,this.ue=this.Kd.ta,this.xf=!0,this.jh(a,this.Qa.frames[this.S]),this.b.Ea=!0)};b.Er=function(){var a=
this.Qa.frames[this.S],b=this.S;this.S=x(this.Mk);0>this.S&&(this.S=0);this.S>=this.Qa.frames.length&&(this.S=this.Qa.frames.length-1);b!==this.S&&(this.jh(a,this.Qa.frames[this.S]),this.ue=this.Kd.ta,this.b.Ea=!0);this.Mk=-1};b.jh=function(a,b){var c=a.width,e=a.height,f=b.width,d=b.height;c!=f&&(this.width*=f/c);e!=d&&(this.height*=d/e);this.Bc=b.Bc;this.Cc=b.Cc;this.T.Xj(b.cm);this.G();this.Ib=b;this.Tk=b.la;c=0;for(e=this.V.length;c<e;c++)f=this.V[c],f.QA&&f.QA(a,b);this.b.trigger(Y.prototype.k.jh,
this)};b.Qc=function(a){a.globalAlpha=this.opacity;var b=this.Ib,c=b.hi,e=b.Z,f=this.x,d=this.y,k=this.width,g=this.height;if(0===this.n&&0<=k&&0<=g)f-=this.Bc*k,d-=this.Cc*g,this.b.hd&&(f=Math.round(f),d=Math.round(d)),c?a.drawImage(e,b.Wh,b.Xh,b.width,b.height,f,d,k,g):a.drawImage(e,f,d,k,g);else{this.b.hd&&(f=Math.round(f),d=Math.round(d));a.save();var h=0<k?1:-1,t=0<g?1:-1;a.translate(f,d);1===h&&1===t||a.scale(h,t);a.rotate(this.n*h*t);f=0-this.Bc*qa(k);d=0-this.Cc*qa(g);c?a.drawImage(e,b.Wh,
b.Xh,b.width,b.height,f,d,qa(k),qa(g)):a.drawImage(e,f,d,qa(k),qa(g));a.restore()}};b.Hf=function(a){this.Jb(a)};b.Jb=function(a){a.qb(this.Tk);a.jf(this.opacity);var b=this.Ib,c=this.tb;if(this.b.hd){var e=Math.round(this.x)-this.x,f=Math.round(this.y)-this.y;b.hi?a.ae(c.Eb+e,c.Fb+f,c.lc+e,c.mc+f,c.$b+e,c.ac+f,c.Yb+e,c.Zb+f,b.Yp):a.Xg(c.Eb+e,c.Fb+f,c.lc+e,c.mc+f,c.$b+e,c.ac+f,c.Yb+e,c.Zb+f)}else b.hi?a.ae(c.Eb,c.Fb,c.lc,c.mc,c.$b,c.ac,c.Yb,c.Zb,b.Yp):a.Xg(c.Eb,c.Fb,c.lc,c.mc,c.$b,c.ac,c.Yb,c.Zb)};
b.wz=function(a){var b=this.Ib,c,e;c=0;for(e=b.so.length;c<e;c++)if(vb(a,b.so[c][0]))return c;return-1};b.Gi=function(a,b){var c=this.Ib,e=c.so,f;ma(a)?f=this.wz(a):f=a-1;f=x(f);if(0>f||f>=e.length)return b?this.x:this.y;var d=(e[f][1]-c.Bc)*this.width,e=e[f][2],e=(e-c.Cc)*this.height,c=Math.cos(this.n);f=Math.sin(this.n);var k=d*c-e*f,e=e*c+d*f,d=k+this.x,e=e+this.y;return b?d:e};var h=[],g=-2,H=[];q.prototype.Sv=function(a){if(!a)return!1;var b=this.b,c=b.Bg(),e=c.type,f=null;c.F.collmemory?f=c.F.collmemory:
(f={},c.F.collmemory=f);c.F.spriteCreatedDestroyCallback||(c.F.spriteCreatedDestroyCallback=!0,b.qn(function(a){var b=c.F.collmemory;a=a.uid;var e,f;for(e in b)b.hasOwnProperty(e)&&(f=b[e],f[0]===a||f[1]===a)&&(n(b[e]),delete b[e])}));var d=e.aa(),k=a.aa(),d=d.qc(),h,t,r,l,q,A,z,w=this.b.Xc,G=w-1,O=b.$a().hb;for(t=0;t<d.length;t++){r=d[t];k.da?(r.ba(),this.b.ql(r.p,a,r.U,H),h=H):h=k.qc();for(l=0;l<h.length;l++)q=h[l],b.hg(r,q)||b.Kx(r,q)?(A=m(f,r,q),A=!A||g<G,p(f,r,q,w),A&&(b.ai(O.Ka),A=e.aa(),z=
a.aa(),A.da=!1,z.da=!1,e===a?(A.j.length=2,A.j[0]=r,A.j[1]=q,e.Ld()):(A.j.length=1,z.j.length=1,A.j[0]=r,z.j[0]=q,e.Ld(),a.Ld()),O.Sj(),b.gf(O.Ka))):u(f,r,q);M(H)}return!1};var F=null,t=new ca,k=!1,r=[],A=new wa(0,0,0,0);f.finish=function(a){if(k){if(a){var b=this.b.$a().hb.gd;a=F.aa();var c=t.md(),e,f;if(a.da){a.da=!1;M(a.j);e=0;for(f=c.length;e<f;++e)a.j[e]=c[e];if(b)for(M(a.ga),e=0,f=F.j.length;e<f;++e)c=F.j[e],t.contains(c)||a.ga.push(c)}else if(b)for(b=a.j.length,e=0,f=c.length;e<f;++e)a.j[b+
e]=c[e],Ma(a.ga,c[e]);else Ia(a.j,c);F.Ld()}t.clear();k=!1}};q.prototype.Dv=function(a){if(a){var b=!1,c,e,f,d=this.b.Bg(),g=d.type,d=d.Ti;c=a.aa();e=this.b.$a().hb.gd;var h;c.da?(this.ba(),A.qh(this.U),A.offset(0,0),this.b.ql(this.p,a,A,r),h=r):h=e?this.b.hA()&&!c.ga.length&&c.j.length?c.j:c.ga:c.j;F=a;k=g!==a&&!d;c=0;for(e=h.length;c<e;c++)if(f=h[c],this.b.hg(this,f)){b=!0;if(d)break;g!==a&&t.add(f)}M(r);a=b}else a=!1;return a};q.prototype.uv=function(a){return this.ph.length?vb(this.ph,a):vb(this.Qa.name,
a)};q.prototype.Mv=function(a){return vb(this.cr,a)};q.prototype.Nv=function(){return!0};q.prototype.jh=function(){return!0};c.k=new q;a.prototype.$w=function(a,b,c){if(a&&b&&(b=this.b.Rk(a,b,this.Gi(c,!0),this.Gi(c,!1)))){"undefined"!==typeof b.n&&(b.n=this.n,b.G());this.b.cd++;var e,f,d;this.b.trigger(Object.getPrototypeOf(a.wa).k.uf,b);if(b.Rb)for(e=0,f=b.siblings.length;e<f;e++)d=b.siblings[e],this.b.trigger(Object.getPrototypeOf(d.type.wa).k.uf,d);this.b.cd--;e=this.b.rz();c=!1;if(ka(e.F.Spawn_LastExec)||
e.F.Spawn_LastExec<this.b.zg)c=!0,e.F.Spawn_LastExec=this.b.zg;if(a!=this.type&&(a=a.aa(),a.da=!1,c?(M(a.j),a.j[0]=b):a.j.push(b),b.Rb))for(e=0,f=b.siblings.length;e<f;e++)d=b.siblings[e],a=d.type.aa(),a.da=!1,c?(M(a.j),a.j[0]=d):a.j.push(d)}};a.prototype.ax=function(a){this.yf=!0;this.ue=this.Kd.ta;1===a&&0!==this.S&&(this.Mk=0,this.yl||this.Er());this.Ng||(this.b.jg(this),this.Ng=!0)};a.prototype.Dw=function(a,b){this.ph=a;this.qr=b;this.Ng||(this.b.jg(this),this.Ng=!0);this.yl||this.Dr()};a.prototype.Ew=
function(a){this.sg=qa(a);this.xf=0<=a;this.Ng||(this.b.jg(this),this.Ng=!0)};a.prototype.Pw=function(a){var b=this.Ib,c=b.width*a*(0>this.width?-1:1);a=b.height*a*(0>this.height?-1:1);if(this.width!==c||this.height!==a)this.width=c,this.height=a,this.G()};c.u=new a;c.J=new function(){}})();function Ec(d){this.b=d}
(function(){function d(){return f.length?f.pop():{}}function q(a){var b,c;b=0;for(c=a.length;b<c;b++)f.push(a[b]);M(a)}function n(a){return a.length&&" "===a.charAt(a.length-1)?a.substring(0,a.length-1):a}function l(){}function p(){}function u(){}var m=Ec.prototype;m.I=function(){m.u.Uw=function(a){this.width!==a&&(this.width=a,this.bh=!0,this.G())}};m.R=function(a){this.wa=a;this.b=a.b};var a=m.R.prototype;a.I=function(){};a.Zh=function(){if(!this.P){var a,b,c;a=0;for(b=this.j.length;a<b;a++)c=this.j[a],
c.Ce=null,c.Vg=null,c.Uc=null}};m.L=function(a){this.type=a;this.b=a.b;this.gc?M(this.Tf):this.Tf=[];this.bh=!0};a=m.L.prototype;a.I=function(){this.text=this.q[0];this.visible=0===this.q[1];this.font=this.q[2];this.color=this.q[3];this.ul=this.q[4];this.Um=this.q[5];this.wq=0===this.q[7];this.Po=this.cf=this.width;this.bf=this.height;this.Vo=this.q[8];this.kl=this.wh="";this.ru=this.su=this.Mj=0;this.VA();this.Uc=this.Vg=this.Ce=null;this.kp=!1;this.oj=this.b.Xc;this.gc?this.bg.set(0,0,1,1):this.bg=
new wa(0,0,1,1);this.b.C&&this.b.jg(this)};a.VA=function(){var a=this.font.split(" "),b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.Mj=parseInt(a[b].substr(0,a[b].length-2));this.Bp=Math.ceil(this.Mj/72*96)+4;0<b&&(this.kl=a[b-1]);this.wh=a[b+1];for(b+=2;b<a.length;b++)this.wh+=" "+a[b];break}};a.Ua=function(){return{t:this.text,f:this.font,c:this.color,ha:this.ul,va:this.Um,wr:this.wq,lho:this.Vo,fn:this.wh,fs:this.kl,ps:this.Mj,pxh:this.Bp,tw:this.su,th:this.ru,lrt:this.oj}};
a.ab=function(a){this.text=a.t;this.font=a.f;this.color=a.c;this.ul=a.ha;this.Um=a.va;this.wq=a.wr;this.Vo=a.lho;this.wh=a.fn;this.kl=a.fs;this.Mj=a.ps;this.Bp=a.pxh;this.su=a.tw;this.ru=a.th;this.oj=a.lrt;this.bh=!0;this.Po=this.cf=this.width;this.bf=this.height};a.Ma=function(){if(this.b.C&&this.Uc&&300<=this.b.Xc-this.oj){var a=this.p;this.ba();var b=this.U;if(b.right<a.xa||b.bottom<a.ya||b.left>a.Ba||b.top>a.Aa)this.b.C.deleteTexture(this.Uc),this.Ce=this.Vg=this.Uc=null}};a.xd=function(){this.Ce=
this.Vg=null;this.b.C&&this.Uc&&this.b.C.deleteTexture(this.Uc);this.Uc=null};a.nh=function(){this.font=this.kl+" "+this.Mj.toString()+"pt "+this.wh;this.bh=!0;this.b.Ea=!0};a.Qc=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=Math.abs(this.p.rc()),a.save(),a.scale(c,c));if(this.bh||this.width!==this.Po)this.type.wa.ox(this.text,this.Tf,a,this.width,this.wq),this.bh=!1,this.Po=this.width;this.ba();var c=b?0:this.tb.Eb,f=b?0:this.tb.Fb;
this.b.hd&&(c=c+.5|0,f=f+.5|0);0===this.n||b||(a.save(),a.translate(c,f),a.rotate(this.n),f=c=0);var d=f+this.height,m=this.Bp,m=m+this.Vo,t,k;1===this.Um?f+=Math.max(this.height/2-this.Tf.length*m/2,0):2===this.Um&&(f+=Math.max(this.height-this.Tf.length*m-2,0));for(k=0;k<this.Tf.length&&!(t=c,1===this.ul?t=c+(this.width-this.Tf[k].width)/2:2===this.ul&&(t=c+(this.width-this.Tf[k].width)),a.fillText(this.Tf[k].text,t,f),f+=m,f>=d-m);k++);(0!==this.n||b)&&a.restore();this.oj=this.b.Xc};a.Jb=function(a){if(!(1>
this.width||1>this.height)){var b=this.bh||this.kp;this.kp=!1;var c=this.p.rc(),f=this.p.yb(),d=this.bg,m=c*this.width,t=c*this.height,k=Math.ceil(m),r=Math.ceil(t),l=Math.abs(k),p=Math.abs(r),n=this.b.X/2,u=this.b.W/2;this.Vg||(this.Ce=document.createElement("canvas"),this.Ce.width=l,this.Ce.height=p,this.cf=l,this.bf=p,b=!0,this.Vg=this.Ce.getContext("2d"));if(l!==this.cf||p!==this.bf)this.Ce.width=l,this.Ce.height=p,this.Uc&&(a.deleteTexture(this.Uc),this.Uc=null),b=!0;b&&(this.Vg.clearRect(0,
0,l,p),this.Qc(this.Vg,!0),this.Uc||(this.Uc=a.pc(l,p,this.b.Ra,this.b.Nf)),a.Wm(this.Ce,this.Uc,this.b.Nf));this.cf=l;this.bf=p;a.qb(this.Uc);a.jf(this.opacity);a.Bd();a.translate(-n,-u);a.kd();var q=this.tb,b=this.p.Ja(q.Eb,q.Fb,!0,!0),l=this.p.Ja(q.Eb,q.Fb,!1,!0),p=this.p.Ja(q.lc,q.mc,!0,!0),n=this.p.Ja(q.lc,q.mc,!1,!0),u=this.p.Ja(q.$b,q.ac,!0,!0),W=this.p.Ja(q.$b,q.ac,!1,!0),J=this.p.Ja(q.Yb,q.Zb,!0,!0),q=this.p.Ja(q.Yb,q.Zb,!1,!0);if(this.b.hd||0===this.n&&0===f)var D=(b+.5|0)-b,E=(l+.5|0)-
l,b=b+D,l=l+E,p=p+D,n=n+E,u=u+D,W=W+E,J=J+D,q=q+E;0===this.n&&0===f?(p=b+k,n=l,u=p,W=l+r,J=b,q=W,d.right=1,d.bottom=1):(d.right=m/k,d.bottom=t/r);a.ae(b,l,p,n,u,W,J,q,d);a.Bd();a.scale(c,c);a.pm(-this.p.yb());a.translate((this.p.xa+this.p.Ba)/-2,(this.p.ya+this.p.Aa)/-2);a.kd();this.oj=this.b.Xc}};var c=[];m.jx=function(a){M(c);for(var b="",f,d=0;d<a.length;)if(f=a.charAt(d),"\n"===f)b.length&&(c.push(b),b=""),c.push("\n"),++d;else if(" "===f||"\t"===f||"-"===f){do b+=a.charAt(d),d++;while(d<a.length&&
(" "===a.charAt(d)||"\t"===a.charAt(d)));c.push(b);b=""}else d<a.length&&(b+=f,d++);b.length&&c.push(b)};var f=[];m.ox=function(a,b,c,f,m){if(a&&a.length)if(2>=f)q(b);else{if(100>=a.length&&-1===a.indexOf("\n")){var l=c.measureText(a).width;if(l<=f){q(b);b.push(d());b[0].text=a;b[0].width=l;return}}this.qx(a,b,c,f,m)}else q(b)};m.qx=function(a,b,h,g,m){m&&(this.jx(a),a=c);var l="",t,k,r,p=0;for(r=0;r<a.length;r++)"\n"===a[r]?(p>=b.length&&b.push(d()),l=n(l),k=b[p],k.text=l,k.width=h.measureText(l).width,
p++,l=""):(t=l,l+=a[r],k=h.measureText(l).width,k>=g&&(p>=b.length&&b.push(d()),t=n(t),k=b[p],k.text=t,k.width=h.measureText(t).width,p++,l=a[r],m||" "!==l||(l="")));l.length&&(p>=b.length&&b.push(d()),l=n(l),k=b[p],k.text=l,k.width=h.measureText(l).width,p++);for(r=p;r<b.length;r++)f.push(b[r]);b.length=p};l.prototype.yq=function(a,b){return b?this.text==a:vb(this.text,a)};m.k=new l;p.prototype.kn=function(a){la(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.bh=
!0,this.b.Ea=!0)};p.prototype.Jw=function(a){a="rgb("+Aa(a).toString()+","+Ca(a).toString()+","+Da(a).toString()+")";a!==this.color&&(this.color=a,this.kp=!0,this.b.Ea=!0)};m.u=new p;u.prototype.Text=function(a){a.rb(this.text)};m.J=new u})();function Fc(d){this.b=d}
(function(){function d(){}function q(){}function n(){}var l=Fc.prototype;l.R=function(d){this.wa=d;this.b=d.b};l.R.prototype.I=function(){};l.L=function(d){this.type=d;this.b=d.b};var p=l.L.prototype,u="text password email number tel url".split(" ");-1<navigator.userAgent.indexOf("MSIE 9")&&(u[2]="text",u[3]="text",u[4]="text",u[5]="text");p.I=function(){if(this.b.na)ha("[Construct 2] Textbox plugin not supported on this platform - the object will not be created");else{6===this.q[7]?(this.B=document.createElement("textarea"),
jQuery(this.B).css("resize","none")):(this.B=document.createElement("input"),this.B.type=u[this.q[7]]);this.B.id=this.q[9];jQuery(this.B).appendTo(this.b.oh?this.b.oh:"body");this.B.autocomplete="off";this.B.value=this.q[0];this.B.placeholder=this.q[1];this.B.title=this.q[2];this.B.disabled=0===this.q[4];this.B.readOnly=1===this.q[5];this.B.spellcheck=1===this.q[6];this.vn=0!==this.q[8];this.zc=!1;0===this.q[3]&&(jQuery(this.B).hide(),this.visible=!1,this.zc=!0);var d=function(a){return function(){a.b.trigger(Fc.prototype.k.Uq,
a)}}(this);this.B.oninput=d;-1!==navigator.userAgent.indexOf("MSIE")&&(this.B.oncut=d);this.B.onclick=function(a){return function(c){c.stopPropagation();a.b.zb=!0;a.b.trigger(Fc.prototype.k.qk,a);a.b.zb=!1}}(this);this.B.ondblclick=function(a){return function(c){c.stopPropagation();a.b.zb=!0;a.b.trigger(Fc.prototype.k.Uv,a);a.b.zb=!1}}(this);this.B.addEventListener("touchstart",function(a){a.stopPropagation()},!1);this.B.addEventListener("touchmove",function(a){a.stopPropagation()},!1);this.B.addEventListener("touchend",
function(a){a.stopPropagation()},!1);jQuery(this.B).mousedown(function(a){a.stopPropagation()});jQuery(this.B).mouseup(function(a){a.stopPropagation()});jQuery(this.B).keydown(function(a){13!==a.which&&27!=a.which&&a.stopPropagation()});jQuery(this.B).keyup(function(a){13!==a.which&&27!=a.which&&a.stopPropagation()});this.mj=this.nj=this.hj=this.kj=this.lj=this.ij=0;this.fk(!0);this.b.jg(this)}};p.Ua=function(){return{text:this.B.value,placeholder:this.B.placeholder,tooltip:this.B.title,disabled:!!this.B.disabled,
readonly:!!this.B.readOnly,spellcheck:!!this.B.spellcheck}};p.ab=function(d){this.B.value=d.text;this.B.placeholder=d.placeholder;this.B.title=d.tooltip;this.B.disabled=d.disabled;this.B.readOnly=d.readonly;this.B.spellcheck=d.spellcheck};p.xd=function(){this.b.na||(jQuery(this.B).remove(),this.B=null)};p.Ma=function(){this.fk()};p.fk=function(d){if(!this.b.na){var a=this.p.Ja(this.x,this.y,!0),c=this.p.Ja(this.x,this.y,!1),f=this.p.Ja(this.x+this.width,this.y+this.height,!0),e=this.p.Ja(this.x+this.width,
this.y+this.height,!1),b=this.b.width/this.b.devicePixelRatio,h=this.b.height/this.b.devicePixelRatio;!this.visible||!this.p.visible||0>=f||0>=e||a>=b||c>=h?(this.zc||jQuery(this.B).hide(),this.zc=!0):(1>a&&(a=1),1>c&&(c=1),f>=b&&(f=b-1),e>=h&&(e=h-1),b=window.innerWidth,h=window.innerHeight,d||this.ij!==a||this.lj!==c||this.kj!==f||this.hj!==e||this.nj!==b||this.mj!==h?(this.ij=a,this.lj=c,this.kj=f,this.hj=e,this.nj=b,this.mj=h,this.zc&&(jQuery(this.B).show(),this.zc=!1),d=Math.round(a)+jQuery(this.b.canvas).offset().left,
b=Math.round(c)+jQuery(this.b.canvas).offset().top,jQuery(this.B).css("position","absolute"),jQuery(this.B).offset({left:d,top:b}),jQuery(this.B).width(Math.round(f-a)),jQuery(this.B).height(Math.round(e-c)),this.vn&&jQuery(this.B).css("font-size",this.p.rc(!0)/this.b.devicePixelRatio-.2+"em")):this.zc&&(jQuery(this.B).show(),this.zc=!1))}};p.Qc=function(){};p.Jb=function(){};d.prototype.yq=function(d,a){return this.b.na?!1:0===a?vb(this.B.value,d):this.B.value===d};d.prototype.Uq=function(){return!0};
d.prototype.qk=function(){return!0};d.prototype.Uv=function(){return!0};l.k=new d;q.prototype.kn=function(d){this.b.na||(this.B.value=d)};q.prototype.ln=function(d){this.b.na||(this.visible=0!==d)};q.prototype.le=function(d){this.b.na||(this.B.disabled=0===d)};q.prototype.Vq=function(){this.b.na||this.B.focus()};q.prototype.hn=function(d,a){this.b.na||jQuery(this.B).css(d,a)};l.u=new q;n.prototype.Text=function(d){this.b.na?d.rb(""):d.rb(this.B.value)};l.J=new n})();function Gc(d){this.b=d}
(function(){var d=Gc.prototype;d.R=function(d){this.wa=d;this.b=d.b};var q=d.R.prototype;q.I=function(){this.P||(this.Z=new Image,this.Z.Qk=this.Im,this.b.Xm(this.Z,this.Hm),this.la=this.pattern=null)};q.Zh=function(){this.P||(this.la=null)};q.Gj=function(){if(!this.P&&this.j.length){this.la||(this.la=this.b.C.Ol(this.Z,!0,this.b.Ra,this.fq));var d,l;d=0;for(l=this.j.length;d<l;d++)this.j[d].la=this.la}};q.Pl=function(){this.P||this.la||!this.b.C||(this.la=this.b.C.Ol(this.Z,!0,this.b.Ra,this.fq))};
q.Qm=function(){this.P||this.j.length||!this.la||(this.b.C.deleteTexture(this.la),this.la=null)};q.gm=function(d){d.drawImage(this.Z,0,0)};d.L=function(d){this.type=d;this.b=d.b};q=d.L.prototype;q.I=function(){this.visible=0===this.q[0];this.bg=new wa(0,0,0,0);this.ls=!1;this.Z=this.type.Z;this.b.C?(this.type.Pl(),this.la=this.type.la):(this.type.pattern||(this.type.pattern=this.b.Pa.createPattern(this.type.Z,"repeat")),this.pattern=this.type.pattern)};q.ne=function(){this.ls=!1;this.Z=this.type.Z};
q.xd=function(){this.b.C&&this.ls&&this.la&&(this.b.C.deleteTexture(this.la),this.la=null)};q.Qc=function(d){d.globalAlpha=this.opacity;d.save();d.fillStyle=this.pattern;var l=this.x,p=this.y;this.b.hd&&(l=Math.round(l),p=Math.round(p));var q=-(this.Bc*this.width),m=-(this.Cc*this.height),a=q%this.Z.width,c=m%this.Z.height;0>a&&(a+=this.Z.width);0>c&&(c+=this.Z.height);d.translate(l,p);d.rotate(this.n);d.translate(a,c);d.fillRect(q-a,m-c,this.width,this.height);d.restore()};q.Hf=function(d){this.Jb(d)};
q.Jb=function(d){d.qb(this.la);d.jf(this.opacity);var l=this.bg;l.right=this.width/this.Z.width;l.bottom=this.height/this.Z.height;var p=this.tb;if(this.b.hd){var q=Math.round(this.x)-this.x,m=Math.round(this.y)-this.y;d.ae(p.Eb+q,p.Fb+m,p.lc+q,p.mc+m,p.$b+q,p.ac+m,p.Yb+q,p.Zb+m,l)}else d.ae(p.Eb,p.Fb,p.lc,p.mc,p.$b,p.ac,p.Yb,p.Zb,l)};d.k=new function(){};d.u=new function(){};d.J=new function(){}})();function Hc(d){this.b=d}
(function(){function d(){this.Lm=this.id=-1;this.dr=this.uh=this.kk=this.Oi=!1;this.za=new wa(0,0,0,0)}function q(a){1E4>h.length&&h.push(a)}function n(){this.id=-1;this.za=new wa(0,0,0,0);this.ec=null}function l(a){1E4>g.length&&g.push(a)}function p(a,b,c){var e;return H.length?(e=H.pop(),e.i=a,e.x=b,e.y=c,e.left=e.x*e.i.ub*e.i.kc,e.top=e.y*e.i.Gb*e.i.jc,e.clear(),e.Oj=!1,e):new u(a,b,c)}function u(a,b,c){this.i=a;this.x=b;this.y=c;this.left=this.x*this.i.ub*this.i.kc;this.top=this.y*this.i.Gb*this.i.jc;
this.Le=[];this.Ub=[];this.oc=[];this.Oj=!1;var e,f;a=0;for(b=this.i.Gb;a<b;++a){f=[];c=0;for(e=this.i.ub;c<e;++c)f.push(-1);this.Le.push(f)}}var m=Hc.prototype;m.R=function(a){this.wa=a;this.b=a.b};var a=m.R.prototype;a.I=function(){var a,b,c;if(!this.P&&(this.Z=new Image,this.Z.Qk=this.Im,this.b.Xm(this.Z,this.Hm),this.tg=[],this.Jn=!1,this.ge=[],this.vu=!1,this.Km&&this.Km.length))for(a=0,b=this.Km.length;a<b;++a)(c=this.Km[a])?this.ge.push({ec:c,jl:[[[null,null],[null,null]],[[null,null],[null,
null]]]}):this.ge.push(null)};a.Af=function(a,b,c,e,f,d){if(!(0>a||a>=this.ge.length)&&this.ge[a]){var g=this.ge[a].jl;a=new pb(this.ge[a].ec);a.Pd(b,c,0);d&&a.Wx();e&&a.AA(b/2);f&&a.jz(c/2);g[e?1:0][f?1:0][d?1:0]=a}};a.Fz=function(a){if(-1===a)return null;var d=a&b;return 0>d||d>=this.ge.length||!this.ge[d]?null:this.ge[d].jl[a&c?1:0][a&f?1:0][a&e?1:0]};a.Yn=function(){var a,b,c=this.b.C;if(c)for(a=0,b=this.tg.length;a<b;++a)c.deleteTexture(this.tg[a]);M(this.tg);this.Jn=!1};a.dp=function(a,b,c,
e,f,d,g){if(!(this.Jn||0>=a||0>=b)){this.Yn();var h=this.Z.width,l=this.Z.height,m;for(m=e;m+b<=l;m+=b+d)for(e=c;e+a<=h;e+=a+f)this.tg.push(this.kv(e,m,a,b,g));this.Jn=!0}};a.kv=function(a,b,c,e,f){if(this.b.C)return this.dn(a,b,c,e,!1,!1,!1,f);var d=[[[null,null],[null,null]],[[null,null],[null,null]]];d[0][0][0]=this.dn(a,b,c,e,!1,!1,!1,f);return{jl:d,x:a,y:b,$B:c,Wz:e}};a.Aq=function(a,b,c,e,f){if(0>a||a>=this.tg.length)return null;a=this.tg[a];var d=a.jl;b=b?1:0;c=c?1:0;e=e?1:0;var g=d[b][c][e];
if(g)return g;g=this.dn(a.x,a.y,a.$B,a.Wz,0!==b,0!==c,0!==e,f);return d[b][c][e]=g};a.dn=function(a,b,c,e,f,d,g,h){var l=c,m=e;this.b.C&&!h&&(oa(l)||(l=pa(l)),oa(m)||(m=pa(m)));var p=document.createElement("canvas");p.width=l;p.height=m;var n=p.getContext("2d");if(this.b.Pa)return f?d?(g?(n.rotate(Math.PI/2),n.scale(-1,1)):n.scale(-1,-1),n.translate(-l,-m)):g?(n.rotate(Math.PI/2),n.translate(0,-m)):(n.scale(-1,1),n.translate(-l,0)):d?g?(n.rotate(-Math.PI/2),n.translate(-l,0)):(n.scale(1,-1),n.translate(0,
-m)):g&&(n.scale(-1,1),n.rotate(Math.PI/2)),n.drawImage(this.Z,a,b,c,e,0,0,l,m),h?p:this.b.Pa.createPattern(p,"repeat");n.drawImage(this.Z,a,b,c,e,0,0,l,m);a=this.b.C.pc(l,m,this.b.Ra,!1,!h);this.b.C.Wm(p,a);return a};a.Zh=function(){this.P||this.Yn()};a.Gj=function(){};a.Pl=function(){};a.Qm=function(){this.P||this.j.length||this.Yn()};a.gm=function(){};m.L=function(a){this.type=a;this.b=a.b};var a=m.L.prototype,c=-2147483648,f=1073741824,e=536870912,b=536870911,h=[],g=[],H=[];u.prototype.clear=
function(){var a,b,c,e,f;this.Le.length=this.i.Gb;a=0;for(b=this.Le.length;a<b;++a)for(f=this.Le[a],f||(f=[],this.Le[a]=f),f.length=this.i.ub,c=0,e=f.length;c<e;++c)f[c]=-1};u.prototype.Aj=function(){if(!this.Oj){var a=this.i.kc,k=this.i.jc;if(!(0>=a||0>=k)){var m,p,u,v,V,B;m=0;for(p=this.Ub.length;m<p;++m)q(this.Ub[m]);m=0;for(p=this.oc.length;m<p;++m)l(this.oc[m]);M(this.Ub);M(this.oc);var F=Math.min(this.i.wd,Math.floor(this.i.width/a)),J=Math.min(this.i.Zd,Math.floor(this.i.height/k)),F=F-this.left/
a,J=J-this.top/k;F>this.i.ub&&(F=this.i.ub);J>this.i.Gb&&(J=this.i.Gb);var D=this.i.eg,E=null;m=0;for(p=J;m<p;++m){V=this.Le[m];u=0;for(v=F;u<v;++u)B=V[u],-1===B?E&&(this.Ub.push(E),E=null):D||!E||B!==E.id?(E&&this.Ub.push(E),E=h.length?h.pop():new d,E.id=B,E.Lm=B&b,E.Oi=0!==(B&c),E.kk=0!==(B&f),E.uh=0!==(B&e),E.dr=E.Oi||E.kk||E.uh,E.za.left=u*a+this.left,E.za.top=m*k+this.top,E.za.right=E.za.left+a,E.za.bottom=E.za.top+k):E.za.right+=a;E&&(this.Ub.push(E),E=null)}var E=null,H=!1;m=0;for(p=J;m<p;++m){V=
this.Le[m];u=0;for(v=F;u<v;++u)B=V[u],-1===B?E&&(this.oc.push(E),E=null,H=!1):(J=this.i.type.Fz(B),!E||J||H?(E&&this.oc.push(E),E=g.length?g.pop():new n,E.id=B,E.ec=J?J:null,B=E.za,B.left=u*a+this.left,B.top=m*k+this.top,B.right=B.left+a,B.bottom=B.top+k,H=!!J):E.za.right+=a);E&&(this.oc.push(E),E=null,H=!1)}if(!D)for(p=this.Ub.length,m=0;m<p;++m)for(v=this.Ub[m],a=m+1;a<p;++a)if(u=this.Ub[a],!(u.za.top<v.za.bottom)){if(u.za.top>v.za.bottom)break;if(u.za.right>v.za.right||u.za.left>v.za.left)break;
u.id===v.id&&u.za.left===v.za.left&&u.za.right===v.za.right&&(q(this.Ub[a]),this.Ub.splice(a,1),--p,v.za.bottom+=k,--a)}p=this.oc.length;for(m=0;m<p;++m)if(v=this.oc[m],!v.ec)for(V=v.za,a=m+1;a<p;++a)if(u=this.oc[a],v=u.za,!(v.top<V.bottom)){if(v.top>V.bottom)break;if(v.right>V.right||v.left>V.left)break;u.ec||v.left!==V.left||v.right!==V.right||(l(this.oc[a]),this.oc.splice(a,1),--p,V.bottom+=k,--a)}this.Oj=!0}}};u.prototype.Tp=function(a,b,c){this.Le[b][a]!==c&&(this.Le[b][a]=c,this.Oj=!1,this.i.Bk=
!0,this.i.Jj=!0,this.i.b.Ea=!0)};a.I=function(){var a,b,c;this.visible=0===this.q[0];this.kc=this.q[1];this.jc=this.q[2];this.gq=this.q[3];this.iq=this.q[4];this.hq=this.q[5];this.jq=this.q[6];this.eg=0!==this.q[7];this.wd=this.yu;this.Zd=this.xu;this.cf=this.width;this.bf=this.height;var e=this.kc,f=this.jc;0===e&&(e=1);0===f&&(f=1);this.ub=Math.ceil(this.b.Ta/e);this.Gb=Math.ceil(this.b.Sa/f);if(!this.type.vu)for(this.type.vu=!0,a=0,b=this.type.ge.length;a<b;++a)if(c=this.type.ge[a])this.type.Af(a,
e,f,!1,!1,!1),this.type.Af(a,e,f,!1,!1,!0),this.type.Af(a,e,f,!1,!0,!1),this.type.Af(a,e,f,!1,!0,!0),this.type.Af(a,e,f,!0,!1,!1),this.type.Af(a,e,f,!0,!1,!0),this.type.Af(a,e,f,!0,!0,!1),this.type.Af(a,e,f,!0,!0,!0);this.gc||(this.vc=[]);this.ep(!0);this.bu(this.wu);this.type.dp(this.kc,this.jc,this.gq,this.iq,this.hq,this.jq,this.eg);this.Jj=!1;this.Bk=!0;this.cp()};a.cp=function(){if(this.Bk){var a,b,c,e,f;a=0;for(b=this.vc.length;a<b;++a)for(f=this.vc[a],c=0,e=f.length;c<e;++c)f[c].Aj();this.Bk=
!1}};a.um=function(){var a,b,c,e,f;a=0;for(b=this.vc.length;a<b;++a)for(f=this.vc[a],c=0,e=f.length;c<e;++c)f[c].Oj=!1;this.Bk=!0};a.ep=function(a){var b=x(this.width/this.kc),c=x(this.height/this.jc);if(!(b<=this.wd&&c<=this.Zd)||a){var e;a?(a=Math.ceil(this.Zd/this.Gb),e=Math.ceil(this.wd/this.ub)):(a=this.vc.length,e=Math.ceil(this.wd/this.ub),c>this.Zd&&(this.Zd=c,a=Math.ceil(this.Zd/this.Gb)),b>this.wd&&(this.wd=b,e=Math.ceil(this.wd/this.ub)),this.um(),this.Jj=!0,this.b.Ea=!0);for(var f,b=0;b<
a;++b)if(f=this.vc[b])for(c=f.length;c<e;++c)f.push(p(this,c,b));else{f=[];for(c=0;c<e;++c)f.push(p(this,c,b));this.vc[b]=f}}};a.Bn=function(a,b){if(0>a||0>b)return null;var c=x(b/this.Gb);if(c>=this.vc.length)return null;var c=this.vc[c],e=x(a/this.ub);return e>=c.length?null:c[e]};a.Cn=function(a,b){if(0>a||0>b||b>=this.vc.length)return null;var c=this.vc[b];return a>=c.length?null:c[a]};a.bu=function(a){var b=[];a=a.split(",");var d,g,h,m,l;d=0;for(g=a.length;d<g;++d)if(h=a[d],m=h.indexOf("x"),
-1<m)for(l=parseInt(h.substring(0,m),10),h=h.substring(m+1),m=parseInt(h,10),-1<h.indexOf("h")&&(m|=c),-1<h.indexOf("v")&&(m|=f),-1<h.indexOf("d")&&(m|=e);0<l;--l)b.push(m);else m=parseInt(h,10),-1<h.indexOf("h")&&(m|=c),-1<h.indexOf("v")&&(m|=f),-1<h.indexOf("d")&&(m|=e),b.push(m);for(d=a=0;d<this.Zd;++d)for(g=0;g<this.wd;++g)l=b[a++],(h=this.Bn(g,d))&&h.Tp(g%this.ub,d%this.Gb,l)};a.Gz=function(){var a="";if(0>=this.wd||0>=this.Zd)return a;var d=1,g=this.gs(0,0),h,m,l,p,n,q,u,D;p=x(this.width/this.kc);
m=x(this.height/this.jc);for(h=0;h<m;++h)for(l=0===h?1:0;l<p;++l)n=this.gs(l,h),n===g?++d:(-1===g?(q=-1,g=D=u=!1):(q=g&b,u=0!==(g&c),D=0!==(g&f),g=0!==(g&e)),a=1===d?a+(""+q):a+(""+d+"x"+q),u&&(a+="h"),D&&(a+="v"),g&&(a+="d"),a+=",",d=1,g=n);-1===g?(q=-1,g=D=u=!1):(q=g&b,u=0!==(g&c),D=0!==(g&f),g=0!==(g&e));a=1===d?a+(""+q):a+(""+d+"x"+q);u&&(a+="h");D&&(a+="v");g&&(a+="d");return a};a.gs=function(a,b){a=Math.floor(a);b=Math.floor(b);if(0>a||0>b||a>=this.wd||b>=this.Zd)return-1;var c=this.Bn(a,b);
return c?c.Le[b%this.Gb][a%this.ub]:-1};a.Tp=function(a,b,c){a=Math.floor(a);b=Math.floor(b);if(0>a||0>b||a>=this.wd||b>=this.Zd)return-1;var e=this.Bn(a,b);if(!e)return-1;e.Tp(a%this.ub,b%this.Gb,c)};a.Pu=function(a){return Math.floor((a-this.x)/(this.ub*this.kc))};a.Qu=function(a){return Math.floor((a-this.y)/(this.Gb*this.jc))};a.Fi=function(a,b){var c=this.Qu(a.top),e=this.Pu(a.right),f=this.Qu(a.bottom),d,g,h;for(d=this.Pu(a.left);d<=e;++d)for(g=c;g<=f;++g)if(h=this.Cn(d,g))h.Aj(),Ka(b,h.oc)};
a.nh=function(a){var b,c,e,f,d,g;b=0;for(c=this.vc.length;b<c;++b)for(d=this.vc[b],e=0,f=d.length;e<f;++e)g=d[e],g.Aj(),Ka(a,g.oc)};a.xd=function(){var a,b,c,e,f;a=0;for(b=this.vc.length;a<b;++a){f=this.vc[a];c=0;for(e=f.length;c<e;++c){for(var d=f[c],g=void 0,h=void 0,g=0,h=d.Ub.length;g<h;++g)q(d.Ub[g]);M(d.Ub);g=0;for(h=d.oc.length;g<h;++g)l(d.oc[g]);M(d.oc);1E3>H.length&&H.push(d)}M(f)}M(this.vc)};a.Ua=function(){this.ep();return{w:x(this.width/this.kc),h:x(this.height/this.jc),d:this.Gz()}};
a.ab=function(a){this.wd=a.w;this.Zd=a.h;this.ep(!0);this.bu(a.d);this.Jj=!0;this.um()};a.Qc=function(a){if(!(0>=this.kc||0>=this.jc)){this.type.dp(this.kc,this.jc,this.gq,this.iq,this.hq,this.jq,this.eg);if(this.width!==this.cf||this.height!==this.bf)this.Jj=!0,this.um(),this.cp(),this.cf=this.width,this.bf=this.height;a.globalAlpha=this.opacity;var b=this.p,c=b.xa,e=b.ya,f=b.Ba,b=b.Aa,d=this.x,g=this.y,h=this.eg,m;this.b.hd&&(d=Math.round(d),g=Math.round(g));var l=this.ub*this.kc,p=this.Gb*this.jc,
n=Math.floor((c-d)/l),l=Math.floor((f-d)/l),q=Math.floor((e-g)/p),p=Math.floor((b-g)/p),u=d%this.kc,F=g%this.jc;this.eg&&(F=u=0);if(0!==u||0!==F)a.save(),a.translate(u,F),d-=u,g-=F,c-=u,e-=F,f-=u,b-=F;for(var C,X,z,w,G,O,Q,K,L;n<=l;++n)for(C=q;C<=p;++C)if(X=this.Cn(n,C))for(X.Aj(),z=0,w=X.Ub.length;z<w;++z)G=X.Ub[z],-1!==G.id&&(m=G.za,O=m.left+d,Q=m.top+g,K=m.right+d,m=m.bottom+g,O>f||K<c||Q>b||m<e||(L=this.type.Aq(G.Lm,G.Oi,G.kk,G.uh,this.eg),h?a.drawImage(L,O,Q):(a.fillStyle=this.type.Aq(G.Lm,G.Oi,
G.kk,G.uh,this.eg),a.fillRect(O,Q,K-O,m-Q))));0===u&&0===F||a.restore()}};var F=new wa(0,0,1,1);a.Hf=function(a){this.Jb(a)};a.Jb=function(a){if(!(0>=this.kc||0>=this.jc)){this.type.dp(this.kc,this.jc,this.gq,this.iq,this.hq,this.jq,this.eg);if(this.width!==this.cf||this.height!==this.bf)this.Jj=!0,this.um(),this.cp(),this.cf=this.width,this.bf=this.height;a.jf(this.opacity);var b=this.type.tg,c=this.p,e=c.xa,f=c.ya,d=c.Ba,c=c.Aa,g=this.x,h=this.y,m;this.b.hd&&(g=Math.round(g),h=Math.round(h));var l=
this.ub*this.kc,p=this.Gb*this.jc,n=Math.floor((d-g)/l),q=Math.floor((f-h)/p),p=Math.floor((c-h)/p),u,H,C,X,z,w,G,O,Q,K,L,S,ea,N,na,ja,Ba;for(na=Math.floor((e-g)/l);na<=n;++na)for(ja=q;ja<=p;++ja)if(Ba=this.Cn(na,ja))for(Ba.Aj(),l=0,u=Ba.Ub.length;l<u;++l)H=Ba.Ub[l],-1!==H.id&&(m=H.za,C=m.left+g,X=m.top+h,z=m.right+g,m=m.bottom+h,C>d||z<e||X>c||m<f||(a.qb(b[H.Lm]),F.right=(z-C)/this.kc,F.bottom=(m-X)/this.jc,H.dr?(H.uh&&(N=F.right,F.right=F.bottom,F.bottom=N),G=w=0,O=F.right,Q=0,K=F.right,L=F.bottom,
S=0,ea=F.bottom,H.uh&&(N=S,S=O,O=N,N=ea,ea=Q,Q=N),H.Oi&&(N=w,w=O,O=N,N=G,G=Q,Q=N,N=S,S=K,K=N,N=ea,ea=L,L=N),H.kk&&(N=w,w=S,S=N,N=G,G=ea,ea=N,N=O,O=K,K=N,N=Q,Q=L,L=N),a.Cp(C,X,z,X,z,m,C,m,w,G,O,Q,K,L,S,ea)):a.ae(C,X,z,X,z,m,C,m,F)))}};m.k=new function(){};m.u=new function(){};m.J=new function(){}})();function Ic(d){this.b=d}
(function(){function d(a){a%=b.length;0>a&&(a+=b.length);return a}function q(){var a,c,e,f;a=0;for(c=b.length;a<c;++a)e=b[a],(f=b[d(a-1)])&&!e&&(g=a),!f&&e&&(F=a)}var n=Ic.prototype;n.R=function(a){this.wa=a;this.b=a.b};var l=n.R.prototype,p=!1,u=null,m=null;l.I=function(){this.P||p||(p=!0,u=new Image,u.Qk=15E3,this.b.Xm(u,"penumbra.png"))};l.Zh=function(){if(!this.P){this.Wc=this.la=null;var a,b,c;a=0;for(b=this.j.length;a<b;++a)c=this.j[a],c.la=null,c.Wc=null}};l.Gj=function(){if(!this.P){var a,
b;a=0;for(b=this.j.length;a<b;++a)this.j[a].yr()}};n.L=function(a){this.type=a;this.b=a.b};l=n.L.prototype;l.I=function(){if(!m){var a=u.width,b=u.height,c=document.createElement("canvas");c.width=a;c.height=b;c=c.getContext("2d");c.clearRect(0,0,a,b);c.drawImage(u,0,0,a,b);m=c.getImageData(0,0,a,b).data}this.Rf=this.x;this.Sf=this.y;this.Ls=this.q[0];this.Dc=1E3;this.Qh=this.q[1];this.or=this.q[2];this.tag=this.q[3];this.So=this.To=this.Uo=0;this.Es=this.x;this.Fs=this.y;this.Wc=this.la=null;this.b.C?
this.yr():this.Qh=0;this.b.RB(this)};l.pr=function(a){return 1===this.or?vb(this.tag,a):2===this.or?!vb(this.tag,a):!0};l.dh=function(){if(this.Es!==this.x||this.Fs!==this.y)this.Rf=this.x,this.Sf=this.y;var a=this.p,b=(a.xa+a.Ba)/2,c=(a.ya+a.Aa)/2,e=a.Ba-a.xa+this.Dc,f=a.Aa-a.ya+this.Dc;if(b!==this.x||c!==this.y||e!==this.width||f!==this.height)this.x=b,this.y=c,this.width=e,this.height=f,this.G();this.Es=this.x;this.Fs=this.y;this.Dc=1.5*Za(a.xa,a.ya,a.Ba,a.Aa)};l.xd=function(){this.b.C&&(this.la&&
(this.b.C.deleteTexture(this.la),this.la=null),this.Wc&&(this.b.C.deleteTexture(this.Wc),this.Wc=null))};l.Ua=function(){return{}};l.ab=function(){};var a=[],c=[];l.es=function(){this.b.Vp&&(this.b.tl(this.p,this.b.Vp.ip,this.U,a),jb(a))};var f=[],e=0,b=[],h=[],g=-1,H=-1,F=-1,t=-1,k=0,r=0,A=[],y=0,v=0,V=0,B=0,W=0,J=0,D=0,E=0,I=new pb([]);l.Qc=function(e){this.es();e.save();e.fillStyle="rgba("+this.Uo+","+this.To+","+this.So+","+this.opacity+")";var f,d,g,k,h,m,l,p,n,u;f=0;for(d=a.length;f<d;++f)if(g=
a[f],g.F.shadowcasterEnabled&&this.pr(g.F.shadowcasterTag))if(g.ba(),l=g.F.shadowcasterHeight,g.of){g.Fi(this.U,c);p=g.x;n=g.y;g=0;for(k=c.length;g<k;++g){h=c[g];u=h.za;h.ec?(h=h.ec,m=u.left,u=u.top):(I.Je(u,0,0),h=I,u=m=0);this.Lk(h,p+m,n+u,l,!1);e.beginPath();e.moveTo(A[0],A[1]);h=2;for(m=A.length;h<m;h+=2)e.lineTo(A[h],A[h+1]);e.closePath();e.fill();M(b);M(A)}M(c)}else{g.T&&!g.T.xe()?(g.T.Pd(g.width,g.height,g.n),h=g.T):(I.kf(g.tb,g.x,g.y,g.width,g.height),h=I);this.Lk(h,g.x,g.y,l,$a(0>g.width,
0>g.height));e.beginPath();e.moveTo(A[0],A[1]);g=2;for(k=A.length;g<k;g+=2)e.lineTo(A[g],A[g+1]);e.closePath();e.fill();M(b);M(A)}e.restore();M(a)};l.Bz=function(a,b,c,d){e=a.tc;M(f);var g,h=a.La;r=k=0;var m;for(m=0;m<e;++m)g=2*m,a=h[g]+b,g=h[g+1]+c,d?(f.unshift(g),f.unshift(a)):(f.push(a),f.push(g)),k+=a,r+=g;k/=e;r/=e};l.Lk=function(a,c,d,k,m){this.Bz(a,c,d,m);var l;M(b);M(h);M(A);t=H=F=g=-1;d=this.Rf;m=this.Sf;if(0<this.Qh)this.zn(-this.Qh),q(),Ia(h,b),H=g,t=F,M(b),F=g=-1,this.zn(this.Qh),q(),
-1!==g&&-1!==F&&-1!==H&&-1!==t&&this.Gx();else for(this.zn(0),q(),a=0;a<e;++a)l=2*a,c=f[l],l=f[l+1],this.Fx(a,d,m,c,l,k)};l.Fx=function(a,c,e,f,k,h){var m;m=b[d(a-1)];var l=a===g,p=a===F;b[a]||m?(a=Ta(c,e,f,k),m=Za(c,e,f,k),h=this.Hx(c,e,f,k,h),c+=Math.cos(a)*(m+h),e+=Math.sin(a)*(m+h)):(c=f,e=k);p&&(A.push(f),A.push(k));A.push(c);A.push(e);l&&(A.push(f),A.push(k))};l.zn=function(a){var c=this.Rf,d=this.Sf,g=c,h=d,m,l,p,n,u;for(m=0;m<e;++m)l=2*m,p=m+1,p=p===e?0:2*p,n=f[l],l=f[l+1],u=f[p],p=f[p+1],
0!==a&&(h=Ta(c,d,k,r)-Math.PI/2,g=c+Math.cos(h)*a,h=d+Math.sin(h)*a),b.push(Va(Ta(n,l,g,h),Ta(n,l,u,p)-Math.PI/2)>=Math.PI/2)};var U=0,P=0;l.Gx=function(){for(var a=H,b,c,d;a=a%e,b=2*a,c=f[b],d=f[b+1],A.push(c),A.push(d),a!==F;++a);var g=this.Qh,h=Ta(this.Rf,this.Sf,k,r),a=this.Rf+Math.cos(h-Math.PI/2)*g,m=this.Sf+Math.sin(h-Math.PI/2)*g,h=Ta(a,m,c,d),l=Za(a,m,c,d),a=a+Math.cos(h)*(l+this.Dc),m=m+Math.sin(h)*(l+this.Dc);b=2*H;var p=f[b];b=f[b+1];var h=Ta(this.Rf,this.Sf,k,r),n=this.Rf+Math.cos(h+
Math.PI/2)*g,u=this.Sf+Math.sin(h+Math.PI/2)*g,h=Ta(n,u,p,b),l=Za(n,u,p,b),g=n+Math.cos(h)*(l+this.Dc),h=u+Math.sin(h)*(l+this.Dc);W=c;J=d;y=p;v=b;var q,t,I,l=a-c,n=m-d;q=g-p;t=h-b;I=-q*n+l*t;0===I?c=!1:(u=(-n*(c-p)+l*(d-b))/I,I=-q*n+l*t,0===I?c=!1:(p=(q*(d-b)-t*(c-p))/I,0<=u&&1>=u&&0<=p&&1>=p?(U=c+p*l,P=d+p*n,c=!0):c=!1));c?(A.push(U),A.push(P),D=U,E=P,V=U,B=P):(A.push(a),A.push(m),A.push(g),A.push(h),D=a,E=m,V=g,B=h)};l.Hx=function(a,b,c,e,f){if(f>=this.Ls)return this.Dc;if(0>=f)return 0;a=Za(a,
b,c,e);a=Math.atan(a/(this.Ls-f));f=f*Math.tan(a);f>=this.Dc&&(f=this.Dc);0>f&&(f=0);return f};l.Jb=function(e){e.jf(this.opacity);this.es();var f,d,h,k,m,l,p,n,u,q;f=0;for(d=a.length;f<d;++f)if(h=a[f],h.F.shadowcasterEnabled&&this.pr(h.F.shadowcasterTag))if(h.ba(),m=h.F.shadowcasterHeight,h.of){h.Fi(this.U,c);p=h.x;n=h.y;h=0;for(k=c.length;h<k;++h)l=c[h],u=l.za,l.ec?(l=l.ec,q=u.left,u=u.top):(I.Je(u,0,0),l=I,u=q=0),this.Lk(l,p+q,n+u,m,!1),6>A.length||(e.qb(this.la),e.ur(A),-1<g&&-1<H&&(e.qb(this.Wc),
this.dl(e,!0)),-1<F&&-1<t&&(e.qb(this.Wc),this.dl(e,!1)),M(b),M(A));M(c)}else h.T&&!h.T.xe()?(h.T.Pd(h.width,h.height,h.n),l=h.T):(I.kf(h.tb,h.x,h.y,h.width,h.height),l=I),this.Lk(l,h.x,h.y,m,$a(0>h.width,0>h.height)),6>A.length||(e.qb(this.la),e.ur(A),-1<g&&-1<H&&(e.qb(this.Wc),this.dl(e,!0)),-1<F&&-1<t&&(e.qb(this.Wc),this.dl(e,!1)),M(b),M(A));M(a)};l.dl=function(a,b){var c=this.Rf,e=this.Sf,d,h,m,l,p,n;b?(m=y,l=v,p=V,n=B):(m=W,l=J,p=D,n=E);var u=this.Qh,q=Ta(c,e,k,r),A=Math.PI/2;b&&(A=-A);c+=Math.cos(q+
A)*u;e+=Math.sin(q+A)*u;u=!1;if(b){if(u=g!==H)d=f[2*g],h=f[2*g+1]}else if(u=F!==t)d=f[2*t],h=f[2*t+1];var q=u?Ta(d,h,m,l):Ta(c,e,m,l),A=m+Math.cos(q)*this.Dc,I=l+Math.sin(q)*this.Dc,P,U,ga,Ua=ga=0,Ja=1;u&&(ga=Ta(c,e,d,h),P=d+Math.cos(ga)*this.Dc,U=h+Math.sin(ga)*this.Dc,c=Ta(m,l,p,n),ga=Va(q,ga)/Va(c,ga),q=Za(d,h,m,l),q=q/(q+this.Dc),c=Ta(0,1,ga,0),e=Za(0,1,ga,0),Ua+=Math.cos(c)*q*e,Ja+=Math.sin(c)*q*e);a.Cp(m,l,p,n,A,I,A,I,Ua,Ja,1,0,ga,0,ga,0);u&&a.Cp(d,h,A,I,P,U,P,U,0,1,ga,0,0,0,0,0)};l.yr=function(){this.b.C&&
(this.la&&(this.b.C.deleteTexture(this.la),this.la=null),this.Wc&&(this.b.C.deleteTexture(this.Wc),this.Wc=null),this.Rx(),this.Ux())};l.Rx=function(){var a=document.createElement("canvas");a.width=16;a.height=16;var b=a.getContext("2d");b.fillStyle="rgb("+this.Uo+","+this.To+","+this.So+")";b.fillRect(0,0,16,16);this.la=this.b.C.pc(16,16,!1,!1,!0);this.b.C.Wm(a,this.la)};l.Ux=function(){var a=u.width,b=u.height,c=this.Uo,e=this.To,f=this.So,d=m,g=document.createElement("canvas");g.width=a;g.height=
b;var h=g.getContext("2d"),k=h.createImageData(a,b),l=k.data,p,n;p=0;for(n=l.length;p<n;p+=4)l[p]=c,l[p+1]=e,l[p+2]=f,l[p+3]=d[p+3];h.putImageData(k,0,0);this.Wc=this.b.C.pc(a,b,this.b.Ra,!1,!1);this.b.C.Wm(g,this.Wc)};n.k=new function(){};n.u=new function(){};n.J=new function(){}})();function Jc(d){this.b=d}
(function(){function d(){}var q=Jc.prototype;q.R=function(d){this.behavior=d;this.b=d.b};q.R.prototype.I=function(){};q.L=function(d,p){this.type=d;this.behavior=d.behavior;this.i=p;this.b=d.b};var n=q.L.prototype;n.I=function(){this.$q=this.q[0];this.br=this.q[1];this.xx=this.q[2];this.wx=this.q[3];this.i.ba();this.Zm=this.i.U.left;this.bn=this.i.U.top;this.$m=this.b.Ta-this.i.U.left;this.an=this.b.Sa-this.i.U.top;this.lm=this.b.Ta-this.i.U.right;this.Hk=this.b.Sa-this.i.U.bottom;this.enabled=0!==
this.q[4]};n.Ua=function(){return{xleft:this.Zm,ytop:this.bn,xright:this.$m,ybottom:this.an,rdiff:this.lm,bdiff:this.Hk,enabled:this.enabled}};n.ab=function(d){this.Zm=d.xleft;this.bn=d.ytop;this.$m=d.xright;this.an=d.ybottom;this.lm=d.rdiff;this.Hk=d.bdiff;this.enabled=d.enabled};n.Ma=function(){if(this.enabled){var d,p=this.i.p,n=this.i,m=this.i.U;0===this.$q?(n.ba(),d=p.xa+this.Zm-m.left,0!==d&&(n.x+=d,n.G())):1===this.$q&&(n.ba(),d=p.Ba-this.$m-m.left,0!==d&&(n.x+=d,n.G()));0===this.br?(n.ba(),
d=p.ya+this.bn-m.top,0!==d&&(n.y+=d,n.G())):1===this.br&&(n.ba(),d=p.Aa-this.an-m.top,0!==d&&(n.y+=d,n.G()));1===this.xx&&(n.ba(),d=p.Ba-this.lm-m.right,0!==d&&(n.width+=d,0>n.width&&(n.width=0),n.G()));1===this.wx&&(n.ba(),d=p.Aa-this.Hk-m.bottom,0!==d&&(n.height+=d,0>n.height&&(n.height=0),n.G()))}};q.k=new function(){};d.prototype.le=function(d){this.enabled&&0===d?this.enabled=!1:this.enabled||0===d||(this.i.ba(),this.Zm=this.i.U.left,this.bn=this.i.U.top,this.$m=this.b.Ta-this.i.U.left,this.an=
this.b.Sa-this.i.U.top,this.lm=this.b.Ta-this.i.U.right,this.Hk=this.b.Sa-this.i.U.bottom,this.enabled=!0)};q.u=new d;q.J=new function(){}})();function Kc(d){this.b=d}
(function(){function d(){}function q(){}var n=Kc.prototype;n.R=function(d){this.behavior=d;this.b=d.b};n.R.prototype.I=function(){};n.L=function(d,l){this.type=d;this.behavior=d.behavior;this.i=l;this.b=d.b};var l=n.L.prototype;l.I=function(){var d=this.q[0];this.Va=this.q[1];this.nl=this.q[2];this.Cx=0!==this.q[3];this.Qp=0!==this.q[4];this.O=Math.cos(this.i.n)*d;this.M=Math.sin(this.i.n)*d;this.Il=this.i.x;this.Jl=this.i.y;this.Xd=this.i.n;this.ek=0;this.enabled=0!==this.q[5]};l.Ua=function(){return{acc:this.Va,
g:this.nl,dx:this.O,dy:this.M,lx:this.Il,ly:this.Jl,lka:this.Xd,t:this.ek,e:this.enabled}};l.ab=function(d){this.Va=d.acc;this.nl=d.g;this.O=d.dx;this.M=d.dy;this.Il=d.lx;this.Jl=d.ly;this.Xd=d.lka;this.ek=d.t;this.enabled=d.e};l.Ma=function(){if(this.enabled){var d=this.b.zh(this.i),l,m;this.i.n!==this.Xd&&(this.Qp&&(l=Za(0,0,this.O,this.M),this.O=Math.cos(this.i.n)*l,this.M=Math.sin(this.i.n)*l),this.Xd=this.i.n);0!==this.Va&&(l=Za(0,0,this.O,this.M),m=0===this.O&&0===this.M?this.i.n:Ta(0,0,this.O,
this.M),l+=this.Va*d,0>l&&(l=0),this.O=Math.cos(m)*l,this.M=Math.sin(m)*l);0!==this.nl&&(this.M+=this.nl*d);this.Il=this.i.x;this.Jl=this.i.y;if(0!==this.O||0!==this.M)if(this.i.x+=this.O*d,this.i.y+=this.M*d,this.ek+=Za(0,0,this.O*d,this.M*d),this.Qp&&(this.i.n=Ta(0,0,this.O,this.M),this.i.G(),this.Xd=this.i.n),this.i.G(),this.Cx&&(l=this.b.Ed(this.i)))this.b.ci(this.i,l),l=Za(0,0,this.O,this.M),m=this.b.Ix(this.i,this.Il,this.Jl),this.O=Math.cos(m)*l,this.M=Math.sin(m)*l,this.i.x+=this.O*d,this.i.y+=
this.M*d,this.i.G(),this.Qp&&(this.Xd=this.i.n=m,this.i.G()),this.b.Pt(this.i,this.O/l,this.M/l,Math.max(2.5*l*d,30))||this.b.Qt(this.i,100)}};d.prototype.hv=function(d,l){return mc(this.ek,d,l)};n.k=new d;q.prototype.wk=function(d){var l=Ta(0,0,this.O,this.M);this.O=Math.cos(l)*d;this.M=Math.sin(l)*d};q.prototype.vk=function(d){this.Va=d};q.prototype.le=function(d){this.enabled=1===d};n.u=new q;n.J=new function(){}})();function Lc(d){this.b=d}
(function(){function d(){}function q(){}var n=Lc.prototype;n.R=function(d){this.behavior=d;this.b=d.b};n.R.prototype.I=function(){};n.L=function(d,l){this.type=d;this.behavior=d.behavior;this.i=l;this.b=d.b;this.Cm=this.Bm=this.Am=this.Dm=this.ro=this.Tj=this.pj=this.yi=this.gk=!1;this.No=this.Mo=this.Lo=this.Oo=-1;this.M=this.O=0};var l=n.L.prototype;l.I=function(){this.ze=this.q[0];this.Va=this.q[1];this.Pc=this.q[2];this.Pn=this.q[3];this.tn=this.q[4];this.Vx=1===this.q[5];this.enabled=0!==this.q[6];
this.Vx&&!this.b.na&&(jQuery(document).keydown(function(d){return function(l){d.rp(l)}}(this)),jQuery(document).keyup(function(d){return function(l){d.sp(l)}}(this)))};l.Ua=function(){return{dx:this.O,dy:this.M,enabled:this.enabled,maxspeed:this.ze,acc:this.Va,dec:this.Pc,ignoreInput:this.ro}};l.ab=function(d){this.O=d.dx;this.M=d.dy;this.enabled=d.enabled;this.ze=d.maxspeed;this.Va=d.acc;this.Pc=d.dec;this.ro=d.ignoreInput;this.Cm=this.Bm=this.Am=this.Dm=this.Tj=this.pj=this.yi=this.gk=!1;this.No=
this.Mo=this.Lo=this.Oo=-1};l.rp=function(d){var l=this.b.Xc;switch(d.which){case 37:d.preventDefault();this.Mo<l&&(this.pj=!0);break;case 38:d.preventDefault();this.Oo<l&&(this.gk=!0);break;case 39:d.preventDefault();this.No<l&&(this.Tj=!0);break;case 40:d.preventDefault(),this.Lo<l&&(this.yi=!0)}};l.sp=function(d){var l=this.b.Xc;switch(d.which){case 37:d.preventDefault();this.pj=!1;this.Mo=l;break;case 38:d.preventDefault();this.gk=!1;this.Oo=l;break;case 39:d.preventDefault();this.Tj=!1;this.No=
l;break;case 40:d.preventDefault(),this.yi=!1,this.Lo=l}};l.$f=function(){this.Tj=this.pj=this.yi=this.gk=!1};l.Ma=function(){var d=this.b.zh(this.i),l=this.pj||this.Bm,m=this.Tj||this.Cm,a=this.gk||this.Dm,c=this.yi||this.Am;this.Am=this.Dm=this.Cm=this.Bm=!1;if(this.enabled){var f=this.b.Ed(this.i);if(f&&(this.b.ci(this.i,f),!this.b.Qt(this.i)))return;this.ro&&(c=a=m=l=!1);0===this.Pn?m=l=!1:1===this.Pn&&(c=a=!1);2===this.Pn&&(a||c)&&(m=l=!1);l==m&&(0>this.O?(this.O+=this.Pc*d,0<this.O&&(this.O=
0)):0<this.O&&(this.O-=this.Pc*d,0>this.O&&(this.O=0)));a==c&&(0>this.M?(this.M+=this.Pc*d,0<this.M&&(this.M=0)):0<this.M&&(this.M-=this.Pc*d,0>this.M&&(this.M=0)));l&&!m&&(this.O=0<this.O?this.O-(this.Va+this.Pc)*d:this.O-this.Va*d);m&&!l&&(this.O=0>this.O?this.O+(this.Va+this.Pc)*d:this.O+this.Va*d);a&&!c&&(this.M=0<this.M?this.M-(this.Va+this.Pc)*d:this.M-this.Va*d);c&&!a&&(this.M=0>this.M?this.M+(this.Va+this.Pc)*d:this.M+this.Va*d);if(0!==this.O||0!==this.M){Math.sqrt(this.O*this.O+this.M*this.M)>
this.ze&&(f=Math.atan2(this.M,this.O),this.O=this.ze*Math.cos(f),this.M=this.ze*Math.sin(f));m=this.i.x;a=this.i.y;l=this.i.n;this.i.x+=this.O*d;this.i.G();if(f=this.b.Ed(this.i))this.i.x=m,this.O=0,this.i.G(),this.b.ci(this.i,f);this.i.y+=this.M*d;this.i.G();if(f=this.b.Ed(this.i))this.i.y=a,this.M=0,this.i.G(),this.b.ci(this.i,f);d=ub(this.O);f=ub(this.M);0===d&&0===f||!this.i.type.wa.qA||(1===this.tn?this.i.n=Sa(90*Math.round(Oa(Math.atan2(f,d))/90)):2===this.tn?this.i.n=Sa(45*Math.round(Oa(Math.atan2(f,
d))/45)):3===this.tn&&(this.i.n=Math.atan2(f,d)));this.i.G();this.i.n!=l&&(f=this.b.Ed(this.i))&&(this.i.n=l,this.i.G(),this.b.ci(this.i,f))}}};d.prototype.ok=function(){return 0!==this.O||0!==this.M};n.k=new d;q.prototype.kh=function(){this.M=this.O=0};q.prototype.wk=function(d){0>d&&(d=0);d>this.ze&&(d=this.ze);var l=Math.atan2(this.M,this.O);this.O=d*Math.cos(l);this.M=d*Math.sin(l)};q.prototype.jn=function(d){this.ze=d;0>this.ze&&(this.ze=0)};q.prototype.vk=function(d){this.Va=d;0>this.Va&&(this.Va=
0)};q.prototype.Zw=function(d){switch(d){case 0:this.Bm=!0;break;case 1:this.Cm=!0;break;case 2:this.Dm=!0;break;case 3:this.Am=!0}};q.prototype.le=function(d){this.enabled=1===d};n.u=new q;n.J=new function(){}})();function Nc(d){this.b=d}
(function(){function d(){}var q=Nc.prototype;q.R=function(a){this.behavior=a;this.b=a.b};var n=q.R.prototype;n.I=function(){this.fd=[]};n.hz=function(a){var c,f,e;c=0;for(f=a.V.length;c<f;++c)if(e=a.V[c],e instanceof Nc.prototype.L&&e.type===this)return e;return null};q.L=function(a,c){this.type=a;this.behavior=a.behavior;this.i=c;this.b=a.b};n=q.L.prototype;n.I=function(){this.FA=this.q[0];this.Ep=this.q[1];this.Gn=R(this.q[2]);this.Lu=0!==this.q[3]};n.xd=function(){};n.Ua=function(){var a={r:this.Ep,
c:this.Gn,t:[]},c,f;c=0;for(f=this.type.fd.length;c<f;c++)a.t.push(this.type.fd[c].ka);return a};n.ab=function(a){this.Ep=a.r;this.Gn=a.c;M(this.type.fd);var c,f,e;c=0;for(f=a.t.length;c<f;c++)(e=this.b.Eg(a.t[c]))&&this.type.fd.push(e)};n.Ma=function(){};var l=[],p=new wa(0,0,0,0);n.$z=function(a,c){var f=this.i.x,e=this.i.y,b=this.i.n;0>this.i.width&&(b+=Math.PI);if(Za(f,e,a,c)>this.Ep||Va(b,Ta(f,e,a,c))>this.Gn/2)return!1;var d,g;p.set(f,e,a,c);p.normalize();if(0===this.FA)for(this.Lu?this.b.ko(this.i.p,
p,l):(b=this.b.aq)&&Ka(l,b.Cj.md()),b=0,d=l.length;b<d;++b){if(g=l[b],g.F.solidEnabled&&g!==this.i&&this.b.pu(f,e,a,c,g))return M(l),!1}else{if(this.Lu)this.b.tl(this.i.p,this.type.fd,p,l);else for(b=0,d=this.type.fd.length;b<d;++b)Ka(l,this.type.fd[b].j);b=0;for(d=l.length;b<d;++b)if(g=l[b],g!==this.i&&this.b.pu(f,e,a,c,g))return M(l),!1}M(l);return!0};var u=new ca,m=new ca;d.prototype.rv=function(a){if(!a)return!1;var c,d,e,b,h,g,l,n,p=this.b.sz().aa();a=a.aa();var k=p.qc(),q=a.qc();p.da&&M(p.ga);
a.da&&M(a.ga);var A=this.b.Bg().Ti;c=0;for(e=k.length;c<e;++c){h=k[c];n=!1;g=this.hz(h);d=0;for(b=q.length;d<b;++d)l=q[d],h!==l&&$a(g.$z(l.x,l.y),A)&&(n=!0,m.add(l));n&&u.add(h)}c=u.md();d=m.md();p.da=!1;a.da=!1;Ia(p.j,c);Ia(a.j,d);u.clear();m.clear();return p.xl()};q.k=new d;q.u=new function(){};q.J=new function(){}})();function Oc(d){this.b=d}
(function(){function d(){}function q(){}var n={},l=Oc.prototype;l.Yh=function(){var a,c;for(a in n)n.hasOwnProperty(a)&&(c=n[a],c.ff.unsetReady(),c.Pj=!0)};l.R=function(a){this.behavior=a;this.b=a.b};l.R.prototype.I=function(){this.fd=[];this.Oe=[]};l.L=function(a,c){this.type=a;this.behavior=a.behavior;this.i=c;this.b=a.b};var p=l.L.prototype;p.I=function(){this.Za=this.q[0];3>this.Za&&(this.Za=3);this.Qd=this.q[1];this.GA=this.q[2];this.ed=this.q[3];this.Va=this.q[4];this.Pc=this.q[5];this.Ck=R(this.q[6]);
this.nm=0!==this.q[7];this.bl=0!==this.q[8];this.enabled=0!==this.q[9];this.Bh=this.Ei=this.Bj=this.Lb=!1;this.Ec=0;this.Xd=this.nd=this.i.n;this.bi=this.ee=this.be=this.fb=0;this.Zf=Math.ceil(this.b.pa.width/this.Za);this.Ug=Math.ceil(this.b.pa.height/this.Za);this.bb=[];this.sh=!1;this.$k=this.Zk=0;this.Ui=this.El=!1;this.nr=this.mr=0;this.Qr=!0;var a=this;this.gc||(this.XA=function(){a.El||(a.Ui=!1,a.Ox(),a.Bh=0<a.bb.length,a.Ec=0,a.b.trigger(Oc.prototype.k.Nq,a.i),a.Qn())},this.WA=function(){a.El||
(a.Ui=!1,a.sr(),a.Bh=!1,a.Lb=!1,a.Ec=0,a.b.trigger(Oc.prototype.k.Vv,a.i),a.Qn())})};p.xd=function(){this.El=!0;this.sh=!1};p.Ua=function(){var a={cs:this.Za,cb:this.Qd,ms:this.ed,acc:this.Va,dec:this.Pc,av:this.Ck,re:this.nm,de:this.bl,im:this.Lb,mfs:this.Bj,ftmwm:this.Ei,hp:this.Bh,mn:this.Ec,a:this.nd,lka:this.Xd,s:this.fb,rx:this.be,ry:this.ee,ra:this.bi,myhc:this.Zf,myvc:this.Ug,path:this.bb,en:this.enabled,fr:this.Qr,obs:[],costs:[]};this.Ui?(a.dfp=!0,a.dpx=this.mr,a.dpy=this.nr):(a.dfp=this.sh,
a.dpx=this.Zk,a.dpy=this.$k);var c,d;c=0;for(d=this.type.fd.length;c<d;c++)a.obs.push(this.type.fd[c].ka);c=0;for(d=this.type.Oe.length;c<d;c++)a.costs.push({sid:this.type.Oe[c].Da.ka,cost:this.type.Oe[c].xr});return a};p.ab=function(a){this.Za=a.cs;this.Qd=a.cb;this.ed=a.ms;this.Va=a.acc;this.Pc=a.dec;this.Ck=a.av;this.nm=a.re;this.bl=a.de;this.Lb=a.im;this.Bj=a.mfs;this.Ei=a.ftmwm;this.Bh=a.hp;this.Ec=a.mn;this.nd=a.a;this.Xd=a.lka;this.fb=a.s;this.be=a.rx;this.ee=a.ry;this.bi=a.ra;this.Zf=a.myhc;
this.Ug=a.myvc;this.bb=a.path;this.enabled=a.en;this.Qr=a.fr;this.sh=a.dfp;this.Zk=a.dpx;this.$k=a.dpy;M(this.type.fd);var c=a.obs,d,e,b;d=0;for(e=c.length;d<e;d++)(b=this.b.Eg(c[d]))&&this.type.fd.push(b);M(this.type.Oe);a=a.costs;d=0;for(e=a.length;d<e;d++)(b=this.b.Eg(a[d].sid))&&this.type.Oe.push({Da:b,xr:a[d].cost});this.Dg().ff.setDiagonals(this.bl)};p.ne=function(){this.Dg().Pj=!0};p.Ma=function(){if(this.enabled&&this.Lb){this.nm&&this.i.n!==this.Xd&&(this.nd=this.i.n);var a=this.b.zh(this.i),
c,d,e,b,h,g=this.i,m=Math.min(.4*this.ed,2*Math.abs(this.i.width)),l=Math.max(1.5*this.fb,30);this.Ec<this.bb.length?(b=this.bb[this.Ec].x,h=this.bb[this.Ec].y,e=Za(this.be,this.ee,b,h),e<3*l*a&&(this.Ec++,this.be=b,this.ee=h,this.Ec<this.bb.length&&(b=this.bb[this.Ec].x,h=this.bb[this.Ec].y))):(b=this.bb[this.bb.length-1].x,h=this.bb[this.bb.length-1].y);this.bi=Ta(this.be,this.ee,b,h);e=Za(g.x,g.y,this.be,this.ee);e<m&&this.Ec<this.bb.length&&(this.Ei?this.Ei=!1:m=l*a,this.be+=Math.cos(this.bi)*
m,this.ee+=Math.sin(this.bi)*m);c=Ta(g.x,g.y,this.be,this.ee);d=Va(this.nd,c);m=Za(g.x,g.y,this.bb[this.bb.length-1].x,this.bb[this.bb.length-1].y);l=this.ed*this.ed/(2*this.Pc);1<e&&(this.nd=Wa(this.nd,c,this.Ck*a),.5>=Oa(d)?d=this.ed:120<=Oa(d)||this.Bj&&0===this.Ec?(d=0,this.Bj=!0):(c=d/this.Ck,e=Za(g.x,g.y,this.be,this.ee),e=e/(2*Math.sin(d)),d=e*d/c,0>d&&(d=0),d>this.ed&&(d=this.ed)),m<l&&(d=Math.min(d,m/l*this.ed+this.ed/40)),this.fb+=this.Va*a,this.fb>d&&(this.fb=d));g.x+=Math.cos(this.nd)*
this.fb*a;g.y+=Math.sin(this.nd)*this.fb*a;this.nm&&(this.Xd=g.n=this.nd);g.G();this.Ec===this.bb.length&&Za(g.x,g.y,b,h)<Math.max(3*this.fb*a,10)&&(this.Bh=this.Lb=!1,this.fb=this.Ec=0,this.b.trigger(Oc.prototype.k.Dq,g))}};p.dh=function(){this.enabled&&(this.oz(),this.Qn())};p.Qn=function(){this.sh&&!this.El&&(this.sh=!1,this.Gr(this.i.x,this.i.y,this.Zk,this.$k))};p.Dg=function(){var a=""+this.Za+","+this.Qd;n.hasOwnProperty(a)||(n[a]={ff:new window.Pathfinder,cells:null,Pj:!1,Yg:[]});return n[a]};
p.oz=function(){var a=this.Dg();if(!a.ff.isReady()||a.Pj||a.Yg.length){var c,d,e,b,h,g,m,l,n,k;if(!a.ff.isReady()||a.Pj){this.Zf=Math.ceil(this.b.pa.width/this.Za);this.Ug=Math.ceil(this.b.pa.height/this.Za);c=[];b=c.length=this.Zf;h=this.Ug;for(d=0;d<b;++d)for(c[d]=[],c[d].length=h,e=0;e<h;++e)c[d][e]=this.Rt(d,e);a.cells=c;a.ff.init(this.Zf,this.Ug,c,this.bl);a.Pj=!1;M(a.Yg)}else if(a.Yg.length){g=0;for(m=a.Yg.length;g<m;++g){c=a.Yg[g];l=c[0];n=c[1];b=c[2];d=c[3];c=[];b=b-l;h=d-n;c.length=b;for(d=
0;d<b;++d)for(c[d]=[],c[d].length=h,e=0;e<h;++e)k=this.Rt(l+d,n+e),c[d][e]=k,a.cells[l+d][n+e]=k;a.ff.updateRegion(l,n,b,h,c)}M(a.Yg)}}};p.sr=function(){var a,c;a=0;for(c=this.bb.length;a<c;a++)window.freeResultNode(this.bb[a]);M(this.bb)};p.Ox=function(){var a=this.Dg().ff.pathList;this.sr();var c,d,e,b;c=0;for(d=a.length;c<d;c++)e=a[c],b=window.allocResultNode(),b.x=(e.x+.5)*this.Za,b.y=(e.y+.5)*this.Za,this.bb.push(b)};var u=[],m=new wa;p.Rt=function(a,c){var d,e,b,h,g,l=0;m.left=a*this.Za-this.Qd;
m.top=c*this.Za-this.Qd;m.right=(a+1)*this.Za+this.Qd;m.bottom=(c+1)*this.Za+this.Qd;if(0===this.GA){if(this.b.QB(m))return window.PF_OBSTACLE}else{this.b.tl(this.i.p,this.type.fd,m,u);d=0;for(e=u.length;d<e;++d)if(this.b.dq(m,u[d]))return M(u),window.PF_OBSTACLE;u.length=0}d=0;for(e=this.type.Oe.length;d<e;d++){b=this.type.Oe[d].Da;g=this.type.Oe[d].xr;this.b.ql(this.i.p,b,m,u);b=0;for(h=u.length;b<h;++b)this.b.dq(m,u[b])&&(l+=g);M(u)}return l};p.Gr=function(a,c,d,e){var b=this.Dg().ff;if(b.isReady()){this.Ui=
!0;this.mr=d;this.nr=e;a=Math.floor(a/this.Za);c=Math.floor(c/this.Za);d=Math.floor(d/this.Za);e=Math.floor(e/this.Za);var h,g,m,l,n,k,p;if(b.at(d,e)===window.PF_OBSTACLE){h=1E6;for(l=m=g=0;l<this.Zf;l++)for(n=0;n<this.Ug;n++)b.at(l,n)!==window.PF_OBSTACLE&&(k=d-l,p=e-n,k=k*k+p*p,k<h&&(h=k,g=l,m=n));d=g;e=m}b.findPath(a,c,d,e,this.XA,this.WA)}};d.prototype.Nq=function(){return!0};d.prototype.Vv=function(){return!0};d.prototype.ok=function(){return this.Lb};d.prototype.Dq=function(){return!0};l.k=
new d;q.prototype.ov=function(a,c){this.enabled&&(this.Ui||!this.Dg().ff.isReady()?(this.sh=!0,this.Zk=a,this.$k=c):this.Gr(this.i.x,this.i.y,a,c))};q.prototype.bx=function(){this.Bh&&(this.Lb&&(this.Ei=!0),this.Bj=!this.Lb,this.Lb=!0,this.be=this.i.x,this.ee=this.i.y,this.bi=this.i.n)};q.prototype.kh=function(){this.Lb=!1};q.prototype.le=function(a){this.enabled=0!==a};q.prototype.Zu=function(){M(this.type.Oe)};q.prototype.jn=function(a){this.ed=a};q.prototype.wk=function(a){0>a&&(a=0);a>this.ed&&
(a=this.ed);this.fb=a};q.prototype.Bw=function(a){this.Va=a};p.nh=function(a,c,d,e){var b=Math.min(a,d)-this.Qd,h=Math.min(c,e)-this.Qd;a=Math.max(a,d)+this.Qd;c=Math.max(c,e)+this.Qd;b=Math.max(Math.floor(b/this.Za),0);h=Math.max(Math.floor(h/this.Za),0);a=Math.min(Math.ceil(a/this.Za),this.Zf);c=Math.min(Math.ceil(c/this.Za),this.Ug);b>=a||h>=c||this.Dg().Yg.push([b,h,a,c])};l.u=new q;l.J=new function(){}})();function Pc(d){this.b=d}
(function(){function d(d){null==d&&(d={});d.x=0;d.y=0;d.a=-1;return d}function q(d){if(null==d||"object"!=typeof d)return d;var a=d.constructor(),c;for(c in d)d.hasOwnProperty(c)&&(a[c]=d[c]);return a}function n(){}function l(){}var p=Pc.prototype;p.R=function(d){this.behavior=d;this.b=d.b};p.R.prototype.I=function(){};p.L=function(d,a){this.type=d;this.behavior=d.behavior;this.i=a;this.b=d.b};var u=p.L.prototype;u.I=function(){this.enabled=1===this.q[0];this.gc||(this.Fc={});this.Fc.max=this.q[1];
this.Fc.acc=this.q[2];this.Fc.dec=this.q[3];this.KB=1===this.q[4];this.gA=1===this.q[5];this.gc||(this.target={x:0,y:0,a:0});this.Lb=!1;this.Gp=this.dg=this.Td=0;this.gc||(this.He={x:0,y:0});this.He.x=0;this.He.y=0;this.Be=d(this.Be);this.Uh=d(this.Uh);this.Gl=null;this.Fh=!1};u.Ma=function(){this.Gp=0;this.enabled&&this.Lb&&this.move(this.b.zh(this.i))};u.move=function(d){if(0!=d){this.He.x===this.i.x&&this.He.y===this.i.y||this.Tt();var a=!1;0!=this.Fc.dec&&(a=this.Td*this.Td/(2*this.Fc.dec)>=this.dg);
a=a?-this.Fc.dec:this.Fc.acc;0!=a&&this.fi(this.Td+a*d);d=this.Td*d;this.dg-=d;var a=!1,c=this.target.a,f=Math.cos(c),c=Math.sin(c);0>=this.dg||0>=this.Td?(a=!0,this.i.x=this.target.x,this.i.y=this.target.y,0<this.Td&&(this.Gp=-this.dg/this.Td),this.yz(),this.fi(0)):(this.i.x+=d*f,this.i.y+=d*c);this.i.G();var e=!1;if(this.KB){var b=this.b.Ed(this.i);b&&(this.b.ci(this.i,b),this.b.Pt(this.i,-f,-c,Math.max(d,50)),e=!0)}this.He.x=this.i.x;this.He.y=this.i.y;e?(this.Lb=!1,this.Fh=!0,this.b.trigger(Pc.prototype.k.qw,
this.i),this.Fh=!1):a&&(this.Lb=!1,this.Fh=!0,this.b.trigger(Pc.prototype.k.Xv,this.i),this.Fh=!1)}};u.dh=function(){this.Be.x=this.i.x;this.Be.y=this.i.y};u.fi=function(d){null!=d?this.Td=d>this.Fc.max?this.Fc.max:d:0==this.Fc.acc&&(this.Td=this.Fc.max)};u.Tt=function(){var d=this.target.x-this.i.x,a=this.target.y-this.i.y;this.target.a=Math.atan2(a,d);this.dg=Math.sqrt(d*d+a*a);this.He.x=this.i.x;this.He.y=this.i.y};u.GB=function(d,a){this.target.x=d;this.target.y=a;this.fi(null);this.Tt();this.Be.x=
this.i.x;this.Be.y=this.i.y;this.Lb=!0;this.Uh.x=this.i.x;this.Uh.y=this.i.y;this.Uh.a=Ra(Ta(this.i.x,this.i.y,d,a));this.gA&&this.move(this.Gp)};u.nA=function(){var d=this.b.Xc,a=this.Gl!=d;this.Gl=d;return a};u.yz=function(){if(this.nA()){var d=this.i.x-this.Be.x,a=this.i.y-this.Be.y;if(0!=d||0!=a)this.Be.a=Ra(Math.atan2(a,d))}};u.Ua=function(){return{en:this.enabled,v:q(this.Fc),t:q(this.target),is_m:this.Lb,c_spd:this.Td,rd:this.dg,pp:q(this.He),ma:q(this.Be),ms:q(this.Uh),lt:this.Gl}};u.ab=function(d){this.enabled=
d.en;this.Fc=d.v;this.target=d.t;this.Lb=d.is_m;this.Td=d.c_spd;this.dg=d.rd;this.He=d.pp;this.Be=d.ma;this.Uh=d.ms;this.Gl=d.lt};p.k=new n;n.prototype.Xv=function(){return this.Fh};n.prototype.ok=function(){return this.enabled&&this.Lb};n.prototype.qw=function(){return this.Fh};p.u=new l;l.prototype.le=function(d){this.enabled=1===d};l.prototype.jn=function(d){this.Fc.max=d;this.fi(null)};l.prototype.vk=function(d){this.Fc.acc=d;this.fi(null)};l.prototype.Rw=function(d,a){this.GB(d,a)};l.prototype.Hw=
function(d){this.fi(d)};l.prototype.kh=function(){this.Lb=!1};p.J=new function(){}})();function Qc(d){this.b=d}
(function(){var d=Qc.prototype;d.R=function(d){this.behavior=d;this.b=d.b};d.R.prototype.I=function(){};d.L=function(d,n){this.type=d;this.behavior=d.behavior;this.i=n;this.b=d.b;this.mode=0};d=d.L.prototype;d.I=function(){this.mode=this.q[0]};d.Ma=function(){};d.dh=function(){this.i.ba();var d=this.i.U,n=this.i.p.ib,l=!1;0===this.mode?(0>this.i.x&&(this.i.x=0,l=!0),0>this.i.y&&(this.i.y=0,l=!0),this.i.x>n.width&&(this.i.x=n.width,l=!0),this.i.y>n.height&&(this.i.y=n.height,l=!0)):(0>d.left&&(this.i.x-=
d.left,l=!0),0>d.top&&(this.i.y-=d.top,l=!0),d.right>n.width&&(this.i.x-=d.right-n.width,l=!0),d.bottom>n.height&&(this.i.y-=d.bottom-n.height,l=!0));l&&this.i.G()}})();function Rc(d){this.b=d;this.Xp=this.zm=this.Zj=this.Wp=0}
(function(){function d(){}var q=Rc.prototype;q.R=function(d){this.behavior=d;this.b=d.b};q.R.prototype.I=function(){};q.L=function(d,n){this.type=d;this.behavior=d.behavior;this.i=n;this.b=d.b};var n=q.L.prototype;n.I=function(){this.enabled=0!==this.q[0]};n.Ua=function(){return{smg:this.behavior.Wp,ss:this.behavior.Zj,se:this.behavior.zm,smd:this.behavior.Xp}};n.ab=function(d){this.behavior.Wp=d.smg;this.behavior.Zj=d.ss;this.behavior.zm=d.se;this.behavior.Xp=d.smd};n.Ma=function(){};n.dh=function(){if(this.enabled){var d=
this.behavior.Cj.md(),n=0,q=0,m,a,c,f=0;m=0;for(a=d.length;m<a;m++){a:{c=d[m];for(var e=void 0,b=void 0,h=void 0,e=0,b=c.V.length;e<b;++e)if(h=c.V[e],h.behavior instanceof Rc){c=h;break a}c=null}c&&c.enabled&&(n+=d[m].x,q+=d[m].y,++f)}d=this.i.p.ib;a=this.b.Ab.ta;c=m=0;a>=this.behavior.Zj&&a<this.behavior.zm&&(m=this.behavior.Wp*Math.min(this.b.eh,1),0===this.behavior.Xp&&(m*=1-(a-this.behavior.Zj)/(this.behavior.zm-this.behavior.Zj)),a=Math.random()*Math.PI*2,c=Math.random()*m,m=Math.cos(a)*c,c*=
Math.sin(a));d.Op(n/f+m);d.Pp(q/f+c)}};d.prototype.le=function(d){this.enabled=0!==d};q.u=new d})();function xc(d){this.b=d;this.ip=[]}
(function(){function d(){}function q(){}function n(){}var l=xc.prototype;l.R=function(d,l){this.behavior=d;this.b=d.b;-1===this.behavior.ip.indexOf(l)&&this.behavior.ip.push(l)};l.R.prototype.I=function(){};l.L=function(d,l){this.type=d;this.behavior=d.behavior;this.i=l;this.b=d.b};var p=l.L.prototype;p.I=function(){this.i.F.shadowcasterEnabled=0!==this.q[0];this.i.F.shadowcasterHeight=this.q[1];this.i.F.shadowcasterTag=this.q[2]};p.Ma=function(){};d.prototype.dv=function(d,l){return mc(this.i.F.shadowcasterHeight,
d,l)};l.k=new d;q.prototype.le=function(d){this.i.F.shadowcasterEnabled=!!d};q.prototype.Lw=function(d){this.i.F.shadowcasterHeight!==d&&(this.i.F.shadowcasterHeight=d,this.b.Ea=!0)};l.u=new q;n.prototype.sv=function(d){d.N(this.i.F.shadowcasterHeight)};l.J=new n})();function wc(d){this.b=d}
(function(){function d(){}var q=wc.prototype;q.R=function(d){this.behavior=d;this.b=d.b};q.R.prototype.I=function(){};q.L=function(d,n){this.type=d;this.behavior=d.behavior;this.i=n;this.b=d.b};var n=q.L.prototype;n.I=function(){this.i.F.solidEnabled=0!==this.q[0]};n.Ma=function(){};q.k=new function(){};d.prototype.le=function(d){this.i.F.solidEnabled=!!d};q.u=new d})();function Sc(d){this.b=d}
(function(){var d=Sc.prototype;d.R=function(d){this.behavior=d;this.b=d.b};d.R.prototype.I=function(){};d.L=function(d,n){this.type=d;this.behavior=d.behavior;this.i=n;this.b=d.b};d=d.L.prototype;d.I=function(){this.mode=this.q[0]};d.Ma=function(){var d=this.i;d.ba();var n=d.U,l=d.p,p=l.ib,u=0,m=0,a=0,c=0;0===this.mode?(m=p.width,c=p.height):(u=l.xa,m=l.Ba,a=l.ya,c=l.Aa);n.right<u?(d.x=m-1+(d.x-n.left),d.G()):n.left>m?(d.x=u+1-(n.right-d.x),d.G()):n.bottom<a?(d.y=c-1+(d.y-n.top),d.G()):n.top>c&&(d.y=
a+1-(n.bottom-d.y),d.G())}})();
function vc(){return[zc,Ac,Bc,yc,Cc,Z,Dc,Y,Ec,Hc,Gc,Fc,Ic,Lc,Qc,Nc,Kc,Rc,Sc,wc,Pc,Oc,xc,Jc,T.prototype.k.zv,T.prototype.k.Jq,Z.prototype.u.Ru,Z.prototype.u.gx,Z.prototype.u.hx,Z.prototype.u.Vw,Dc.prototype.u.Iw,Y.prototype.u.lv,Z.prototype.k.Rq,T.prototype.k.iv,Z.prototype.u.Yw,T.prototype.k.zq,Z.prototype.k.Tq,Z.prototype.u.Xw,Z.prototype.k.Sq,Z.prototype.k.Av,T.prototype.u.Kw,Y.prototype.u.Mw,Z.prototype.J.Lv,Z.prototype.u.Xu,Y.prototype.u.Fw,Y.prototype.k.uf,Z.prototype.J.ww,Y.prototype.k.gv,Z.prototype.u.tv,
Z.prototype.k.Fq,Z.prototype.u.Gw,Dc.prototype.J.nn,Dc.prototype.J.pn,Cc.prototype.k.Bv,T.prototype.J.IB,Dc.prototype.k.xv,T.prototype.k.cv,T.prototype.J.Tz,Lc.prototype.u.Zw,Cc.prototype.k.Gq,T.prototype.J.n,Y.prototype.J.nn,Y.prototype.J.pn,T.prototype.J.Mx,T.prototype.J.Xx,Y.prototype.u.Wq,T.prototype.J.cos,T.prototype.J.sin,Ic.prototype.u.Xq,T.prototype.u.Tw,Y.prototype.J.mx,T.prototype.k.mv,Lc.prototype.k.ok,zc.prototype.k.Fv,zc.prototype.u.Play,zc.prototype.u.kh,T.prototype.k.nv,Y.prototype.u.Bq,
Ec.prototype.u.Bq,Ec.prototype.u.kn,Z.prototype.J.vw,T.prototype.J.EA,Ec.prototype.u.Wq,Y.prototype.u.Sw,Y.prototype.k.yw,Nc.prototype.k.rv,T.prototype.k.pv,Y.prototype.u.ln,Y.prototype.k.wv,Y.prototype.u.ix,T.prototype.u.nx,Y.prototype.k.uv,Y.prototype.u.Dw,Y.prototype.u.Ew,Y.prototype.u.Xq,Y.prototype.u.Cw,Y.prototype.J.Uu,Y.prototype.u.Pw,T.prototype.J.max,T.prototype.u.jv,Y.prototype.u.ax,T.prototype.u.Nw,Z.prototype.k.Oq,T.prototype.J.random,T.prototype.J.uA,T.prototype.J.tA,Z.prototype.J.xw,
yc.prototype.u.CallFunction,yc.prototype.k.sk,yc.prototype.J.uw,Z.prototype.J.Iv,Z.prototype.J.Jv,Z.prototype.J.Hv,Y.prototype.k.Dv,Y.prototype.u.cx,Y.prototype.u.Su,Z.prototype.k.Ww,T.prototype.k.kx,T.prototype.k.zw,T.prototype.J["int"],Y.prototype.u.Qw,Lc.prototype.u.jn,Kc.prototype.k.hv,Y.prototype.u.$w,Kc.prototype.u.wk,T.prototype.u.Tu,Y.prototype.k.Sv,Kc.prototype.u.vk,Fc.prototype.u.hn,Fc.prototype.u.Vq,Bc.prototype.u.hn,Z.prototype.k.Ev,Ec.prototype.u.Jw,T.prototype.J.sB,Fc.prototype.k.Uq,
Fc.prototype.k.yq,Bc.prototype.u.le,Bc.prototype.k.qk,Fc.prototype.J.Text,T.prototype.u.qv,Oc.prototype.k.Nq,Oc.prototype.u.bx,Oc.prototype.u.wk,Oc.prototype.u.Bw,Oc.prototype.k.Dq,Oc.prototype.u.Zu,Oc.prototype.u.kh,Pc.prototype.u.Rw,Pc.prototype.u.Hw,Pc.prototype.u.vk,Oc.prototype.k.ok,Pc.prototype.u.kh,Oc.prototype.u.ov,Y.prototype.k.Cv,Y.prototype.u.Aw,Y.prototype.u.Ow]};
